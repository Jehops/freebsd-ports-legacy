--- device/lib/pic16/Makefile.rules.orig	Mon May  1 22:47:12 2006
+++ device/lib/pic16/Makefile.rules	Thu Jun 29 00:40:44 2006
@@ -58,7 +58,7 @@
 ifneq (,$(strip $(SUBDIRS)))
 recurse : force
 	$(Q)+for DIR in $(SUBDIRS) ; do \
-		$(GREP) "^$${ARCH}$$" "$(srcdir)/$${DIR}.ignore" &> /dev/null || ( \
+		$(GREP) "^$${PICARCH}$$" "$(srcdir)/$${DIR}.ignore" 2>&1 /dev/null || ( \
 			$(MKDIR) "$(top_builddir)$(builddir)/$${DIR}"; \
 			$(MAKE) -C "$${DIR}" builddir="$(builddir)/$${DIR}" $(MAKECMDGOALS); \
 		) || exit 1; \
