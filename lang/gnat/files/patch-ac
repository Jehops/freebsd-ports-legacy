--- gcc/ada/Makefile.in.orig	Tue May 17 09:22:45 2005
+++ gcc/ada/Makefile.in	Mon Nov 28 10:24:38 2005
@@ -893,7 +893,7 @@
   mlib-tgt.adb<mlib-tgt-linux.adb
   GNATLIB_SHARED = gnatlib-shared-dual
 
-  THREADSLIB= -lc_r
+  THREADSLIB= $(PTHREAD_LIBS)
   GMEM_LIB = gmemlib
   PREFIX_OBJS = $(PREFIX_REAL_OBJS)
   LIBRARY_VERSION := $(LIB_VERSION)
@@ -1410,7 +1410,7 @@
 # subdirectory and copied.
 LIBGNAT_SRCS = ada.h adaint.c adaint.h argv.c cio.c cstreams.c \
   errno.c exit.c cal.c ctrl_c.c \
-  raise.h raise.c sysdep.c aux-io.c init.c initialize.c seh_init.c \
+  raise.h raise.c sysdep.c aux-io.c init.c initialize.c seh_init.c types.h \
   final.c tracebak.c tb-alvms.c tb-alvxw.c expect.c mkdir.c socket.c gsocket.h \
   $(EXTRA_LIBGNAT_SRCS)
 
