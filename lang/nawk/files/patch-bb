*** main.c.orig	Mon Oct 19 18:49:03 1998
--- main.c	Wed Jan 13 17:51:59 1999
***************
*** 27,32 ****
--- 27,33 ----
  #define DEBUG
  #include <stdio.h>
  #include <ctype.h>
+ #include <locale.h>
  #include <stdlib.h>
  #include <string.h>
  #include <signal.h>
***************
*** 55,61 ****
  	char *fs = NULL, *marg;
  	int temp;
  
! 	cmdname = argv[0];
  	if (argc == 1) {
  		fprintf(stderr, "Usage: %s [-f programfile | 'program'] [-Ffieldsep] [-v var=value] [files]\n", cmdname);
  		exit(1);
--- 56,67 ----
  	char *fs = NULL, *marg;
  	int temp;
  
! 	setlocale(LC_ALL, "");
! 
! 	if ((cmdname = strrchr(argv[0], '/')) != NULL)
! 		cmdname++;
! 	else
! 		cmdname = argv[0];
  	if (argc == 1) {
  		fprintf(stderr, "Usage: %s [-f programfile | 'program'] [-Ffieldsep] [-v var=value] [files]\n", cmdname);
  		exit(1);
