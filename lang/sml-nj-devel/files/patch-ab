--- config/install.sh.orig	Wed May 23 03:36:12 2001
+++ config/install.sh	Mon Jun 18 14:40:02 2001
@@ -408,6 +408,28 @@
 }
 
 #
+# do_patch patch-file
+# apply a patch file
+do_patch() {
+	patchfile=$FILESDIR/$1
+
+	if [ ! -r $patchfile ]; then
+		echo "$this: !!! patch file $patchfile not found."
+		exit 1;
+	fi
+
+	if [ ! -f $CONFIGDIR/.patch_$1 ]; then 
+		$PATCH $PATCH_ARGS < $patchfile || {\
+			echo "$this: !!! patch file $patchfile failed to patch."
+			exit 1;
+		}
+		echo > $CONFIGDIR/.patch_$1
+	else
+		echo "$this: patch $patchfile already installed."
+	fi
+}
+
+#
 # create the various sub directories
 #
 for dir in $BINDIR $HEAPDIR $RUNDIR $LIBDIR $SRCDIR ; do
@@ -519,6 +541,7 @@
 # build the run-time system
 #
 unpack "run-time" $SRCDIR runtime runtime
+do_patch extra-patch-global-names
 if [ -x $RUNDIR/run.$ARCH-$OPSYS ]; then
     echo $this: Run-time system already exists.
 else
