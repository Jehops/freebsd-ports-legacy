--- Makefile.orig	Sun Mar 24 14:34:39 2002
+++ Makefile	Fri Jun  7 11:11:05 2002
@@ -28,20 +28,20 @@
 #
 # Pick your C++ compiler. 
 #
-CC=g++
+CC?=g++
 # CC=gcc
 
 #
 # Pick your YACC processor
 #
-YACC = bison -y
-# YACC = yacc
+# YACC = bison -y
+YACC ?= yacc
 
 #
 # Define the FLEX processor
 #    note - lex will not work
 #
-FLEX = flex
+FLEX ?= flex
 
 # Link in any necessary C++ libraries
 #
@@ -50,19 +50,20 @@
 
 
 # installation information
-BINDIR=/usr/local/bin
-MANDIR=/usr/local/man/man1
+PREFIX?=/usr/local
+BINDIR=$(PREFIX)/bin
+MANDIR=$(PREFIX)/man/man1
 MANEXT=1
 
 
 # other commands
-CP=cp -f
-MKDIR=mkdir
-MV=mv -f
-RM=rm -f
+CP?=cp -f
+MKDIR?=mkdir
+MV?=mv -f
+RM?=rm -f
 
 # CFLAGS
-CFLAGS = -pipe -Iplatform -Ircxlib -Inqc -Icompiler -Wall -Wstrict-prototypes -Wmissing-prototypes
+CFLAGS += -Iplatform -Ircxlib -Inqc -Icompiler
 
 USBOBJ = rcxlib/RCX_USBTowerPipe_none.o
 
@@ -78,9 +79,6 @@
 ifeq ($TARGET),solaris)
   # Solaris
   CFLAGS += -DSOLARIS
-else
-  # default - works for Linux
-  CFLAGS += -O6
 endif
 endif
 
@@ -89,7 +87,7 @@
 # wants to redefine the default serial name
 #
 ifndef DEFAULT_SERIAL_NAME
-  DEFAULT_SERIAL_NAME = "/dev/ttyS0"
+  DEFAULT_SERIAL_NAME = "/dev/cuaa0"
 endif
 CFLAGS += -DDEFAULT_SERIAL_NAME='$(DEFAULT_SERIAL_NAME)'
 
