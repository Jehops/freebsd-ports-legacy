# http://rt.perl.org/rt3/Public/Bug/Display.html?id=51636
# http://perl5.git.perl.org/perl.git/commit/b63c7c552a2e9cf2b2c5eb492358b8567fd16179
diff --git a/av.c b/av.c
index e6c26bc..67ffad9 100644
--- av.c
+++ av.c
@@ -437,7 +437,7 @@ Perl_av_clear(pTHX_ register AV *av)
     /* Give any tie a chance to cleanup first */
     if (SvRMAGICAL(av)) {
 	const MAGIC* const mg = SvMAGIC(av);
-	if (PL_delaymagic && mg->mg_type == PERL_MAGIC_isa)
+	if (PL_delaymagic && mg && mg->mg_type == PERL_MAGIC_isa)
 	    PL_delaymagic |= DM_ARRAY;
         else
 	    mg_clear((SV*)av); 
