--- configure.orig	Mon Sep  5 13:16:17 2005
+++ configure	Fri Oct 14 07:48:01 2005
@@ -2890,7 +2890,7 @@
   save_LIBS=$LIBS
   
 if test -n "$ac_cv_pthreads_lib"; then
-  LIBS="$LIBS -l$ac_cv_pthreads_lib"
+  LIBS="$LIBS $ac_cv_pthreads_lib"
 fi
 
 if test -n "$ac_cv_pthreads_cflags"; then
@@ -11285,7 +11285,7 @@
 if test "$enable_maintainer_zts" = "yes"; then
   
 if test -n "$ac_cv_pthreads_lib"; then
-  LIBS="$LIBS -l$ac_cv_pthreads_lib"
+  LIBS="$LIBS $ac_cv_pthreads_lib"
 fi
 
 if test -n "$ac_cv_pthreads_cflags"; then
@@ -11302,8 +11302,6 @@
   case $host_alias in
   *solaris*)
     PTHREAD_FLAGS="-D_POSIX_PTHREAD_SEMANTICS -D_REENTRANT";;
-  *freebsd*)
-    PTHREAD_FLAGS="-D_REENTRANT -D_THREAD_SAFE";;
   *linux*)
     PTHREAD_FLAGS=-D_REENTRANT;;
   *aix*)
@@ -88384,6 +88382,10 @@
 #line 88385 "configure"
 #include "confdefs.h"
 
+#if HAVE_UNISTD_H
+#include <unistd.h>
+#endif
+
 #if HAVE_CRYPT_H
 #include <crypt.h>
 #endif
@@ -88441,6 +88443,10 @@
 #line 88442 "configure"
 #include "confdefs.h"
 
+#if HAVE_UNISTD_H
+#include <unistd.h>
+#endif
+
 #if HAVE_CRYPT_H
 #include <crypt.h>
 #endif
@@ -88498,6 +88504,10 @@
 #line 88499 "configure"
 #include "confdefs.h"
 
+#if HAVE_UNISTD_H
+#include <unistd.h>
+#endif
+
 #if HAVE_CRYPT_H
 #include <crypt.h>
 #endif
@@ -88593,6 +88603,10 @@
 #line 88594 "configure"
 #include "confdefs.h"
 
+#if HAVE_UNISTD_H
+#include <unistd.h>
+#endif
+
 #if HAVE_CRYPT_H
 #include <crypt.h>
 #endif
@@ -101571,7 +101585,7 @@
   save_LIBS=$LIBS
   
 if test -n "$ac_cv_pthreads_lib"; then
-  LIBS="$LIBS -l$ac_cv_pthreads_lib"
+  LIBS="$LIBS $ac_cv_pthreads_lib"
 fi
 
 if test -n "$ac_cv_pthreads_cflags"; then
