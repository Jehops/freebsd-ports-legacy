--- configure.orig	Sun Apr  3 11:42:50 2005
+++ configure	Wed Apr  6 16:41:26 2005
@@ -2805,7 +2805,7 @@
   save_LIBS=$LIBS
   
 if test -n "$ac_cv_pthreads_lib"; then
-  LIBS="$LIBS -l$ac_cv_pthreads_lib"
+  LIBS="$LIBS $ac_cv_pthreads_lib"
 fi
 
 if test -n "$ac_cv_pthreads_cflags"; then
@@ -11201,7 +11201,7 @@
 if test "$enable_maintainer_zts" = "yes"; then
   
 if test -n "$ac_cv_pthreads_lib"; then
-  LIBS="$LIBS -l$ac_cv_pthreads_lib"
+  LIBS="$LIBS $ac_cv_pthreads_lib"
 fi
 
 if test -n "$ac_cv_pthreads_cflags"; then
@@ -11218,8 +11218,6 @@
   case $host_alias in
   *solaris*)
     PTHREAD_FLAGS="-D_POSIX_PTHREAD_SEMANTICS -D_REENTRANT";;
-  *freebsd*)
-    PTHREAD_FLAGS="-D_REENTRANT -D_THREAD_SAFE";;
   *linux*)
     PTHREAD_FLAGS=-D_REENTRANT;;
   *aix*)
@@ -80628,6 +80626,10 @@
 #line 80629 "configure"
 #include "confdefs.h"
 
+#if HAVE_UNISTD_H
+#include <unistd.h>
+#endif
+
 #if HAVE_CRYPT_H
 #include <crypt.h>
 #endif
@@ -80685,6 +80687,10 @@
 #line 80686 "configure"
 #include "confdefs.h"
 
+#if HAVE_UNISTD_H
+#include <unistd.h>
+#endif
+
 #if HAVE_CRYPT_H
 #include <crypt.h>
 #endif
@@ -80742,6 +80748,10 @@
 #line 80743 "configure"
 #include "confdefs.h"
 
+#if HAVE_UNISTD_H
+#include <unistd.h>
+#endif
+
 #if HAVE_CRYPT_H
 #include <crypt.h>
 #endif
@@ -80837,6 +80847,10 @@
 #line 80838 "configure"
 #include "confdefs.h"
 
+#if HAVE_UNISTD_H
+#include <unistd.h>
+#endif
+
 #if HAVE_CRYPT_H
 #include <crypt.h>
 #endif
@@ -92387,7 +92401,7 @@
   save_LIBS=$LIBS
   
 if test -n "$ac_cv_pthreads_lib"; then
-  LIBS="$LIBS -l$ac_cv_pthreads_lib"
+  LIBS="$LIBS $ac_cv_pthreads_lib"
 fi
 
 if test -n "$ac_cv_pthreads_cflags"; then
