#! /bin/sh
#
# $FreeBSD$

umask 022

plist_src=${PKGDIR}/${PLIST##*/}

# Generate a PLIST, duplicating certain lines with the major version
# number tacked on the end.
sed -e "/\.so\$/p" \
    -e "s/\.so\$/&.${MAJOR}/" \
    -e "/m3build\$/p" \
    -e "s/m3build\$/&-${MAJOR}/" \
    ${plist_src} > ${PLIST}

# Also generate a "PLIST.real" file which includes the minor version
# numbers on shared library names if the object format is a.out.
if [ "${PORTOBJFORMAT}" = aout ]; then
    sed -e "s/\.so\.${MAJOR}\$/&.0/" ${PLIST} > ${PLIST}.real
else
    cp ${PLIST} ${PLIST}.real
fi
