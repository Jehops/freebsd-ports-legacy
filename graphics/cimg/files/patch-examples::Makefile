--- examples/Makefile.orig	2008-06-26 14:31:17.000000000 +0200
+++ examples/Makefile	2008-06-28 13:54:24.000000000 +0200
@@ -75,15 +75,15 @@
 # Set correct variables and paths
 #---------------------------------
 CIMG_VERSION = 1.29
-X11PATH      = /usr/X11R6
-CC           = g++
+#X11PATH      = /usr/X11R6
+#CC           = g++
 
 ifeq ($(CC),icc)
 CFLAGS       = -ansi
 LDFLAGS      = -lpthread
 else
-CFLAGS       = -Wall -W -ansi -pedantic
-LDFLAGS      = -lm -lpthread
+#CFLAGS       = -Wall -W -ansi -pedantic
+#LDFLAGS      = -lm -lpthread
 endif
 
 #--------------------------------------------------
@@ -101,7 +101,7 @@
 ifeq ($(CC),icc)
 CIMG_OPT_FLAGS = -O3 -ipo -no-prec-div
 else
-CIMG_OPT_FLAGS = -O3 -ffast-math
+CIMG_OPT_FLAGS = -ffast-math
 endif
 
 # Flags to enable OpenMP support.
@@ -146,10 +146,10 @@
 CIMG_FFTW3_FLAGS = -Dcimg_use_fftw3 -lfftw3
 
 # Flags to enable the use of LAPACK routines for matrix computation
-CIMG_LAPACK_FLAGS = -Dcimg_use_lapack -lblas -lg2c -llapack
+CIMG_LAPACK_FLAGS = -Dcimg_use_lapack -lblas -llapack
 
 # Flags to enable the use of the Board library
-CIMG_BOARD_FLAGS = -Dcimg_use_board -I/usr/include/board -lboard
+CIMG_BOARD_FLAGS = -Dcimg_use_board -I$(LOCALBASE)/board -lboard
 
 # Flags to compile on Solaris
 CIMG_SOLARIS_FLAGS = -R$(X11PATH)/lib -lrt -lnsl -lsocket
@@ -157,6 +157,9 @@
 # Flags to compile on MacOSX with Carbon-based display support
 CIMG_CARBON_FLAGS = -Dcimg_display=3 -framework Carbon
 
+# Flags to compile on FreeBSD
+CIMG_FREEBSD_FLAGS = -ansi -ffast-math  -I$(X11PATH)/include $(EXTRA_FLAGS) -lX11 -L$(X11PATH)/lib
+
 # Set default compilation flags.
 # Uncomment lines here, if you want to customize your default configuration
 CIMG_DEFAULT_FLAGS = $(CIMG_VT100_FLAGS) \
@@ -164,15 +167,15 @@
                      $(CIMG_XSHM_FLAGS) \
                      $(CIMG_XRANDR_FLAGS) \
 #                     $(CIMG_OPENMP_FLAGS) \
-#                     $(CIMG_PNG_FLAGS) \
-#                     $(CIMG_JPEG_FLAGS) \
-#                     $(CIMG_TIFF_FLAGS) \
+                     $(CIMG_PNG_FLAGS) \
+                     $(CIMG_JPEG_FLAGS) \
+                     $(CIMG_TIFF_FLAGS) \
 #  		      $(CIMG_FFMPEG_FLAGS) \
-#                     $(CIMG_ZLIB_FLAGS) \
-#                     $(CIMG_MAGICK_FLAGS) \
-#                     $(CIMG_FFTW3_FLAGS)
-#		      $(CIMG_LAPACK_FLAGS)
-#                     $(CIMG_BOARD_FLAGS)
+                     $(CIMG_ZLIB_FLAGS) \
+                     $(CIMG_MAGICK_FLAGS) \
+                     $(CIMG_FFTW3_FLAGS) \
+#		      $(CIMG_LAPACK_FLAGS) \
+                     $(CIMG_BOARD_FLAGS)
 
 # Set full compilation flags.
 CIMG_FULL_FLAGS = $(CIMG_OPT_FLAGS) \
@@ -184,12 +187,12 @@
                   $(CIMG_PNG_FLAGS) \
                   $(CIMG_JPEG_FLAGS) \
                   $(CIMG_ZLIB_FLAGS) \
+                  $(CIMG_MAGICK_FLAGS) \
+                  $(CIMG_BOARD_FLAGS) \
+                  $(CIMG_FFTW3_FLAGS) \
 #		  $(CIMG_FFMPEG_FLAGS) \
-#                  $(CIMG_MAGICK_FLAGS) \
-#                  $(CIMG_OPENMP_FLAGS) \
-#                  $(CIMG_FFTW3_FLAGS) \
 #	           $(CIMG_LAPACK_FLAGS) \
-#                  $(CIMG_BOARD_FLAGS)
+#                  $(CIMG_OPENMP_FLAGS)
 
 #-------------------------
 # Define Makefile entries
@@ -234,7 +237,7 @@
 all: $(CIMG_FILES)
 
 clean:
-	rm -rf *.app *.exe *~ jpeg_buffer greycstoration4gimp $(CIMG_FILES)
+	rm -rf *.app *.exe *~ jpeg_buffer greycstoration4gimp $(CIMG_FILES) Makefile.orig
 
 greycstoration4gimp: greycstoration4gimp.cpp
 	@echo
@@ -254,6 +257,12 @@
 Mlinux:
 	make "ARCHFLAGS=$(CIMG_FULL_FLAGS)" "STRIP_EXE=1" all jpeg_buffer greycstoration4gimp
 
+# FreeBSD targets
+dFreeBSD:
+	make "ARCHFLAGS=$(CIMG_FREEBSD_FLAGS) $(CIMG_DEFAULT_FLAGS)" all
+
+oFreeBSD:
+	make "ARCHFLAGS=$(CIMG_FREEBSD_FLAGS) $(CIMG_FULL_FLAGS)" all
 # Sun Solaris targets
 solaris:
 	make "ARCHFLAGS=$(CIMG_SOLARIS_FLAGS) $(CIMG_DEFAULT_FLAGS)" all
