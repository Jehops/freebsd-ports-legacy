--- Makefile.X11.orig	Mon Apr 21 07:04:00 2003
+++ Makefile.X11	Sun Sep 14 16:58:01 2003
@@ -12,11 +12,12 @@
 INCDIR = ../include
 LIBDIR = ../lib
 
-GL_LIBS = -L$(LIBDIR) -lglut -lGLU -lGL $(APP_LIB_DEPS)
+GL_LIBS = -L$(X11BASE)/lib -lglut -lGLU -lGL $(APP_LIB_DEPS) ${PTHREAD_LIBS}
 
-OSMESA_LIBS = -L$(LIBDIR) -lglut -lOSMesa -lGLU -lGL $(APP_LIB_DEPS)
+OSMESA_LIBS = -L$(X11BASE)/lib -lglut -lOSMesa -lGLU -lGL $(APP_LIB_DEPS) ${PTHREAD_LIBS}
 
 LIB_DEP = $(LIBDIR)/$(GL_LIB) $(LIBDIR)/$(GLU_LIB) $(LIBDIR)/$(GLUT_LIB)
+CFLAGS += -DGL_ARB_point_parameters=0 ${PTHREAD_CFLAGS}
 
 PROGS = bounce \
 	clearspd \
@@ -56,8 +57,8 @@
 	texobj \
 	trispd \
 	tunnel \
-	tunnel2 \
-	winpos
+	tunnel2
+#	winpos
 
 
 ##### RULES #####
@@ -67,12 +68,12 @@
 
 
 # make executable from .c file:
-.c: $(LIB_DEP)
-	$(CC) -I$(INCDIR) -I../util $(CFLAGS) $< $(GL_LIBS) -o $@
+.c:
+	$(CC) -I$(X11BASE)/include -I../util $(CFLAGS) $< $(GL_LIBS) -o $@
 
 # special case: need the -lOSMesa library:
 osdemo: osdemo.c
-	$(CC) -I$(INCDIR) $(CFLAGS) osdemo.c $(OSMESA_LIBS) -o $@
+	$(CC) -I$(X11BASE)/include $(CFLAGS) osdemo.c $(OSMESA_LIBS) -o $@
 
 
 ##### TARGETS #####
@@ -97,6 +98,11 @@
 readtex.h:
 	cp ../util/readtex.h .
 
+install:
+	@for prog in $(PROGS) ;	do		\
+		install $$prog ${PREFIX}/bin;	\
+	done
+	
 
 # execute all programs
 exec: $(PROGS)
