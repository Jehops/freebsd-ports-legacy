--- Makefile.orig	Sat Aug 18 02:05:55 2001
+++ Makefile	Tue Sep 18 14:44:34 2001
@@ -1,13 +1,13 @@
-PYINCDIR = /usr/local/include/python2.0
-PYLIBDIR = /usr/local/lib/python2.0
+PYINCDIR = ${LOCALBASE}/include/${PYTHON_VERSION}
+PYLIBDIR = ${LOCALBASE}/lib/${PYTHON_VERSION}
 
 #PYINCDIR = /usr/include/python1.5
 #PYLIBDIR = /usr/lib/python1.5
 
-all:
+all: mingcmodule.so
 
 mingcmodule.so: ming_wrap.o
-	gcc -g -Wall -shared -o mingcmodule.so ming_wrap.o -lming
+	${CC} -g -Wall -shared -o mingcmodule.so ming_wrap.o -L${LOCALBASE}/lib -lming
 
 mingc.pyd: ming_wrap.o
 	dllwrap --dllname mingc.pyd --driver-name gcc --def mingc.def \
@@ -15,7 +15,7 @@
 	  --target=i386-mingw32 -Llib/ -lpython15
 
 ming_wrap.o: ming_wrap.c
-	gcc -g -Wall -I .. -I ${PYINCDIR} -fpic -c ming_wrap.c
+	${CC} ${CFLAGS} -g -Wall -I .. -I ${PYINCDIR} -fpic -c ming_wrap.c
 
 ../libming.a:
 	cd ..; make static
@@ -27,4 +27,4 @@
 	rm -f mingcmodule.so core *~ *.o ming.pyc
 
 install:
-	cp mingcmodule.so ming.py ${PYLIBDIR}/site-packages
+	${BSD_INSTALL_DATA} mingcmodule.so ming.py ${PYLIBDIR}/site-packages
