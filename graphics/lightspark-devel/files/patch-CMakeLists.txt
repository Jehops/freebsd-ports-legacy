--- CMakeLists.txt.orig	2010-05-17 21:55:09.000000000 +0400
+++ CMakeLists.txt	2010-05-18 21:56:10.000000000 +0400
@@ -55,21 +55,12 @@
 LINK_LIBRARIES(${LLVM_LIBS_CORE} ${LLVM_LIBS_JIT})
 LINK_LIBRARIES(${SDL_LIBRARY})
 LINK_LIBRARIES(${CURL_LIBRARIES})
+LINK_DIRECTORIES(/usr/local/lib)
 
 ENABLE_LANGUAGE(ASM-NASM)
 
-SET(CMAKE_CXX_FLAGS "-Wall -Wnon-virtual-dtor -Woverloaded-virtual -pipe -lrt -ldl")
-SET(CMAKE_CXX_FLAGS_DEBUG "-g -O0 -D_GLIBCXX_NO_DEBUG")
-SET(CMAKE_CXX_FLAGS_PROFILE "-g -pg -O2 -DNDEBUG")
-SET(CMAKE_CXX_FLAGS_RELEASE "-O3 -DNDEBUG")
-SET(CMAKE_CXX_FLAGS_DEBIAN "-O2 -DNDEBUG")
-
 ADD_DEFINITIONS(-DDATADIR="${CMAKE_INSTALL_PREFIX}/share/lightspark")
 
-IF(NOT CMAKE_BUILD_TYPE)
-	SET(CMAKE_BUILD_TYPE "Debug")
-ENDIF()
-
 
 SET(LIBSPARK_SOURCES swf.cpp swftypes.cpp tags.cpp geometry.cpp actions.cpp frame.cpp input.cpp streams.cpp tags_stub.cpp logger.cpp vm.cpp asobjects.cpp abc.cpp abc_codesynt.cpp abc_opcodes.cpp flashdisplay.cpp flashevents.cpp textfile.cpp thread_pool.cpp flashgeom.cpp flashnet.cpp flashsystem.cpp flashutils.cpp compat.cpp abc_interpreter.cpp flashexternal.cpp flashtext.cpp flashmedia.cpp flv.cpp netutils.cpp timer.cpp decoder.cpp threading.cpp flashxml.cpp)
 IF(${CMAKE_SYSTEM_PROCESSOR} MATCHES "i[3-6]86")
