--- src/mesa/drivers/dri/i915/intel_screen.c.orig	Fri Apr  6 16:49:46 2007
+++ src/mesa/drivers/dri/i915/intel_screen.c	Fri Apr  6 16:50:04 2007
@@ -340,6 +340,7 @@
    case PCI_CHIP_I915_G:
    case PCI_CHIP_I915_GM:
    case PCI_CHIP_I945_G:
+   case PCI_CHIP_I945_GM:
       return i915CreateContext( mesaVis, driContextPriv, 
 			       sharedContextPrivate );
  
--- src/mesa/drivers/dri/i915/intel_context.c.orig	Fri Apr  6 16:45:51 2007
+++ src/mesa/drivers/dri/i915/intel_context.c	Fri Apr  6 16:46:20 2007
@@ -118,6 +118,8 @@
 	 chipset = "Intel(R) 915GM"; break;
       case PCI_CHIP_I945_G:
 	 chipset = "Intel(R) 945G"; break;
+      case PCI_CHIP_I945_GM:
+	 chipset = "Intel(R) 945GM"; break;
       default:
 	 chipset = "Unknown Intel Chipset"; break;
       }
--- src/mesa/drivers/dri/i915/i915_texstate.c.orig	Fri Apr  6 16:48:21 2007
+++ src/mesa/drivers/dri/i915/i915_texstate.c	Fri Apr  6 16:48:48 2007
@@ -496,7 +496,8 @@
    }
 
 
-   if (i915->intel.intelScreen->deviceID == PCI_CHIP_I945_G)
+   if (i915->intel.intelScreen->deviceID == PCI_CHIP_I945_G ||
+       i915->intel.intelScreen->deviceID == PCI_CHIP_I945_GM)
       i945LayoutTextureImages( i915, tObj );	 
    else
       i915LayoutTextureImages( i915, tObj );
--- src/mesa/drivers/dri/i915/intel_context.h.orig	Fri Apr  6 16:49:05 2007
+++ src/mesa/drivers/dri/i915/intel_context.h	Fri Apr  6 16:49:31 2007
@@ -413,6 +413,7 @@
 #define PCI_CHIP_I915_G			0x2582
 #define PCI_CHIP_I915_GM		0x2592
 #define PCI_CHIP_I945_G			0x2772
+#define PCI_CHIP_I945_GM			0x27A2
 
 
 /* ================================================================
