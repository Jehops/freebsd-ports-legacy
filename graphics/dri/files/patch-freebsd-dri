--- configs/freebsd-dri.orig	Tue Nov 23 22:59:05 2004
+++ configs/freebsd-dri	Fri Dec 24 00:29:13 2004
@@ -6,19 +6,22 @@
 CONFIG_NAME = freebsd-dri
 
 # Compiler and flags
-CC = gcc
-CXX = g++
+CC = $(FBSDCC)
+CXX = $(FBSDCXX)
 WARN_FLAGS = -Wall
-OPT_FLAGS = -O
+OPT_FLAGS = $(FBSDCFLAGS)
 
-CFLAGS = -DDRI_NEW_INTERFACE_ONLY -Wmissing-prototypes -g -std=c99  -Wundef -fPIC -ffast-math -I/usr/local/include -I/usr/X11R6/include -I/usr/X11R6/include/X11/extensions
-CXXFLAGS = -DDRI_NEW_INTERFACE_ONLY -Wall -g -ansi -pedantic -fPIC
+CFLAGS = $(FBSDCFLAGS) -DDRI_NEW_INTERFACE_ONLY -Wmissing-prototypes -g \
+	-std=c9x -Wundef -fPIC -I$(LOCALBASE)/include \
+	-I$(X11BASE)/include -I$(X11BASE)/include/X11/extensions
+CXXFLAGS = $(FBSDCXXFLAGS) -DDRI_NEW_INTERFACE_ONLY -Wall -g -ansi -pedantic \
+	-fPIC
 
 ASM_SOURCES = 
 
 # Library/program dependencies
-DRI_LIB_DEPS = -lm -lpthread -lexpat
-GL_LIB_DEPS = -L/usr/X11R6/lib -lX11 -lXext -lm -pthread
+DRI_LIB_DEPS = -L$(LOCALBASE)/lib -lm -lexpat ${PTHREAD_LIBS}
+GL_LIB_DEPS = -L$(X11BASE) -lX11 -lXext -lm ${PTHREAD_LIBS}
 
 GLUT_LIB_DEPS = -L$(LIB_DIR) -L/usr/X11R6/lib -lGLU -lGL -lX11 -lXmu -lXt -lXi -lm
 GLW_LIB_DEPS = -L$(LIB_DIR) -L/usr/X11R6/lib -lGL -lXt -lXm -lX11
