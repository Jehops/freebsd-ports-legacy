diff -ru /a/gimp-0.99.1/app/app_procs.c app/app_procs.c
--- /a/gimp-0.99.1/app/app_procs.c	Wed Feb 26 06:00:43 1997
+++ app/app_procs.c	Fri Feb 28 21:25:57 1997
@@ -217,6 +217,8 @@
   menus_set_sensitive ("<Image>/File/Quit", FALSE);
 
   dialog = gtk_dialog_new ();
+  GTK_WINDOW(dialog)->type = GTK_WINDOW_DIALOG;
+
   gtk_window_set_title (GTK_WINDOW (dialog), "Really Quit?");
   gtk_window_position (GTK_WINDOW (dialog), GTK_WIN_POS_MOUSE);
 
diff -ru /a/gimp-0.99.1/app/channels_dialog.c app/channels_dialog.c
--- /a/gimp-0.99.1/app/channels_dialog.c	Wed Feb 26 06:00:43 1997
+++ app/channels_dialog.c	Fri Feb 28 21:30:04 1997
@@ -1812,6 +1812,8 @@
 
   /*  the dialog  */
   options->query_box = gtk_dialog_new ();
+  GTK_WINDOW(options->query_box)->type = GTK_WINDOW_DIALOG;
+
   gtk_window_set_title (GTK_WINDOW (options->query_box), "New Channel Options");
   gtk_window_position (GTK_WINDOW (options->query_box), GTK_WIN_POS_MOUSE);
 
@@ -1967,6 +1969,7 @@
 
   /*  the dialog  */
   options->query_box = gtk_dialog_new ();
+  GTK_WINDOW(options->query_box)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (options->query_box), "Edit Channel Attributes");
   gtk_window_position (GTK_WINDOW (options->query_box), GTK_WIN_POS_MOUSE);
 
diff -ru /a/gimp-0.99.1/app/fileops.c app/fileops.c
--- /a/gimp-0.99.1/app/fileops.c	Thu Feb 27 03:08:56 1997
+++ app/fileops.c	Fri Feb 28 21:45:28 1997
@@ -706,6 +708,7 @@
 
   overwrite_box->full_filename = filename;
   overwrite_box->obox = gtk_dialog_new ();
+  GTK_WINDOW(overwrite_box->obox)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (overwrite_box->obox), "File Exists!");
   gtk_window_position (GTK_WINDOW (overwrite_box->obox), GTK_WIN_POS_MOUSE);
 
diff -ru /a/gimp-0.99.1/app/gdisplay_ops.c app/gdisplay_ops.c
--- /a/gimp-0.99.1/app/gdisplay_ops.c	Thu Feb 27 02:21:41 1997
+++ app/gdisplay_ops.c	Fri Feb 28 21:28:29 1997
@@ -334,6 +334,7 @@
   menus_set_sensitive ("<Image>/File/Close", FALSE);
 
   mbox = gtk_dialog_new ();
+  GTK_WINDOW(mbox)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (mbox), image_name);
   gtk_window_position (GTK_WINDOW (mbox), GTK_WIN_POS_MOUSE);
   gtk_object_set_user_data (GTK_OBJECT (mbox), gdisp);
diff -ru /a/gimp-0.99.1/app/global_edit.c app/global_edit.c
--- /a/gimp-0.99.1/app/global_edit.c	Thu Feb 27 01:01:22 1997
+++ app/global_edit.c	Fri Feb 28 21:32:29 1997
@@ -558,6 +558,7 @@
   pn_dlg->gdisp = gdisp;
 
   pn_dlg->shell = gtk_dialog_new ();
+  GTK_WINDOW(pn_dlg->shell)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (pn_dlg->shell), "Paste Named Buffer");
   gtk_window_position (GTK_WINDOW (pn_dlg->shell), GTK_WIN_POS_MOUSE);
 
diff -ru /a/gimp-0.99.1/app/interface.c app/interface.c
--- /a/gimp-0.99.1/app/interface.c	Wed Feb 26 17:30:13 1997
+++ app/interface.c	Fri Feb 28 21:32:56 1997
@@ -758,6 +758,7 @@
   query_box = (QueryBox *) g_malloc (sizeof (QueryBox));
 
   qbox = gtk_dialog_new ();
+  GTK_WINDOW(qbox)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (qbox), title);
   gtk_window_position (GTK_WINDOW (qbox), GTK_WIN_POS_MOUSE);
 
@@ -875,6 +876,7 @@
   msg_box = (MessageBox *) g_malloc (sizeof (MessageBox));
 
   mbox = gtk_dialog_new ();
+  GTK_WINDOW(mbox)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (mbox), "GIMP Message");
   gtk_window_position (GTK_WINDOW (mbox), GTK_WIN_POS_MOUSE);
 
diff -ru /a/gimp-0.99.1/app/layer_select.c app/layer_select.c
--- /a/gimp-0.99.1/app/layer_select.c	Mon Feb 24 20:04:52 1997
+++ app/layer_select.c	Fri Feb 28 21:33:18 1997
@@ -94,6 +94,7 @@
 
       /*  The shell and main vbox  */
       layer_select->shell = gtk_window_new (GTK_WINDOW_POPUP);
+      GTK_WINDOW(layer_select->shell)->type = GTK_WINDOW_DIALOG;
       gtk_window_set_title (GTK_WINDOW (layer_select->shell), "Layer Select");
       gtk_window_position (GTK_WINDOW (layer_select->shell), GTK_WIN_POS_MOUSE);
       gtk_signal_connect (GTK_OBJECT (layer_select->shell), "event",
diff -ru /a/gimp-0.99.1/app/layers_dialog.c app/layers_dialog.c
--- /a/gimp-0.99.1/app/layers_dialog.c	Thu Feb 27 01:25:32 1997
+++ app/layers_dialog.c	Fri Feb 28 21:34:14 1997
@@ -2772,6 +2772,7 @@
 
   /*  the dialog  */
   options->query_box = gtk_dialog_new ();
+  GTK_WINDOW(options->query_box)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (options->query_box), "New Layer Options");
   gtk_window_position (GTK_WINDOW (options->query_box), GTK_WIN_POS_MOUSE);
 
@@ -2930,6 +2931,7 @@
 
   /*  the dialog  */
   options->query_box = gtk_dialog_new ();
+  GTK_WINDOW(options->query_box)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (options->query_box), "Edit Layer Attributes");
   gtk_window_position (GTK_WINDOW (options->query_box), GTK_WIN_POS_MOUSE);
 
@@ -3072,6 +3074,7 @@
 
   /*  the dialog  */
   options->query_box = gtk_dialog_new ();
+  GTK_WINDOW(options->query_box)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (options->query_box), "Add Mask Options");
   gtk_window_position (GTK_WINDOW (options->query_box), GTK_WIN_POS_MOUSE);
 
@@ -3184,6 +3187,7 @@
 
   /*  the dialog  */
   options->query_box = gtk_dialog_new ();
+  GTK_WINDOW(options->query_box)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (options->query_box), "Layer Mask Options");
   gtk_window_position (GTK_WINDOW (options->query_box), GTK_WIN_POS_MOUSE);
 
@@ -3291,6 +3295,7 @@
 
   /*  the dialog  */
   options->query_box = gtk_dialog_new ();
+  GTK_WINDOW(options->query_box)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (options->query_box), "Scale Layer");
   gtk_window_set_policy (GTK_WINDOW (options->query_box), FALSE, FALSE, TRUE);
   gtk_window_position (GTK_WINDOW (options->query_box), GTK_WIN_POS_MOUSE);
@@ -3396,6 +3401,7 @@
 
   /*  the dialog  */
   options->query_box = gtk_dialog_new ();
+  GTK_WINDOW(options->query_box)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (options->query_box), "Resize Layer");
   gtk_window_set_policy (GTK_WINDOW (options->query_box), FALSE, TRUE, TRUE);
   gtk_window_set_policy (GTK_WINDOW (options->query_box), FALSE, FALSE, TRUE);
@@ -3528,6 +3534,7 @@
 
   /*  the dialog  */
   options->query_box = gtk_dialog_new ();
+  GTK_WINDOW(options->query_box)->type = GTK_WINDOW_DIALOG;
   gtk_window_set_title (GTK_WINDOW (options->query_box), "Layer Merge Options");
   gtk_window_position (GTK_WINDOW (options->query_box), GTK_WIN_POS_MOUSE);
 
diff -ru /a/gimp-0.99.1/app/plug_in.c app/plug_in.c
--- /a/gimp-0.99.1/app/plug_in.c	Thu Feb 27 03:08:38 1997
+++ app/plug_in.c	Fri Feb 28 21:23:35 1997
@@ -2349,6 +2349,8 @@
   if (!plug_in->progress)
     {
       plug_in->progress = gtk_dialog_new ();
+		gtk_widget_set_uposition (plug_in->progress, progress_x, progress_y);
+		GTK_WINDOW(plug_in->progress)->type=GTK_WINDOW_DIALOG;
       gtk_window_set_title (GTK_WINDOW (plug_in->progress), prune_filename (plug_in->args[0]));
       gtk_signal_connect (GTK_OBJECT (plug_in->progress), "destroy",
 			  (GtkSignalFunc) plug_in_progress_cancel,
