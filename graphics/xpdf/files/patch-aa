--- configure.in.orig	Fri Feb  1 15:15:45 2002
+++ configure.in	Sun Feb 10 17:42:52 2002
@@ -193,6 +193,16 @@
 if test "$xpdf_cv_func_mkstemp" = yes; then
   AC_DEFINE(HAVE_MKSTEMP)
 fi
+dnl # Ditto mkstemps()
+AC_CACHE_CHECK([for mkstemps],
+xpdf_cv_func_mkstemps,
+[AC_TRY_LINK([#include <stdlib.h>
+#include <unistd.h>],     
+[mkstemps("foo", 0);],
+xpdf_cv_func_mkstemps=yes, xpdf_cv_func_mkstemps=no)])
+if test "$xpdf_cv_func_mkstemps" = yes; then
+  AC_DEFINE(HAVE_MKSTEMPS)
+fi
 
 dnl ##### Check select argument type: on HP-UX before version 10, select
 dnl ##### takes (int *) instead of (fd_set *).
