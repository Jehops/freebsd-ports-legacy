--- Makefile.common.orig	Sat Mar 25 02:46:12 2000
+++ Makefile.common	Sat Apr  1 12:00:00 2000
@@ -56,31 +56,27 @@
 install.merge: $(MERGENAME) $(NOMERGEBINARIES) install.script
 	cd $(INSTALLBINARIES) ; rm -f $(BINARIES)
 ifneq ($(MERGENAME)x,x)
-	cp $(MERGENAME) $(INSTALLBINARIES)
-	strip $(INSTALLBINARIES)/$(MERGENAME)
+	${BSD_INSTALL_PROGRAM} $(MERGENAME) $(INSTALLBINARIES)
 	cd $(INSTALLBINARIES) ; \
 	   for i in $(BINARIES) $(MERGE_ALIASES) ; \
-             do ln -s $(MERGENAME) $$i ; \
+             do ln -sf $(MERGENAME) $$i ; \
              done
 endif
 ifneq ($(NOMERGEBINARIES)x,x)
 	cd $(INSTALLBINARIES) ; rm -f $(NOMERGEBINARIES)
-	cp $(NOMERGEBINARIES) $(INSTALLBINARIES)
-	cd $(INSTALLBINARIES) ; strip $(NOMERGEBINARIES)
+	${BSD_INSTALL_PROGRAM} $(NOMERGEBINARIES) $(INSTALLBINARIES)
 endif
 
 .PHONY: install.bin.common
 install.bin.common: $(BINARIES) install.script
 	cd $(INSTALLBINARIES) ; rm -f $(BINARIES)
-	cp $(BINARIES) $(INSTALLBINARIES)
-	cd $(INSTALLBINARIES) ; strip $(BINARIES)
+	${BSD_INSTALL_PROGRAM} $(BINARIES) $(INSTALLBINARIES)
 
 .PHONY: install.script
 install.script: $(SCRIPTS)
 ifneq ($(SCRIPTS)x,x)
 	cd $(INSTALLSCRIPTS) ; rm -f $(SCRIPTS)
-	cp $(SCRIPTS) $(INSTALLSCRIPTS)
-	cd $(INSTALLSCRIPTS) ; chmod +x $(SCRIPTS)
+	${BSD_INSTALL_SCRIPT} $(SCRIPTS) $(INSTALLSCRIPTS)
 endif
 
 .PHONY: install.man
@@ -111,13 +107,13 @@
 # prefer not to "install" them, but just to access the Netpbm source
 # directory when you compile your programs.
 	cd $(INSTALLHDRS) ; rm -f $(INTERFACE_HEADERS)
-	cp $(INTERFACE_HEADERS) $(INSTALLHDRS)
+	${BSD_INSTALL_DATA} $(INTERFACE_HEADERS) $(INSTALLHDRS)
 
-lib$(LIBROOT).so: lib$(LIBROOT).so.$(MAJ).$(MIN)
-	ln -sf lib$(LIBROOT).so.$(MAJ).$(MIN) $@
-lib$(LIBROOT).so.$(MAJ).$(MIN): $(LIBOBJECTS) $(LIBLIBS)
+lib$(LIBROOT).so: lib$(LIBROOT).a lib$(LIBROOT).so.$(MAJ)
+	ln -sf lib$(LIBROOT).so.$(MAJ) $@
+lib$(LIBROOT).so.$(MAJ): $(LIBSOBJECTS) $(LIBLIBS)
 	$(LD) $(LDSHLIB) -Wl,-soname,lib$(LIBROOT).so.$(MAJ) -o $@ \
-          $(LIBOBJECTS) $(LIBLIBS) -lc
+          $(LIBSOBJECTS) $(LIBLIBS)
 
 lib$(LIBROOT).a: $(LIBOBJECTS)
 	-rm -f $@
@@ -126,11 +122,11 @@
 
 
 .PHONY: install.lib.common
-install.lib.common: lib$(LIBROOT).so.$(MAJ).$(MIN) 
-	cd $(INSTALLLIBS) ; rm -f lib$(LIBROOT).so.$(MAJ).*
-	cp $< $(INSTALLLIBS)
-	cd $(INSTALLLIBS) ; ln -sf $< lib$(LIBROOT).so
-	cd $(INSTALLLIBS) ; ln -sf $< lib$(LIBROOT).so.$(MAJ)
+install.lib.common: lib$(LIBROOT).a lib$(LIBROOT).so
+	cd $(INSTALLLIBS) ; rm -f lib$(LIBROOT).*
+	${BSD_INSTALL_DATA} lib$(LIBROOT).a $(INSTALLLIBS)
+	${BSD_INSTALL_DATA} lib$(LIBROOT).so.$(MAJ) $(INSTALLLIBS)
+	ln -sf lib$(LIBROOT).so.$(MAJ) $(INSTALLLIBS)/lib$(LIBROOT).so
 
 .PHONY: dep
 dep Makefile.depend:
