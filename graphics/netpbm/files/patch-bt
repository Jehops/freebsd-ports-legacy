--- pnm/xwdtopnm.c.orig	Wed May 24 14:37:34 2000
+++ pnm/xwdtopnm.c	Sat Jun  3 00:00:00 2000
@@ -879,13 +879,23 @@
          */
     unsigned int option_def_index;
 
+    /* Create the OptStruct structure describing our options */
+    #define OPTENTRY(shortvalue,longvalue,typevalue,outputvalue,flagvalue) {\
+      option_def[option_def_index].shortName = (shortvalue); \
+      option_def[option_def_index].longName = (longvalue); \
+      option_def[option_def_index].type = (typevalue); \
+      option_def[option_def_index].arg = (outputvalue); \
+      option_def[option_def_index].flags = (flagvalue); \
+      option_def_index++; \
+      }
     option_def_index = 0;   /* incremented by OPTENTRY */
     OPTENTRY(0, "debug",        OPT_FLAG,   &cmdline_p->debug,          0);
+    option_def[option_def_index].type = OPT_END;
 
     /* Set the defaults */
     cmdline_p->debug = 0;
 
-    pm_optParseOptions(&argc, argv, option_def, 0);
+    optParseOptions(&argc, argv, option_def, 0);
         /* Uses and sets argc, argv, and all of *cmdline_p. */
 
     if (argc - 1 == 0)
