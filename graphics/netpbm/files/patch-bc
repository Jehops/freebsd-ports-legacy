--- Makefile.config.orig	Mon Jan  8 03:52:54 2001
+++ Makefile.config	Sat Jan 13 00:00:00 2001
@@ -39,7 +39,7 @@
 #Tru64 (= Digital Unix):
 #CC = cc
 #CC = gcc
-CC = gcc
+CC ?= gcc
 
 # The linker.
 LD = $(CC)
@@ -71,7 +71,7 @@
 # calls compress or pack.  Mantocat, included with Netpbm, is used on
 # systems which use man pages in the "cat" format.
 
-MANCP =	$(INSTALL) -m $(INSTALL_PERM_MAN)
+MANCP =	${BSD_INSTALL_MAN}
 #DJGPP/Windows:
 #MANCP = $(SRCDIR)/mantocat
 
@@ -85,7 +85,7 @@
 # -ansi and -Werror should work too, but are not included
 # by default because there's no point in daring the build to fail.
 # -pedantic isn't a problem because it causes at worst a warning.
-CFLAGS = -pedantic -O3 -Wall -Wno-uninitialized $(CDEBUG)
+CFLAGS += $(CDEBUG)
 # On DEC Tru64 4.0F (at least), you need -DLONG_32 for ppmtompeg.
 #Tru64:
 #CFLAGS = -O2 -std1 DLONG_32 $(CDEBUG)
@@ -100,7 +100,7 @@
   
 # linker options.  
 
-LDFLAGS =
+#LDFLAGS =
 # Eunice users may want to use -noshare so that the executables can
 # run standalone:
 #LDFLAGS = -noshare
@@ -113,7 +113,7 @@
 # For a traditional linker:
 #LDFLAGS = -R$(INSTALLLIBS)
 #If the linker is gcc (e.g. NetBSD):
-#LDFLAGS = -Wl,--rpath,$(INSTALLLIBS)
+LDFLAGS = -Wl,--rpath,$(INSTALLLIBS)
 
 # Linker options for created Netpbm shared libraries.
 
@@ -139,7 +139,7 @@
 # independent code, so you need -fpic or fPIC here.  (The rule is: if 
 # -fpic works, use it.  If it bombs, go to fPIC).
 
-CFLAGS_SHLIB = 
+CFLAGS_SHLIB = -fpic -DPIC
 # Solaris, SunOS, and NetBSD:
 #CFLAGS_SHLIB = -fpic
 #CFLAGS_SHLIB = -fPIC
@@ -155,11 +155,11 @@
 # but otherwise will not.
 
 # Use the Tiff library included with Netpbm:
-TIFFHDR_DIR = $(SRCDIR)/libtiff
-TIFFLIB_DIR = $(SRCDIR)/libtiff
+#TIFFHDR_DIR = $(SRCDIR)/libtiff
+#TIFFLIB_DIR = $(SRCDIR)/libtiff
 #NetBSD:
-#TIFFHDR_DIR = $(LOCALBASE)/include
-#TIFFLIB_DIR = $(LOCALBASE)/lib
+TIFFHDR_DIR = $(LOCALBASE)/include
+TIFFLIB_DIR = $(LOCALBASE)/lib
 # OSF, Tru64:
 #TIFFHDR_DIR = /usr/local1/DEC/include
 #TIFFLIB_DIR = /usr/local1/DEC/lib
@@ -186,11 +186,11 @@
 # at least JPEGLIB_DIR here, or the tiff converters will not build at
 # all.
 
-JPEGLIB_DIR = /usr/lib/jpeg
-JPEGHDR_DIR = /usr/include/jpeg
+#JPEGLIB_DIR = /usr/lib/jpeg
+#JPEGHDR_DIR = /usr/include/jpeg
 # Netbsd:
-#JPEGLIB_DIR = ${LOCALBASE}/lib
-#JPEGHDR_DIR = ${LOCALBASE}/include
+JPEGLIB_DIR = ${LOCALBASE}/lib
+JPEGHDR_DIR = ${LOCALBASE}/include
 # OSF, Tru64:
 #JPEGLIB_DIR = /usr/local1/DEC/lib
 #JPEGHDR_DIR = /usr/local1/DEC/include
@@ -208,11 +208,11 @@
 # here.  If you do not have the PNG library, and still want to
 # successully build everything else, put NONE for these.
 
-PNGLIB_DIR = /lib
-PNGHDR_DIR = /usr/include/png
+#PNGLIB_DIR = /lib
+#PNGHDR_DIR = /usr/include/png
 # NetBSD:
-#PNGLIB_DIR = $(LOCALBASE)/lib
-#PNGHDR_DIR = $(LOCALBASE)/include
+PNGLIB_DIR = $(LOCALBASE)/lib
+PNGHDR_DIR = $(LOCALBASE)/include
 # OSF/Tru64:
 #PNGLIB_DIR = /usr/local1/DEC/lib
 #PNGHDR_DIR = /usr/local1/DEC/include
@@ -226,8 +226,10 @@
 
 # And the Utah Raster Toolkit (aka URT aka RLE) library:
 
-URTHDR_DIR = $(SRCDIR)/urt
-URTLIB_DIR = $(SRCDIR)/urt
+#URTLIB_DIR = $(SRCDIR)/urt
+#URTHDR_DIR = $(SRCDIR)/urt
+URTLIB_DIR = NONE
+URTHDR_DIR = NONE
 
 # These are -l options to link in the network libraries.  Often, these are
 # built into the standard C library, so this can be null.  If you don't 
@@ -321,7 +323,7 @@
 # Specify the directory where you want data files that the Neptbm programs
 # access to be installed
 
-INSTALLDATA = $(INSTALL_PREFIX)/lib
+INSTALLDATA = $(INSTALL_PREFIX)/share/netpbm
 
 
 #NETPBMLIBSUFFIX is the suffix on the filename of the generated and installed
