--- basics/b_string.cpp	Sat Dec 23 14:37:48 2000
+++ basics/b_string.cpp	Thu Nov  7 06:07:53 2002
@@ -345,10 +345,10 @@
     
     // Copy unmodified start of string *this
-    nbUnchangedStartingChars = foundStr - Texte();
+    nbUnchangedStartingChars = foundStr - (const char*)Texte();
     strncpy(modifiedStr, (const char*)Texte(), nbUnchangedStartingChars);
     modifiedStr[nbUnchangedStartingChars] = '\0';
     
     // Replace "^i" by replaceStr
-    strcat(modifiedStr, replaceStr.Texte());
+    strcat(modifiedStr, (const char*)replaceStr.Texte());
     
     // Copy unmodified end of string *this
--- basics/mac_comp.h	Sat Dec 23 14:37:48 2000
+++ basics/mac_comp.h	Thu Nov  7 06:21:10 2002
@@ -29,4 +29,5 @@
 #endif
 
+  #include <sys/types.h>
   #include <memory.h>
   #include <string.h>
@@ -67,5 +68,5 @@
      ConstStr27Param,ConstStr15Param;
 
-    typedef unsigned long OSType;
+    typedef intptr_t OSType;
     typedef OSType *OSTypePtr;
 
--- ri_image/priimage.h	Sat Dec 23 14:37:49 2000
+++ ri_image/priimage.h	Thu Nov  7 06:31:12 2002
@@ -163,9 +164,9 @@
             
             void  ResetMagicNumber()        { magicNumber = 0; }
-            void  SetMagicNumber()        { magicNumber = (unsigned long)(this); }
-            Boolean ChallengeMagicNumber()      { return (magicNumber == (unsigned long)(this)); }
-            void  SetMagicNumber(unsigned long id)    { magicNumber = id; }
-            Boolean ChallengeMagicNumber(unsigned long id)  { return (magicNumber == id); }
-            unsigned long GetMagicNumber()        { return magicNumber; }
+            void  SetMagicNumber()        { magicNumber = (intptr_t)(this); }
+            Boolean ChallengeMagicNumber()      { return (magicNumber == (intptr_t)(this)); }
+            void  SetMagicNumber(intptr_t id)    { magicNumber = id; }
+            Boolean ChallengeMagicNumber(intptr_t id)  { return (magicNumber == id); }
+            intptr_t GetMagicNumber()        { return magicNumber; }
   protected:
         // Protected interface: Methods used by the derived classes to customize the behavior of a RI Image:
@@ -215,5 +216,5 @@
 
         // Reference management
-        unsigned long magicNumber;      // Used to reference a PRIImage object used by several composition objects
+        intptr_t magicNumber;     // Used to reference a PRIImage object used by several composition objects
         long      nbRefs;         // Number of existing references to this PRIImage object
 
