--- cxcore/src/cxswitcher.cpp   Mon Feb 28 16:34:30 2005
+++ cxcore/src/cxswitcher.cpp.freebsd   Mon Feb 28 16:34:17 2005
@@ -593,8 +593,8 @@
         QueryPerformanceCounter( &counter );
         return (int64)counter.QuadPart;
 #else
-        timeval tv;
-        timezone tz;
+        struct timeval tv; // patch for FreeBSD: add "struct"
+        struct timezone tz; // patch for FreeBSD: add "struct"
         gettimeofday( &tv, &tz );
         return (int64)tv.tv_sec*1000000 + tv.tv_usec;
 #endif

--- cxcore/src/Makefile.in.orig    Mon Feb 28 16:40:06 2005
+++ cxcore/src/Makefile.in Mon Feb 28 16:40:18 2005
@@ -137,7 +137,7 @@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
 LIBOBJS = @LIBOBJS@
-LIBS = -ldl -lpthread -lm
+LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LN_S = @LN_S@
 LTLIBOBJS = @LTLIBOBJS@

--- cv/src/Makefile.in.orig     Mon Feb 28 16:41:54 2005
+++ cv/src/Makefile.in  Mon Feb 28 16:42:14 2005
@@ -177,7 +177,7 @@
 INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
 LDFLAGS = @LDFLAGS@
 LIBOBJS = @LIBOBJS@
-LIBS = -ldl -lpthread -lm
+LIBS = @LIBS@
 LIBTOOL = @LIBTOOL@
 LN_S = @LN_S@
 LTLIBOBJS = @LTLIBOBJS@

--- otherlibs/highgui/Makefile.in.orig Mon Feb 28 18:02:19 2005
+++ otherlibs/highgui/Makefile.in      Mon Feb 28 18:02:40 2005
@@ -54,7 +54,7 @@
 libhighgui_la_DEPENDENCIES =
 am_libhighgui_la_OBJECTS = bitstrm.lo cvcap.lo cvcap_dc1394.lo \
       cvcap_v4l.lo grfmt_base.lo grfmt_bmp.lo grfmt_jpeg.lo \
-      grfmt_png.lo grfmt_pxm.lo grfmt_sunras.lo grfmt_tiff.lo \
+      grfmt_png.lo grfmt_pxm.lo grfmt_sunras.lo \
       image.lo loadsave.lo precomp.lo utils.lo window_lnx.lo \
       window_w32.lo
 libhighgui_la_OBJECTS = $(am_libhighgui_la_OBJECTS)
@@ -201,7 +201,7 @@
 lib_LTLIBRARIES = libhighgui.la
 libhighgui_la_SOURCES = bitstrm.cpp cvcap.cpp cvcap_dc1394.cpp \
     cvcap_v4l.cpp grfmt_base.cpp grfmt_bmp.cpp grfmt_jpeg.cpp \
-    grfmt_png.cpp grfmt_pxm.cpp grfmt_sunras.cpp grfmt_tiff.cpp \
+    grfmt_png.cpp grfmt_pxm.cpp grfmt_sunras.cpp \
     image.cpp loadsave.cpp precomp.cpp utils.cpp window_lnx.cpp \
     window_w32.cpp

--- otherlibs/highgui/grfmts.h.orig     Mon Feb 28 17:10:41 2005
+++ otherlibs/highgui/grfmts.h  Mon Feb 28 17:10:45 2005
@@ -47,7 +47,6 @@
 #include "grfmt_sunras.h"
 #include "grfmt_jpeg.h"
 #include "grfmt_pxm.h"
-#include "grfmt_tiff.h"
 #include "grfmt_png.h"

 #endif/*_GRFMTS_H_*/

--- otherlibs/highgui/loadsave.cpp.orig Mon Feb 28 17:12:05 2005
+++ otherlibs/highgui/loadsave.cpp      Mon Feb 28 17:12:09 2005
@@ -299,7 +299,6 @@
     m_factories->AddFactory( new GrFmtJpeg() );
     m_factories->AddFactory( new GrFmtSunRaster() );
     m_factories->AddFactory( new GrFmtPxM() );
-    m_factories->AddFactory( new GrFmtTiff() );
 #ifdef HAVE_PNG
     m_factories->AddFactory( new GrFmtPng() );
 #endif

--- configure.orig      Thu Aug 19 03:46:49 2004
+++ configure   Mon Feb 28 17:16:51 2005
@@ -21218,7 +21218,7 @@


 have_v4l=no
-if test x$os_name=xLinux; then
+if test x$os_name = xLinux; then

 cat >>confdefs.h <<\_ACEOF
 #define HAVE_CAMV4L

--- tests/cxcore/src/Makefile.in.orig   Mon Feb 28 17:32:29 2005
+++ tests/cxcore/src/Makefile.in        Mon Feb 28 17:32:57 2005
@@ -189,6 +189,7 @@
 EXTRA_DIST = precomp.cpp cxcoretest.dsp cxcoretest.vcproj
 INCLUDES = -I. -I../../../cxcore/include -I../../cxts -I../../..
 cxcoretest_LDADD = -L../../../cxcore/src -lcxcore -L../../cxts -lcxts
+cxcoretest_LDFLAGS = -pthread
 all: all-am

 .SUFFIXES:

