--- configs/freebsd-dri.orig	Sat May 28 13:17:06 2005
+++ configs/freebsd-dri	Wed Jul 20 00:17:01 2005
@@ -6,30 +6,30 @@
 CONFIG_NAME = freebsd-dri
 
 # Compiler and flags
-CC = gcc
-CXX = g++
+CC = $(FBSDCC)
+CXX = $(FBSDCXX)
 WARN_FLAGS = -Wall
-OPT_FLAGS = -O
+OPT_FLAGS = $(FBSDCFLAGS)
 
-EXPAT_INCLUDES = -I/usr/local/include
-X11_INCLUDES = -I/usr/X11R6/include -I/usr/X11R6/include/X11/extensions
+EXPAT_INCLUDES = -I${LOCALBASE}/include
+X11_INCLUDES = -I${X11BASE}/include -I${X11BASE}/include/X11/extensions
 DEFINES = -DDRI_NEW_INTERFACE_ONLY 
-CFLAGS = $(DEFINES) -Wmissing-prototypes -g -std=c99  -Wundef -fPIC \
-	-ffast-math $(X11_INCLUDES)
+CFLAGS = $(FBSDCFLAGS) $(DEFINES) -Wmissing-prototypes -g -std=c99  -Wundef \
+	-fPIC -ffast-math $(X11_INCLUDES)
 CXXFLAGS = $(DEFINES) -Wall -g -ansi -pedantic -fPIC
 
 ASM_SOURCES = 
 
 # Library/program dependencies
-DRI_LIB_DEPS = -L/usr/local/lib -lm -lpthread -lexpat
-GL_LIB_DEPS = -L/usr/X11R6/lib -lX11 -lXext -lm -lpthread
+DRI_LIB_DEPS = -L${LOCALBASE}/lib -lm ${PTHREAD_LIBS} -lexpat
+GL_LIB_DEPS = -L${X11BASE}/lib -lX11 -lXext -lm ${PTHREAD_LIBS}
 
-GLUT_LIB_DEPS = -L$(LIB_DIR) -L/usr/X11R6/lib -lGLU -lGL -lX11 -lXmu -lXt -lXi -lm
-GLW_LIB_DEPS = -L$(LIB_DIR) -L/usr/X11R6/lib -lGL -lXt -lXm -lX11
+GLUT_LIB_DEPS = -L$(LIB_DIR) -L${X11BASE}/lib -lGLU -lGL -lX11 -lXmu -lXt -lXi -lm
+GLW_LIB_DEPS = -L$(LIB_DIR) -L${X11BASE}/lib -lGL -lXt -lXm -lX11
 
 
 # Directories
-SRC_DIRS = mesa glu glut/glx glw glx/x11
+SRC_DIRS = mesa
 DRIVER_DIRS = dri
 PROGRAM_DIRS = 
 WINDOW_SYSTEM=dri
@@ -38,6 +38,6 @@
 
 # ffb and gamma are missing because they have not been converted to use the new
 # interface.
-DRI_DIRS = dri_client i810 i830 i915 mach64 mga r128 r200 radeon tdfx \
+DRI_DIRS = dri_client i810 i830 i915 mach64 mga r128 r200 r300 radeon tdfx \
 	   unichrome savage sis
 
