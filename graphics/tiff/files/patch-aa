--- libtiff/Makefile.in.orig	Mon Apr 29 18:16:21 1996
+++ libtiff/Makefile.in	Mon Nov 23 22:11:22 1998
@@ -62,7 +62,7 @@
 #
 CONF_LIBRARY=@CONF_JPEG@ @CONF_ZIP@
 COPTS	= @GCOPTS@
-OPTIMIZER=-O
+#OPTIMIZER=-O
 CFLAGS	= @ENVOPTS@ @LIBCOPTS@ ${COPTS} ${OPTIMIZER} ${IPATH} ${CONF_LIBRARY}
 #
 SRCS	= \
@@ -199,7 +199,16 @@
 # OSF/1 3.2 shared lib rule
 OSFdso: ${OBJS}
 	${LD} -o libtiff.@DSOSUF@ -shared -error_unresolved ${OBJS} @LIBJPEG@ @LIBGZ@ -lc -lm
-
+FREEBSD_AOUTdso: ${OBJS}
+	${LD} -Bshareable -x ${LIBDIR}/c++rt0.o -o libtiff.@DSOSUF_VERSION@ \
+		${OBJS} @LIBJPEG@ @LIBGZ@
+	@LN@ @LN_S@ libtiff.@DSOSUF_VERSION@ libtiff.@DSOSUF@
+	touch $@
+FREEBSD_ELFdso: ${OBJS}
+	${CC} -shared -Wl,-soname,libtiff.@DSOSUF_VERSION@ -o libtiff.@DSOSUF_VERSION@ \
+		${OBJS} @LIBJPEG@ @LIBGZ@
+	@LN@ @LN_S@ libtiff.@DSOSUF_VERSION@ libtiff.@DSOSUF@
+	touch $@
 
 ${OBJS}: ${SRCDIR}/tiffio.h ${SRCDIR}/tiff.h ${SRCDIR}/tif_dir.h
 ${OBJS}: ${SRCDIR}/tiffcomp.h ${SRCDIR}/tiffiop.h ${SRCDIR}/tiffconf.h
