--- nil/Makefile.in.orig	Thu Sep 28 20:41:58 2000
+++ nil/Makefile.in	Thu Sep 28 20:45:33 2000
@@ -69,7 +69,7 @@
 ####### kdevelop will overwrite this part!!! (end)############
 bin_PROGRAMS = nil
 nil_SOURCES = obj_grenade.cpp obj_clusterbomb.cpp obj_weapon_clusterbomb.cpp obj_fireball.cpp obj_weapon_flamethrower.cpp obj_weapon_rocket.cpp obj_weapon_mininuke.cpp obj_weapon_larpa.cpp obj_rocket.cpp soundsystem.cpp event.cpp event_target.cpp menu_item.cpp menu.cpp obj_weapon_bignuke.cpp obj_tinygranade.cpp obj_bignuke.cpp update_queue.cpp keymapper_bindings.cpp keymapper.cpp animations.cpp anim_helpers.cpp animation.cpp obj_weapon_plasmagun.cpp obj_plasmaball.cpp fonts.cpp nil_files.cpp game_client.cpp configuration.cpp font_instance.cpp font_glyph.cpp icon_graph.cpp icon_base.cpp animator.cpp tcp_socket.cpp serializer_writer.cpp serializer_reader.cpp serializer.cpp serializable.cpp nil_math.cpp obj_railslug.cpp obj_weapon_railgun.cpp raw_surface.cpp obj_weapon_megashotgun.cpp obj_scoreboard.cpp graphic_bar.cpp obj_hook.cpp obj_weapon_shotgun.cpp obj_weapon_minigun.cpp obj_projectile.cpp obj_weapon_test.cpp obj_weapon.cpp obj_gib.cpp tcp_client.cpp nil_client.cpp nil_main.cpp nil_server.cpp tcp_server_connection.cpp tcp_server.cpp obj_player_data.cpp obj_particle.cpp controls.cpp obj_player.cpp clientworld.cpp serverworld.cpp world.cpp viewport.cpp obj_test.cpp obj_explosion.cpp obj_base.cpp loader.cpp graphics.cpp graphic.cpp fluff.cpp 
-nil_LDADD = -lSDL -lSDL_mixer -L/usr/X11R6/lib -lXxf86dga -lXxf86vm -lpthread -lz -lXext -lX11
+nil_LDADD = -lSDL_mixer -lz -lsmpeg
 
 EXTRA_DIST = all.h fluff.cpp fluff.h graphic.cpp graphic.h graphics.cpp graphics.h loader.cpp loader.h obj_base.cpp obj_base.h obj_explosion.cpp obj_explosion.h obj_test.cpp obj_test.h viewport.cpp viewport.h world.cpp world.h serverworld.cpp serverworld.h clientworld.cpp clientworld.h obj_player.cpp obj_player.h controls.cpp controls.h obj_particle.cpp obj_particle.h obj_player_data.cpp obj_player_data.h tcp_server.cpp tcp_server.h tcp_server_connection.cpp tcp_server_connection.h nil_server.h nil_server.cpp nil_main.cpp nil_client.h nil_client.cpp tcp_client.cpp tcp_client.h obj_gib.cpp obj_gib.h obj_weapon.cpp obj_weapon.h obj_weapon_test.cpp obj_weapon_test.h obj_projectile.cpp obj_projectile.h obj_weapon_minigun.cpp obj_weapon_minigun.h obj_weapon_shotgun.cpp obj_weapon_shotgun.h obj_hook.cpp obj_hook.h graphic_bar.cpp graphic_bar.h obj_scoreboard.cpp obj_scoreboard.h obj_weapon_megashotgun.cpp obj_weapon_megashotgun.h raw_surface.cpp raw_surface.h obj_weapon_railgun.cpp obj_weapon_railgun.h obj_railslug.cpp obj_railslug.h nil_math.h nil_math.cpp systemheaders.h serializable.cpp serializable.h serializer.cpp serializer.h serializer_reader.cpp serializer_reader.h serializer_writer.cpp serializer_writer.h netpackets.h tcp_socket.cpp tcp_socket.h animator.cpp animator.h icon_base.cpp icon_base.h icon_graph.cpp icon_graph.h font_glyph.cpp font_glyph.h font_instance.cpp font_instance.h configuration.cpp configuration.h game_client.cpp game_client.h nil_files.h nil_files.cpp fonts.cpp fonts.h obj_plasmaball.cpp obj_plasmaball.h obj_weapon_plasmagun.cpp obj_weapon_plasmagun.h animation.cpp animation.h anim_helpers.h anim_helpers.cpp animations.cpp animations.h keymapper.cpp keymapper.h keymapper_bindings.h keymapper_bindings.cpp update_queue.cpp update_queue.h world_objects.h obj_bignuke.cpp obj_bignuke.h obj_tinygranade.cpp obj_tinygranade.h obj_weapon_bignuke.cpp obj_weapon_bignuke.h menu.cpp menu.h menu_item.cpp menu_item.h event_target.cpp event_target.h event.cpp event.h soundsystem.cpp soundsystem.h obj_rocket.cpp obj_rocket.h obj_weapon_larpa.cpp obj_weapon_larpa.h obj_weapon_mininuke.cpp obj_weapon_mininuke.h obj_weapon_rocket.cpp obj_weapon_rocket.h obj_weapon_clusterbomb.cpp obj_weapon_clusterbomb.h obj_clusterbomb.cpp obj_clusterbomb.h obj_grenade.cpp obj_grenade.h obj_fireball.cpp obj_weapon_flamethrower.cpp  
 mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
@@ -102,10 +102,12 @@
 loader.o graphics.o graphic.o fluff.o
 nil_DEPENDENCIES = 
 nil_LDFLAGS = 
+SDL_CFLAGS := $(shell $(SDL_CONFIG) --cflags)
+SDL_LDFLAGS := $(shell $(SDL_CONFIG) --libs)
 CXXFLAGS = @CXXFLAGS@
-CXXCOMPILE = $(CXX) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)
+CXXCOMPILE = $(CXX) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS) $(SDL_CFLAGS)
 CXXLD = $(CXX)
-CXXLINK = $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) $(LDFLAGS) -o $@
+CXXLINK = $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) $(LDFLAGS) $(SDL_LDFLAGS) -o $@
 DIST_COMMON =  Makefile.am Makefile.in
 
 
