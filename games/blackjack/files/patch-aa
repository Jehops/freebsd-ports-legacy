--- Makefile.orig	Wed Feb 11 19:42:00 1998
+++ Makefile	Sat Jan  8 23:59:30 2000
@@ -1,9 +1,11 @@
 
-CC=gcc
-CXX=g++
-CFLAGS=
-INCLUDES=-I$(QTDIR)/include
-LDFLAGS=-L$(QTDIR)/lib -lqt
+CC?=gcc
+CXX?=g++
+INCLUDES=-I$(X11BASE)/include/X11/qt
+LDFLAGS=-L$(X11BASE)/lib -lqt
+.if $(PORTOBJFORMAT) == "elf"
+LDFLAGS+=-Wl,-rpath,$(X11BASE)/lib
+.endif
 VERSION=1.1
 
 # For systems that don't have install, use this
@@ -25,7 +27,7 @@
 	blackjack/*.cpp			\
 	blackjack/*.bm
 
-INSTALL=install
+INSTALL=install -c
 INSTALL_BIN_FLAGS=-s
 
 INSTALL_ROOT=/usr/local
@@ -39,12 +41,14 @@
      user_input.o dollar_scroll_bar.o bet_option.o table_option.o \
      insurance_window.o $(METAOBJS)
 
-MOC=$(QTDIR)/bin/moc
+MOC=$(X11BASE)/bin/moc
 
 .SUFFIXES: .cpp
 
 .cpp.o:
-	$(CXX) -c $(CFLAGS) $(INCLUDES) $<
+	$(CXX) -c $(CXXFLAGS) $(INCLUDES) $<
+
+all: blackjack
 
 blackjack: main.o $(OBJS) 
 	$(CXX) -o $@ $(LDFLAGS) main.o $(OBJS) 
