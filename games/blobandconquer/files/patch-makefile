--- ./makefile.orig	Wed Dec  6 17:42:21 2006
+++ ./makefile	Thu Dec  7 17:07:12 2006
@@ -12,15 +12,15 @@
 
 PREFIX = $(DESTDIR)/usr
 BINDIR = $(PREFIX)/games
-DATADIR = $(PREFIX)/share/games/blobAndConquer
-DOCDIR = $(PREFIX)/share/doc/$(PROG)
+DATADIR := $(DATADIR)/
+DOCDIR = $(DOCSDIR)/
 ICONDIR = $(PREFIX)/share/icons
 MENUDIR = $(PREFIX)/share/applications
 
-CFLAGS += `sdl-config --cflags` -DVERSION=$(VERSION) -DRELEASE=$(RELEASE) -DUSEPAK=$(USEPAK) -DDEV=$(DEV)
-CFLAGS += -DPAKNAME=\"$(PAKNAME)\" -DPAKLOCATION=\"$(DATADIR)\" -DGAMEPLAYMANUAL=\"$(DOCDIR)index.html\" -Wall -pedantic
-LIBPATH = -L/usr/X11/lib -L/usr/X11R6/lib
-LIBS = -lGL -lGLU `sdl-config --libs` -lSDL_mixer -lSDL_image -lSDL_ttf -lz
+CXXFLAGS += -I$(X11BASE)/include `$(SDL_CONFIG) --cflags` -DVERSION=$(VERSION) -DRELEASE=$(RELEASE) -DUSEPAK=$(USEPAK) -DDEV=$(DEV)
+CXXFLAGS += -DPAKNAME=\"$(PAKNAME)\" -DPAKLOCATION=\"$(DATADIR)\" -DGAMEPLAYMANUAL=\"$(DOCDIR)index.html\" -Wall -pedantic
+LIBPATH = -L$(X11BASE)/lib
+LIBS = -lGL -lGLU `$(SDL_CONFIG) --libs` -lSDL_mixer -lSDL_image -lSDL_ttf -lz
 
 # Yes, it means compiling is a little slower... but it's less hassle
 SEARCHPATH += src/ src/3d/ src/bosses/ src/combat src/common/ src/effects/ src/entities/ src/game/ src/gui/ 
@@ -70,7 +70,7 @@
 all: $(PROG)
 
 %.o: %.cpp %.h defines.h defs.h headers.h
-	$(CXX) $(CFLAGS) -c $<
+	$(CXX) $(CXXFLAGS) -c $<
 
 # linking the program.
 $(PROG): $(OBJS) main.o 
