--- makefile.orig	Thu Aug 17 07:51:40 2006
+++ makefile	Thu Aug 17 07:55:36 2006
@@ -13,16 +13,16 @@
 
 PREFIX=$(DESTDIR)/usr
 BINDIR = $(PREFIX)/games/
-DATADIR = $(PREFIX)/share/games/blobAndConquer/
-DOCDIR = $(PREFIX)/share/doc/$(PROG)/
+DATADIR := $(DATADIR)/
+DOCDIR = $(DOCSDIR)/
 ICONDIR = $(PREFIX)/share/icons/
 KDE = $(PREFIX)/share/applnk/Games/Arcade/
 GNOME = $(PREFIX)/share/gnome/apps/Games/
 
-CFLAGS += `sdl-config --cflags` -DVERSION=$(VERSION) -DRELEASE=$(RELEASE) -DUSEPAK=$(USEPAK) -DDEV=$(DEV)
-CFLAGS += -DPAKNAME=\"$(PAKNAME)\" -DPAKLOCATION=\"$(DATADIR)\" -DGAMEPLAYMANUAL=\"$(DOCDIR)index.html\" -Wall -pedantic
-LIBPATH = -L/usr/X11/lib -L/usr/X11R6/lib
-LIBS = -lGL -lGLU `sdl-config --libs` -lSDL_mixer -lSDL_image -lSDL_ttf -lz
+CXXFLAGS += -I$(X11BASE)/include `$(SDL_CONFIG) --cflags` -DVERSION=$(VERSION) -DRELEASE=$(RELEASE) -DUSEPAK=$(USEPAK) -DDEV=$(DEV)
+CXXFLAGS += -DPAKNAME=\"$(PAKNAME)\" -DPAKLOCATION=\"$(DATADIR)\" -DGAMEPLAYMANUAL=\"$(DOCDIR)index.html\" -Wall
+LIBPATH = -L$(X11BASE)/lib
+LIBS = -lGL -lGLU `$(SDL_CONFIG) --libs` -lSDL_mixer -lSDL_image -lSDL_ttf -lz
 
 # Yes, it means compiling is a little slower... but it's less hassle
 SEARCHPATH = src/ src/3d/ src/common/ src/gui/ src/util/ src/game/ src/system/
@@ -75,7 +75,7 @@
 all: $(PROG) $(PAK)
 
 %.o: %.cpp %.h defines.h defs.h headers.h
-	$(CXX) $(CFLAGS) -c $<
+	$(CXX) $(CXXFLAGS) -c $<
 
 # linking the program.
 $(PROG): $(OBJS) main.o 
