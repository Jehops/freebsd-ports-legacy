--- Makefile.orig	Wed Feb 26 15:21:57 1997
+++ Makefile	Mon Jul  1 02:13:27 2002
@@ -8,16 +8,19 @@
 # Flags that might be overriden by top makefile
 #=================================================================
 
-CC      = gcc
-CCFLAG  = -O2 -Wall -fno-strength-reduce
-LDFLAG  = -O
+#CC      = gcc
+#CCFLAG  = -O2 -Wall -fno-strength-reduce
+#LDFLAG  = -O
 SYSLIB  = -lX11 -lm
-XINCLUDE= -I/usr/X11R6/include
-XLIB    = -L/usr/X11R6/lib
+XINCLUDE= -I$(X11BASE)/include
+.if exists(${X11BASE}/include/X11/forms.h)
+XFORMSINC= -I${X11BASE}/include/X11
+.endif
+XLIB    = -L$(X11BASE)/lib
 
-INSTDIR = /usr/local
+INSTDIR = $(PREFIX)
 BINDIR  = $(INSTDIR)/bin
-INFODIR = $(INSTDIR)/lib/$(PROG)
+INFODIR = $(INSTDIR)/share/$(PROG)
 INSTALL = install
 
 INFODIR_DEFINE = -DINFO_TXT_FILE=\"$(INFODIR)/\"
@@ -26,9 +29,9 @@
 # Flags the compiler will see
 #=================================================================
 
-CFLAGS  = $(CCFLAG) $(XINCLUDE)
+CFLAGS  = $(CCFLAG) $(XINCLUDE) $(XFORMSINC)
 LDFLAGS = $(LDFLAG) 
-LIBS    = -lforms $(SYSLIB) $(XLIB)
+LIBS    = -lforms $(SYSLIB) $(XLIB) -lXpm
 
 #=================================================================
 
