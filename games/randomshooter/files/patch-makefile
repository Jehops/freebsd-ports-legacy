--- makefile.orig	2008-03-29 01:53:41.000000000 +0300
+++ makefile	2008-04-29 00:19:06.000000000 +0400
@@ -1,22 +1,20 @@
-RELEASE = 0
+RELEASE = 1
 VERSION = 0.4
-BINDIR = /usr/games
-DATADIR = /usr/share/games/randomshooter/
 
-CFLAGS = -Wall -pedantic -Werror -DUNIX -DVERSION=$(VERSION) -DINSTALL_DIR=\"$(DATADIR)\" -DRELEASE=$(RELEASE)
-LFLAGS = `sdl-config --libs` -lSDL -lSDL_mixer -lSDL_image -lSDL_ttf -lSDL_net
+CXXFLAGS += -Wall -DUNIX -DVERSION=$(VERSION) -DINSTALL_DIR=\"$(DATADIR)\" -DRELEASE=$(RELEASE) `${SDL_CONFIG} --cflags`
+LFLAGS = `${SDL_CONFIG} --libs` -lSDL_mixer -lSDL_image -lSDL_ttf -lSDL_net
 OBJS   = animation.o audio.o bullets.o collisions.o colors.o draw.o enemies.o entities.o font.o game.o highscores.o
 OBJS += init.o input.o main.o menu.o movement.o particles.o player.o random.o replay.o score.o screenshot.o
 OBJS += settings.o stars.o vector.o wave.o weapons.o
 PROG = randomshooter
-CXX = gcc
+CXX ?= gcc
 
 # top-level rule to create the program.
 all: $(PROG)
 
 # compiling other source files.
 %.o: src/%.c src/%.h src/structs.h src/defs.h
-	$(CXX) $(CFLAGS) -c -s $<
+	$(CXX) $(CXXFLAGS) -c -s $<
 
 # linking the program.
 $(PROG): $(OBJS)
