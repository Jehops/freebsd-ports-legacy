--- Makefile	Fri Jul 16 21:37:03 1999
+++ Makefile.new	Sat May 20 00:44:02 2000
@@ -5,8 +5,10 @@
 # the executable
 ###########################################################################
 
-DATAPATH = /usr/games/xroads/
-BINPATH = /usr/X11R6/bin/
+PREFIX		?= /usr/X11R6
+X11BASE		?= /usr/X11R6
+DATAPATH	= ${PREFIX}/share/games/xroads/
+BINPATH		= ${PREFIX}/bin/
 # I imagine you would use this BINPATH for Solaris:
 #BINPATH = /usr/openwin/bin/
 
@@ -16,7 +18,7 @@
 ###########################################################################
 
 #CFLAGS = -fomit-frame-pointer -O2 -Wall -DXRMPATH=\"$(DATAPATH)\"
-CFLAGS = -O6 -mpentium -g -Wall -DXRMPATH=\"$(DATAPATH)\"
+CFLAGS += -Wall -DXRMPATH=\"$(DATAPATH)\" -I${X11BASE}/include
 
 ###########################################################################
 # Links necessary for X11                                                 
@@ -33,7 +35,7 @@
 ###########################################################################
 
 ### Linux machines use this line:
-LINK = -L/usr/X11R6/lib -I/usr/X11R6/include -lX11 -lm
+LINK = -L${X11BASE}/lib -lX11 -lm
 
 ### This line should work on Sun machines:
 #LINK = -L/usr/openwin/lib -I/usr/openwin/include -lX11 -lm
@@ -43,8 +45,7 @@
 ###########################################################################
 
 # Your C compiler
-CC = egcs
-#CC = gcc
+CC ?= gcc
 
 # Your tar
 TAR = tar
@@ -71,7 +72,7 @@
 
 ## "all" of course builds XRoads.
 all: $(OBJECTS)
-	$(CC) $(FLAGS) -o xroads $(OBJECTS) $(LINK)
+	$(CC) $(CFLAGS) -o xroads $(OBJECTS) $(LINK)
 
 install: all
 	rm -fr $(DATAPATH)
