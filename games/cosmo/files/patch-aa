--- Imakefile.orig	Sat May 11 00:06:00 1996
+++ Imakefile	Wed Aug 16 04:24:28 2000
@@ -1,14 +1,15 @@
-BINDIR = /usr/local/games
+XCOMM BINDIR = /usr/local/games
 PAD = # -DUSE_PAD
+CHOWN = /usr/sbin/chown
 CHMOD = /bin/chmod
 MKDIR = /bin/mkdir
 
-CC = gcc
+XCOMM CC = gcc
 REGULATE_TIMER = -DREG_TIMER
-DATADIR = $(BINDIR)/cosmodir
+DATADIR = $(LIBDIR)/cosmo
 DATAFILE = $(DATADIR)/best.dat
 PROTO_DEFINES = -DRANK_FILE=\"$(DATAFILE)\" $(PAD) $(REGULATE_TIMER) $(SIGNAL)
-CDEBUGFLAGS = -O2 # -g
+XCOMM CDEBUGFLAGS = -O2 # -g
 LOCAL_LIBRARIES = $(XLIB)
 TAR = /bin/tar
 
@@ -27,11 +28,12 @@
 
 install::
 	@if [ -d $(DATADIR) ]; then echo cosmodir exists, not created.;\
-	 else $(MKDIR) $(DATADIR); fi
+	 else $(MKDIRHIER) $(DATADIR); fi
 	$(CHMOD) 711 $(DATADIR)
 	@if [ -f $(DATAFILE) ]; then echo ranking file exists, not created.;\
 	 else echo > $(DATAFILE); fi
-	$(CHMOD) 666 $(DATAFILE)
+	$(CHOWN) root:games $(DATAFILE)
+	$(CHMOD) 664 $(DATAFILE)
 
 pack::
 	$(TAR) cfz cosmo.tgz *.c *.h Imakefile chara.dat *.doc
