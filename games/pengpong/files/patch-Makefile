--- Makefile.orig	Fri Aug 24 15:39:29 2001
+++ Makefile	Mon Sep  3 13:25:31 2001
@@ -1,15 +1,8 @@
-all: SFont link2 sdlpong finish
+CXXFLAGS += `${SDL_CONFIG} --cflags`
+LIBS = `${SDL_CONFIG} --libs` -lSDL_image
 
-SFont: 
-	g++ -I/usr/include/SDL -D_REENTRANT -c -o SFont.o SFont.c 
-link2: 
-	g++ -I/usr/include/SDL -D_REENTRANT -c -o link2.o link2.cpp
-sdlpong: 
-	 g++ -pedantic -Wall -c -o sdlpong.o sdlpong.cpp -I/usr/include/SDL -D_REENTRANT
-finish: SFont link2 sdlpong
-	g++ -o pengpong sdlpong.o link2.o SFont.o -D_REENTRANT -I/usr/include/SDL -lSDL_image
-install: 
-	cp pengpong /usr/local/bin
-
-clean: 
-	rm *.o
+all:
+	${CXX} -c -o SFont.o SFont.c ${CXXFLAGS}
+	${CXX} -c -o link2.o link2.cpp ${CXXFLAGS}
+	${CXX} -c -o sdlpong.o sdlpong.cpp ${CXXFLAGS}
+	${CXX} -o pengpong sdlpong.o link2.o SFont.o ${CXXFLAGS} ${LIBS}
