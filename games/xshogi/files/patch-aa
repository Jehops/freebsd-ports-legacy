--- Makefile.custom.orig	Wed May 24 09:12:05 1995
+++ Makefile.custom	Sun Sep 27 12:04:31 1998
@@ -28,18 +28,18 @@
 VERS = 1.2p03
 
 # Installation directory
-prefix=/usr/local
+prefix=$(PREFIX)
 #prefix=/public/projects/shogi
 
 # Change these to something less transitory, like /usr/games, and then
 # compile. 
 # Where the binaries live (especially gnushogix).
-BINDIR= $(prefix)/games
+BINDIR= $(prefix)/bin
 #BINDIR=/public/projects/shogi/bin
 
 
 # Distribution directory
-DISTDIR=/public/projects/shogi
+#DISTDIR=/public/projects/shogi
 
 # Compress program
 COMPRESS = gzip
@@ -73,8 +73,12 @@
 #CCOPTIONS= -g 
 #LDOPTIONS= -lXaw -lXmu -lXt -lXext -lX11
 # This is for cc on SunOS with debug
-CCOPTIONS= -g -I/usr/include
-LDOPTIONS= -L/usr/lib -lXaw -lXmu -lXt -lXext -lX11
+CCOPTIONS= -g -O2 -m486 -pipe -fno-strength-reduce \
+	-I/usr/include -I$(PREFIX)/include 
+LDOPTIONS= -L/usr/lib -L$(PREFIX)/lib -lXaw -lXmu -lXt -lXext -lX11
+.if ${PORTOBJFORMAT} == "elf"
+LDOPTIONS+=-Wl,-rpath,$(X11BASE)/lib
+.endif
 
 # Options for xshogi
 # Use -DSENDTIME with at least gnushogix 1.2 patchlevel 3
@@ -88,8 +92,8 @@
 # The option -DISS compiles xshogi for supporting the Internet Shogi Server. 
 OPT = -DHAS_GETTIMEOFDAY -DSENDTIME -DISS -DTOP_PART_BITMAPS # -DBOTH_BITMAPS -DWESTERN_BITMAPS
 
-FIRST_PROGRAM  = -DFIRST_CHESS_PROGRAM=\"$(BINDIR)/gnushogix\"
-SECOND_PROGRAM = -DSECOND_CHESS_PROGRAM=\"$(BINDIR)/gnushogix\"
+FIRST_PROGRAM  = -DFIRST_CHESS_PROGRAM=\"$(LOCALBASE)/libexec/gnushogix\"
+SECOND_PROGRAM = -DSECOND_CHESS_PROGRAM=\"$(LOCALBASE)/libexec/gnushogix\"
 FIRST_HOST     = -DFIRST_HOST=\"localhost\"
 SECOND_HOST    = -DSECOND_HOST=\"localhost\"
 
