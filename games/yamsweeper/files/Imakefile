#ifndef XCOMM
#define XCOMM	#
#endif

XCOMM Imakefile src for Yamsweeper, created by hirofumi
XCOMM
XCOMM $Id: Imakefile,v 1.2 1994/11/03 00:18:42 hirofumi Exp hirofumi $
XCOMM

#include "REVISION"

        DEPLIBS = XawClientDepLibs
LOCAL_LIBRARIES = XawClientLibs
        HEADERS = bmps.h gentype.h struct.h funcs.h highscore.h
           SRCS = version.c main.c win.c bmps.c highscore.c
OBJS = $(SRCS:.c=.o)

#define cppLogUser	1
#define cppHighScore	1

YAMSDIR = $(LIBDIR)/yamsweeper
LOGFILE = $(YAMSDIR)/yams.log


DEFINES = '-DLOGFILE="$(LOGFILE)"' -DLOG_USER=cppLogUser \ @@\
	-DHAS_RANDOM=1 -DNO_FD_SET=0 \ @@\
	-DHIGH_SCORE=cppHighScore '-DHIGH_SCORE_FILE="$(YAMSDIR)/yams.hi"'

INSTALLDIR= $(BINDIR)

#if cppLogUser || cppHighScore

all: yamsweeper

#ifdef SetUIDProgramTarget
	/* X11R[56] */
SetUIDProgramTarget(yamsweeper,$(OBJS),$(DEPLIB),XawClientLibs,)
#else
	/* X11R4 */
NormalProgramTarget(yamsweeper,$(OBJS),$(DEPLIB),XawClientLibs,)
#endif

InstallProgramWithFlags(yamsweeper,$(INSTALLDIR),$(INSTUIDFLAGS))
InstallManPage(yamsweeper,$(MANDIR))

#if cppLogUser
install::
	MakeDir($(YAMSDIR))
	touch $(LOGFILE)
#endif	/* cppLogUser */

#if cppHighScore
install::
	MakeDir($(YAMSDIR))
#endif

#else	/* cppLogUser || cppHighScore */

ComplexProgramTarget(yamsweeper)

#endif


InstallAppDefaults(Yamsweeper)



#include "PACK"

DependTarget()
