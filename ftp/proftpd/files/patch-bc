--- contrib/mod_sqlpw.c.old	Sun Feb 11 19:52:06 2001
+++ contrib/mod_sqlpw.c	Sun Feb 11 19:53:42 2001
@@ -302,8 +302,6 @@
   if (!g.homedir)
     return DECLINED (cmd);
 
-  if (!g.pw.pw_name)
-    {
       g.pw.pw_name = pstrdup(session.pool, cmd->argv[0]);
       if (g.sql_uid)
 	g.pw.pw_uid = atoi (_uservar (cmd, cmd->argv[0], g.sql_uid) ? : "0");
@@ -323,7 +321,6 @@
       /* FIXME: unnecessary mysqlism */
       mysql_escape_string (g.user, g.pw.pw_name, strlen (g.pw.pw_name));
       g.user[ARBITRARY_MAX - 1] = 0;
-    }
 
   return mod_create_data (cmd, &g.pw);
 }
