--- modules/mod_xfer.c.orig	Mon Jul 31 16:49:19 2000
+++ modules/mod_xfer.c	Mon Jul 31 16:50:02 2000
@@ -268,7 +268,8 @@
   
   /* No PORT command has been issued.
    */
-  if(session.d != NULL || !(session.flags & SF_PORT)) {
+  if(!(session.flags & SF_PASSIVE) &&
+     (session.d != NULL || !(session.flags & SF_PORT))) {
     add_response_err(R_503, "No PORT command issued first.");
     return ERROR(cmd);
   }
