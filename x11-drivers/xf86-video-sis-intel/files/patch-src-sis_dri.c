--- src/sis_dri.c.orig	2007-05-02 05:13:00.000000000 +0400
+++ src/sis_dri.c	2008-06-06 01:17:19.000000000 +0400
@@ -56,7 +56,7 @@
 
 #ifdef XORG_VERSION_CURRENT
 #define SISHAVECREATEBUSID
-#if XORG_VERSION_CURRENT < XORG_VERSION_NUMERIC(6,7,99,1,0)
+#if XORG_VERSION_CURRENT < XORG_VERSION_NUMERIC(6,7,99,1,0) && XORG_VERSION_CURRENT >= XORG_VERSION_NUMERIC(4,0,0,0,0)
 extern char *DRICreatePCIBusID(pciVideoPtr PciInfo);
 #endif
 #else
