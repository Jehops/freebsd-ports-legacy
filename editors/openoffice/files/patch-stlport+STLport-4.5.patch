--- ../stlport/STLport-4.5.patch.orig	Mon Jan 14 18:33:17 2002
+++ ../stlport/STLport-4.5.patch	Tue May 28 23:55:42 2002
@@ -174,3 +174,138 @@
   class _STLP_CLASS_DECLSPEC __Named_exception : public _STLP_EXCEPTION_BASE {
   public:
     __Named_exception(const string& __str) 
+--- misc/STLport-4.5/src/gcc-freebsd.mak	Sun Jul 29 05:36:25 2001
++++ misc/build/STLport-4.5/src/gcc-freebsd.mak	Tue May 28 23:04:27 2002
+@@ -5,8 +5,8 @@
+ #
+ # compiler
+ #
+-CC = gcc -pthread
+-CXX = c++ -pthread -fexceptions
++CC+= ${PTHREAD_CFLAGS}
++CXX+= ${PTHREAD_CFLAGS} -fexceptions
+ 
+ #
+ # Basename for libraries
+@@ -19,7 +19,7 @@
+ #
+ LINK=ar cr
+ # 2.95 flag
+-DYN_LINK=c++ -pthread -fexceptions -shared -o
++DYN_LINK=${CXX} ${PTHREAD_LIBS} -fexceptions -shared -o
+ 
+ OBJEXT=o
+ DYNEXT=so
+@@ -41,8 +41,8 @@
+ 
+ CXXFLAGS_COMMON = -I${STLPORT_DIR} ${WARNING_FLAGS}
+ 
+-CXXFLAGS_RELEASE_static = $(CXXFLAGS_COMMON) -O2
+-CXXFLAGS_RELEASE_dynamic = $(CXXFLAGS_COMMON) -O2 -fPIC
++CXXFLAGS_RELEASE_static = $(CXXFLAGS_COMMON) ${CXXFLAGS}
++CXXFLAGS_RELEASE_dynamic = $(CXXFLAGS_COMMON) ${CXXFLAGS} -fPIC
+ 
+ CXXFLAGS_DEBUG_static = $(CXXFLAGS_COMMON) -g
+ CXXFLAGS_DEBUG_dynamic = $(CXXFLAGS_COMMON) -g -fPIC
+--- /dev/null	Tue May 28 22:55:00 2002
++++ misc/build/STLport-4.5/src/gcc-3.0-freebsd.mak	Tue May 28 22:38:52 2002
+@@ -0,0 +1,59 @@
++#
++# Note : this makefile is for gcc-3 !
++#
++
++#
++# compiler
++#
++CC+= ${PTHREAD_CFLAGS}
++CXX+= ${PTHREAD_CFLAGS} -fexceptions
++
++#
++# Basename for libraries
++#
++LIB_BASENAME = libstlport_gcc
++
++#
++# guts for common stuff
++#
++#
++LINK=ar cr
++DYN_LINK=${CXX} ${PTHREAD_LIBS} --fexceptions -shared -o
++
++OBJEXT=o
++DYNEXT=so
++STEXT=a
++RM=rm -rf
++PATH_SEP=/
++MKDIR=mkdir -p
++COMP=GCC-FREEBSD
++INSTALL_STEP = install_unix 
++
++all:  all_dynamic all_static symbolic_links 
++
++include common_macros.mak
++
++WARNING_FLAGS= -Wall -W -Wno-sign-compare -Wno-unused -Wno-uninitialized -ftemplate-depth-32
++
++CXXFLAGS_COMMON = -I${STLPORT_DIR} ${WARNING_FLAGS}
++
++CXXFLAGS_RELEASE_static = $(CXXFLAGS_COMMON) ${CXXFLAGS}
++CXXFLAGS_RELEASE_dynamic = $(CXXFLAGS_COMMON) ${CXXFLAGS} -fPIC
++
++CXXFLAGS_DEBUG_static = $(CXXFLAGS_COMMON) -g
++CXXFLAGS_DEBUG_dynamic = $(CXXFLAGS_COMMON) -g -fPIC
++
++CXXFLAGS_STLDEBUG_static = $(CXXFLAGS_DEBUG_static) -D_STLP_DEBUG
++CXXFLAGS_STLDEBUG_dynamic = $(CXXFLAGS_DEBUG_dynamic) -D_STLP_DEBUG
++
++include common_percent_rules.mak
++include common_rules.mak
++
++
++#install: all
++#	cp -p $(LIB_TARGET) ${D_LIB_TARGET} ../lib
++
++#%.s: %.cpp
++#	$(CXX) $(CXXFLAGS) -O4 -S -pto $<  -o $@
++
++
+--- misc/STLport-4.5/stlport/cwchar.orig	Tue May 28 22:51:31 2002
++++ misc/build/STLport-4.5/stlport/cwchar	Tue May 28 22:55:33 2002
+@@ -21,6 +21,9 @@
+ #  include <stl/_prolog.h>
+ # endif
+ 
++#ifdef __FreeBSD__
++# include <../wchar.h>
++#endif
+ # include <stl/_cwchar.h>
+ 
+ # if (_STLP_OUTERMOST_HEADER_ID == 0x120)
+--- misc/STLport-4.5/stlport/config/stl_gcc.h.orig	Tue May 28 23:46:40 2002
++++ misc/build/STLport-4.5/stlport/config/stl_gcc.h	Tue May 28 23:54:30 2002
+@@ -226,8 +226,13 @@
+ 
+ # if (__GNUC__ >= 3)
+ 
++#ifdef __FreeBSD__
++#  define _STLP_NATIVE_INCLUDE_PATH ../g++
++#  define _STLP_NATIVE_OLD_STREAMS_INCLUDE_PATH ../g++/backward
++#else
+ #  define _STLP_NATIVE_INCLUDE_PATH ../g++-v3
+ #  define _STLP_NATIVE_OLD_STREAMS_INCLUDE_PATH ../g++-v3/backward
++#endif
+ 
+ # elif (__GNUC_MINOR__ < 8)
+ 
+@@ -261,7 +266,11 @@
+ # if defined(__DJGPP)
+ #   define _STLP_NATIVE_INCLUDE_PATH ../lang/cxx
+ # elif (__GNUC__ >= 3) || (__GNUC_MINOR__ >= 97)
++#ifdef __FreeBSD__
++#   define _STLP_NATIVE_INCLUDE_PATH ../include/g++
++#else
+ #   define _STLP_NATIVE_INCLUDE_PATH ../include/g++-v3
++#endif
+ # elif ((__GNUC_MINOR__ >= 95 && __GNUC_MINOR__ < 97) && !( defined (__FreeBSD__) || defined (__NetBSD__) || defined(__sgi) ) )
+ #   define _STLP_NATIVE_INCLUDE_PATH ../g++-3
+ # elif (__GNUC_MINOR__ > 8) && (__GNUC_MINOR__ < 95) && (__GNUC__ < 3)
