--- src/lpe.c	Thu Apr 19 02:16:41 2001
+++ src/lpe.c	Thu Apr 19 03:08:30 2001
@@ -48,13 +48,17 @@
 {
     buffer *node;
 
-    while (the_buf->next != the_buf)
+    if (the_buf->text != NULL)
     {
-        node = the_buf->next;
-        the_buf->next = the_buf->next->next;
-        the_buf->next->prev = the_buf;
-        free(node);
+    	while (the_buf->next != the_buf)
+    	{
+	        node = the_buf->next;
+	        the_buf->next = the_buf->next->next;
+	        the_buf->next->prev = the_buf;
+	        free(node);
+    	}
     }
+    	
     free(the_buf);
 }
 
