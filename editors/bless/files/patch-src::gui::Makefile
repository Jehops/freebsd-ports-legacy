--- src/gui/Makefile.orig	Wed Oct 27 13:13:51 2004
+++ src/gui/Makefile	Wed Oct 27 13:14:03 2004
@@ -5,7 +5,7 @@
 DLLS= FontDrawer.dll 
 
 exe: 
-	$(MCS)  -r:nunit.framework -pkg:gtk-sharp FontDrawer.cs
+	$(MCS)  -r:nunit.framework $(shell pkg-config --libs gtk-sharp) FontDrawer.cs
 
 test: fd-test oa-test
 
@@ -22,21 +22,21 @@
 	nunit-console DataView.dll
 
 FontDrawer.dll: FontDrawer.cs
-	$(MCS) -t:library -r:nunit.framework -pkg:gtk-sharp FontDrawer.cs
+	$(MCS) -t:library -r:nunit.framework $(shell pkg-config --libs gtk-sharp) FontDrawer.cs
 
 OffsetArea.dll: OffsetArea.cs
-	$(MCS) -t:library -r:nunit.framework -pkg:gtk-sharp OffsetArea.cs Area.cs FontDrawer.cs
+	$(MCS) -t:library -r:nunit.framework $(shell pkg-config --libs gtk-sharp) OffsetArea.cs Area.cs FontDrawer.cs
 
 HexArea.dll: HexArea.cs
-	$(MCS) -t:library -r:nunit.framework -pkg:gtk-sharp HexArea.cs Area.cs FontDrawer.cs
+	$(MCS) -t:library -r:nunit.framework $(shell pkg-config --libs gtk-sharp) HexArea.cs Area.cs FontDrawer.cs
 
 DataView.dll: DataView.cs Area.cs HexArea.cs OffsetArea.cs SeparatorArea.cs AsciiArea.cs FontDrawer.cs
-	$(MCS) -t:library -r:nunit.framework -pkg:gtk-sharp DataView.cs  Area.cs HexArea.cs OffsetArea.cs SeparatorArea.cs AsciiArea.cs FontDrawer.cs
+	$(MCS) -t:library -r:nunit.framework $(shell pkg-config --libs gtk-sharp) DataView.cs  Area.cs HexArea.cs OffsetArea.cs SeparatorArea.cs AsciiArea.cs FontDrawer.cs
 
 
 
 %.dll:%.cs
-	$(MCS) -t:library -r:nunit.framework -pkg:gtk-sharp $<
+	$(MCS) -t:library -r:nunit.framework $(shell pkg-config --libs gtk-sharp) $<
 
 clean:
-	rm -rf $(DLLS)
\ No newline at end of file
+	rm -rf $(DLLS)
