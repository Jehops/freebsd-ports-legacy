--- ../config_office/set_soenv.1.orig	Tue Apr  2 23:59:46 2002
+++ ../config_office/set_soenv.1	Wed Apr  3 00:02:47 2002
@@ -40,7 +40,7 @@
 #
 # Set this value equal to the corresponding amount of
 # command line arguments. 
-my $numArgs = 20;
+my $numArgs = 23;
 # Determining the amount of arguments in the call.
 my $numEnter = $#ARGV + 1;
 if ( $numEnter != $numArgs ) 
@@ -72,8 +72,9 @@
 #
 # Platform dependent constant values.
 my ( $BIG_SVX, $COM, $CPU, $CPUNAME, $CVER, $DLLSUFFIX, $GLIBC, $GUI, $GUIBASE, $GUIENV, 
-     $GVER, $GVERDIR, $OS, $OUTPATH, $INPATH, $PATH_SEPERATOR, $PROSWITCH, $XPVERSION, $BOTH,
-     $DEMO_ENV, $DYNAMIC_CRT, $SET_EXCEPTIONS, $emergency, $use_shl_versions, $CDPATHx );
+     $GVER, $GVERDIR, $OSVERSION, $OS, $OUTPATH, $INPATH, $PATH_SEPERATOR, $PROSWITCH, $XPVERSION, $BOTH,
+     $DEMO_ENV, $DYNAMIC_CRT, $SET_EXCEPTIONS, $emergency, $use_shl_versions, $CDPATHx, $PTHREAD_CFLAGS,
+     $PTHREAD_LIBS );
 #
 #-------------------------------------------
 # IIc. Declaring the environment variables.
@@ -316,7 +317,7 @@
    $PROSWITCH      = "-DPRODUCT";
    $XPVERSION      = "3";
    $SOLAR_JAVA	   = "TRUE"; 
-      $XPVERSION      = "3";
+   $XPVERSION      = "3";
 } 
 elsif ( $platform eq "$FreeBSD" ) 
 {     print "Setting FreeBSD specific values... ";
@@ -339,6 +340,9 @@
       $PATH_SEPERATOR = $ps;
       $PROSWITCH      = "-DPRODUCT";
       $XPVERSION      = "3";
+      $OSVERSION      = $ARGV[ 20 ];
+      $PTHREAD_CFLAGS = $ARGV[ 21 ];
+      $PTHREAD_LIBS   = $ARGV[ 22 ];
 } 
 elsif ( $platform eq "$Linux" ) 
 {
@@ -929,15 +933,16 @@
                         $D.$COM.
 			$D.$CVER.
                         $D.$GVER.
-                        $D."_PTHREADS".
                         $D.$OS.
                         $D.$CPUNAME;
 if  ($platform eq "$FreeBSD")
-{  $SOLARDEF         .= $D."X86";
+{  $SOLARDEF         .= $D."X86".
+                        $D."OSVERSION=$OSVERSION".
+			" ".$PTHREAD_CFLAGS;
 }
 $SOLARDEF            .= $D."_REENTRANT".
                         $D."_POSIX_PTHREAD_SEMANTICS";
-if  (($platform ne "$Tru64") && ( $platform ne "$Irix") && ( $platform ne "$Irix64"))
+if  (($platform ne "$Tru64") && ( $platform ne "$Irix") && ( $platform ne "$Irix64") && ( $platform ne "FreeBSD" ) && ( $platform ne "NetBSD" ))
 {  $SOLARDEF         .= $D."GLIBC=".$GLIBC;
 }
 $SOLARDEF            .= $D."SUPD=$UPD".
@@ -1034,7 +1039,7 @@
                         $ps.$USR.$LIB.
                         $ps.$USR_LOCAL.$BIN;
 }
-elsif (($platform eq "$Linux") or ($platform eq "$FreeBSD") or ($platform eq "$NetBSD") or ($platform eq "$Tru64") or ($platform eq "$Irix") or ($platform eq "$Irix64"))
+elsif (($platform eq "$Linux") or ($platform eq "$NetBSD") or ($platform eq "$Tru64") or ($platform eq "$Irix") or ($platform eq "$Irix64"))
 {  $PATH              = $cur_dir.
                         $ps.'$SOLARVER'.$ds.'$UPD'.$ds.'$INPATH'.$BIN.
                         $ps.'$SOLARENV'.$ds.'$OUTPATH'.$BIN.
@@ -1053,6 +1058,22 @@
 			$ps.$USR.$ds."X11".$BIN.
                         $ps.$USR.$LIB;
 }
+elsif ($platform eq "$FreeBSD")
+{  $PATH              = $cur_dir.
+                        $ps.'$SOLARVER'.$ds.'$UPD'.$ds.'$INPATH'.$BIN.
+                        $ps.'$SOLARENV'.$ds.'$OUTPATH'.$BIN.
+                        $ps.'$SOLARENV'.$BIN.
+                        $ps.'$JAVA_HOME'.$BIN.
+			$ps.$USR_LOCAL.$BIN.
+			$ps.$USR_LOCAL.$ds."sbin";
+
+   $PATH             .= GetCorrectPath($COMPATH, $PERL_PATH, $TCSH_PATH, $compiler);
+
+   $PATH             .= $ps.$USR.$ds."sbin".
+                        $ps.$USR.$ds."X11R6".$ds."bin".
+                        $ps.$USR.$LIB;
+}
+
 elsif ($platform eq "$Winnt")
 { 
    my ( $noldPATH );
@@ -1191,7 +1212,7 @@
 	$SOLARINC            .= $I.$USR.$INCLUDE;
 }
 $SOLARINC	     .= $STLPORT_stlport;
-if ($platform eq "$Linux")
+if ($platform eq "$Linux" || $platform eq "$FreeBSD")
 {
 # This simply adds an include path, so even cases that break the FHS work
 $SOLARINC            .= $STLPORT_inc_stlport;
@@ -1205,11 +1226,6 @@
 {  $SOLARINC         .= $I.'$COMPATH'.$ds."include";
 }
 
-if ($platform eq "$Linux")
-{
-# This simply adds an include path, so even cases that break the FHS work
-$SOLARINC            .= $STLPORT_inc_stlport;
-}
 $SOLARINC            .= $I.'$SOLARENV'.$INC.$ds."Xp31".
                         $I.'$JAVA_HOME'.$INCLUDE;
 
@@ -1399,6 +1415,9 @@
 ToFile( "GUIENV",            $GUIENV,            "e" );
 ToFile( "GVER",              $GVER,              "e" );
 ToFile( "OS",                $OS,                "e" );
+ToFile( "OSVERSION",         $OSVERSION,         "e" );
+ToFile( "PTHREAD_CFLAGS",    $PTHREAD_CFLAGS,    "e" );
+ToFile( "PTHREAD_LIBS",      $PTHREAD_LIBS,      "e" );
 ToFile( "OUTPATH",           $OUTPATH,           "e" );
 ToFile( "INPATH",            $INPATH,            "e" );
 ToFile( "GVERDIR",           $GVERDIR,           "e" );
