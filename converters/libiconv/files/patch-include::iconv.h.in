
$FreeBSD$

--- include/iconv.h.in.orig	Mon Jun 25 15:06:22 2001
+++ include/iconv.h.in	Sun Mar 17 15:41:14 2002
@@ -21,6 +21,10 @@
 #ifndef _LIBICONV_H
 #define _LIBICONV_H
 
+#ifdef __FreeBSD__
+#define LIBICONV_PLUG
+#endif
+
 #define _LIBICONV_VERSION 0x0107    /* version number: (major<<8) + minor */
 extern int _libiconv_version;       /* Likewise */
 
@@ -68,6 +72,8 @@
    encoding `tocode'. */
 #ifndef LIBICONV_PLUG
 #define iconv_open libiconv_open
+#else
+#define libiconv_open iconv_open
 #endif
 extern iconv_t iconv_open (const char* tocode, const char* fromcode);
 
@@ -78,17 +84,21 @@
    Decrements `*outbytesleft' and increments `*outbuf' by the same amount. */
 #ifndef LIBICONV_PLUG
 #define iconv libiconv
+#else
+#define libiconv iconv
 #endif
 extern size_t iconv (iconv_t cd, @ICONV_CONST@ char* * inbuf, size_t *inbytesleft, char* * outbuf, size_t *outbytesleft);
 
 /* Frees resources allocated for conversion descriptor `cd'. */
 #ifndef LIBICONV_PLUG
 #define iconv_close libiconv_close
+#else
+#define libiconv_close iconv_close
 #endif
 extern int iconv_close (iconv_t cd);
 
 
-#ifndef LIBICONV_PLUG
+#if !defined(LIBICONV_PLUG) || defined(__FreeBSD__)
 
 /* Nonstandard extensions. */
 
