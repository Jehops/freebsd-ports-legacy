
$FreeBSD$

--- libcharset/lib/Makefile.in.orig	Sun Mar 11 16:37:53 2001
+++ libcharset/lib/Makefile.in	Mon Apr  2 11:56:59 2001
@@ -10,6 +10,7 @@
 local_prefix = /usr/local
 exec_prefix = @exec_prefix@
 libdir = @libdir@
+sysconfdir = $(exec_prefix)/libdata
 
 # Programs used by "make":
 CC = @CC@
@@ -51,7 +52,7 @@
 	$(LIBTOOL_LINK) $(CC) -o libcharset.la -rpath $(libdir) -version-info $(LIBCHARSET_VERSION_INFO) -no-undefined $(OBJECTS)
 
 localcharset.lo : $(srcdir)/localcharset.c
-	$(LIBTOOL_COMPILE) $(CC) $(CFLAGS) $(INCLUDES) -DHAVE_CONFIG_H -DLIBDIR=\"$(libdir)\" -c $(srcdir)/localcharset.c
+	$(LIBTOOL_COMPILE) $(CC) $(CFLAGS) $(INCLUDES) -DHAVE_CONFIG_H -DLIBDIR=\"$(sysconfdir)\" -c $(srcdir)/localcharset.c
 
 charset.alias: $(srcdir)/config.charset
 	$(SHELL) $(srcdir)/config.charset '@host@' > t-$@
@@ -70,11 +71,12 @@
 install-lib : all force
 	$(MKINSTALLDIRS) $(libdir)
 	$(LIBTOOL_INSTALL) $(INSTALL_DATA) libcharset.la $(libdir)/libcharset.la
-	test -f $(libdir)/charset.alias && orig=$(libdir)/charset.alias \
+	$(MKINSTALLDIRS) $(sysconfdir)
+	test -f $(sysconfdir)/charset.alias && orig=$(sysconfdir)/charset.alias \
 	                                || orig=charset.alias; \
-	sed -f ref-add.sed $$orig > $(libdir)/t-charset.alias; \
-	$(INSTALL_DATA) $(libdir)/t-charset.alias $(libdir)/charset.alias; \
-	rm -f $(libdir)/t-charset.alias
+	sed -f ref-add.sed $$orig > $(sysconfdir)/t-charset.alias; \
+	$(INSTALL_DATA) $(sysconfdir)/t-charset.alias $(sysconfdir)/charset.alias; \
+	rm -f $(sysconfdir)/t-charset.alias
 
 # The following is needed in order to install a simple file in $(libdir)
 # which is shared with other installed packages. We use a list of referencing
@@ -86,15 +88,16 @@
 install : all force
 	$(MKINSTALLDIRS) $(DESTDIR)$(libdir)
 	$(LIBTOOL_INSTALL) $(INSTALL_DATA) libcharset.la $(DESTDIR)$(libdir)/libcharset.la
-	if test -f $(DESTDIR)$(libdir)/charset.alias; then \
-	  sed -f ref-add.sed $(DESTDIR)$(libdir)/charset.alias > $(DESTDIR)$(libdir)/t-charset.alias; \
-	  $(INSTALL_DATA) $(DESTDIR)$(libdir)/t-charset.alias $(DESTDIR)$(libdir)/charset.alias; \
-	  rm -f $(DESTDIR)$(libdir)/t-charset.alias; \
+	$(MKINSTALLDIRS) $(DESTDIR)$(sysconfdir)
+	if test -f $(DESTDIR)$(sysconfdir)/charset.alias; then \
+	  sed -f ref-add.sed $(DESTDIR)$(sysconfdir)/charset.alias > $(DESTDIR)$(sysconfdir)/t-charset.alias; \
+	  $(INSTALL_DATA) $(DESTDIR)$(sysconfdir)/t-charset.alias $(DESTDIR)$(sysconfdir)/charset.alias; \
+	  rm -f $(DESTDIR)$(sysconfdir)/t-charset.alias; \
 	else \
 	  if test @GLIBC21@ = no; then \
-	    sed -f ref-add.sed charset.alias > $(DESTDIR)$(libdir)/t-charset.alias; \
-	    $(INSTALL_DATA) $(DESTDIR)$(libdir)/t-charset.alias $(DESTDIR)$(libdir)/charset.alias; \
-	    rm -f $(DESTDIR)$(libdir)/t-charset.alias; \
+	    sed -f ref-add.sed charset.alias > $(DESTDIR)$(sysconfdir)/t-charset.alias; \
+	    $(INSTALL_DATA) $(DESTDIR)$(sysconfdir)/t-charset.alias $(DESTDIR)$(sysconfdir)/charset.alias; \
+	    rm -f $(DESTDIR)$(sysconfdir)/t-charset.alias; \
 	  fi ; \
 	fi
 
