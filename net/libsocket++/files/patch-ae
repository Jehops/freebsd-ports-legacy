--- sockinet.C.old	Sat Jan 29 16:57:13 2000
+++ sockinet.C	Sun Jan 30 11:30:02 2000
@@ -10,6 +10,7 @@
 
 #include <config.h>
 #include <sockinet.h>
+#include <osreldate.h>
 
 EXTERN_C_BEGIN
 #include <netdb.h>
@@ -144,7 +145,11 @@
 {
   sockinetaddr sin;
   int len = sin.size();
+#if (__FreeBSD_version < 400013)
   if (::getsockname(rep->sock, sin.addr (), &len) == -1)
+#else
+  if (::getsockname(rep->sock, sin.addr (), (socklen_t *) &len) == -1)
+#endif
     perror("sockinetbuf::localaddr()");
   return sin;
 }
@@ -168,7 +173,11 @@
 {
   sockinetaddr sin;
   int len = sin.size();
+#if (__FreeBSD_version < 400013)
   if (::getpeername(rep->sock, sin.addr (), &len) == -1)
+#else
+  if (::getpeername(rep->sock, sin.addr (), (socklen_t *) &len) == -1)
+#endif
     perror("sockinetbuf::peeraddr()");
   return sin;
 }
