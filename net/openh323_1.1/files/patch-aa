*** ../pwlib/src/ptlib/unix/tlibthrd.cxx.orig	Wed Jul 25 17:09:09 2001
--- ../pwlib/src/ptlib/unix/tlibthrd.cxx	Thu Jul 26 13:21:40 2001
*************** BOOL PSemaphore::Wait(const PTimeInterva
*** 767,773 ****
    ::gettimeofday(&finishTime, NULL);
    finishTime.tv_sec += waitTime.GetSeconds();
    finishTime.tv_usec += waitTime.GetMilliSeconds() % 1000L;
!   if (finishTime.tv_usec > 1000000) {
      finishTime.tv_usec -= 1000000;
      finishTime.tv_sec++;
    }
--- 785,791 ----
    ::gettimeofday(&finishTime, NULL);
    finishTime.tv_sec += waitTime.GetSeconds();
    finishTime.tv_usec += waitTime.GetMilliSeconds() % 1000L;
!   if (finishTime.tv_usec >= 1000000) {
      finishTime.tv_usec -= 1000000;
      finishTime.tv_sec++;
    }
