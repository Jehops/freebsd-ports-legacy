--- libatalk/cnid/cnid_nextid.c.orig	Fri Aug 17 00:30:29 2001
+++ libatalk/cnid/cnid_nextid.c	Wed Aug 29 15:50:04 2001
@@ -7,6 +7,7 @@
 #include "config.h"
 #endif /* HAVE_CONFIG_H */
 
+#ifdef CNID_DB
 #include <db.h>
 
 #include <atalk/adouble.h>
@@ -29,5 +30,6 @@
   memcpy(&id, ad_entry(&db->rootinfo, ADEID_DID), sizeof(id));
   return id;
 }
+#endif /* CNID_DB */
 #endif
 

