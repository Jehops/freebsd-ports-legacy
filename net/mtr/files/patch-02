--- dns.c.orig	Sun Feb  9 17:40:31 2003
+++ dns.c	Sun Feb  9 17:41:03 2003
@@ -835,8 +835,8 @@
 void dorequest(char *s,int type,word id){
    packetheader *hp;
    int r,i;
-   int buf[(MaxPacketsize/sizeof (int))+1];
-   r = res_mkquery(QUERY,s,C_IN,type,NULL,0,NULL,(unsigned char*)buf,MaxPacketsize);
+   unsigned char buf[MaxPacketsize];
+   r = res_mkquery(QUERY,s,C_IN,type,NULL,0,NULL,buf,MaxPacketsize);
    if (r == -1){
       restell("Resolver error: Query too large.");
       return;
