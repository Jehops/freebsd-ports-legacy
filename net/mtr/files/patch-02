--- dns.c.orig	Wed Apr  7 05:33:55 2004
+++ dns.c	Thu Apr 22 20:34:45 2004
@@ -767,8 +767,8 @@
 {
    packetheader *hp;
    int r,i;
-   int buf[(MaxPacketsize/sizeof (int))+1];
-   r = res_mkquery(QUERY,s,C_IN,type,NULL,0,NULL,(unsigned char*)buf,MaxPacketsize);
+   unsigned char buf[MaxPacketsize];
+   r = res_mkquery(QUERY,s,C_IN,type,NULL,0,NULL,buf,MaxPacketsize);
    if (r == -1) {
       restell("Resolver error: Query too large.");
       return;
