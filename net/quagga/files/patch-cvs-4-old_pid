Index: zebra/kernel_socket.c
===================================================================
RCS file: /var/cvsroot/quagga/zebra/kernel_socket.c,v
retrieving revision 1.48
diff -u -r1.48 kernel_socket.c
--- zebra/kernel_socket.c	14 Sep 2007 11:31:55 -0000	1.48
+++ zebra/kernel_socket.c	14 Sep 2007 14:11:28 -0000
@@ -799,8 +799,7 @@
        * At the same time, ignore unconfirmed messages, they should be tracked
        * by rtm_write() and kernel_rtm_ipv4().
        */
-      if (rtm->rtm_type != RTM_GET
-          && (rtm->rtm_pid == pid || rtm->rtm_pid == old_pid))
+      if (rtm->rtm_type != RTM_GET && rtm->rtm_pid == pid)
       {
         char buf[INET_ADDRSTRLEN], gate_buf[INET_ADDRSTRLEN];
         int ret;
Index: zebra/main.c
===================================================================
RCS file: /var/cvsroot/quagga/zebra/main.c,v
retrieving revision 1.27
diff -u -r1.27 main.c
--- zebra/main.c	14 Sep 2007 13:31:52 -0000	1.27
+++ zebra/main.c	14 Sep 2007 14:11:28 -0000
@@ -47,7 +47,6 @@
 };
 
 /* process id. */
-pid_t old_pid;
 pid_t pid;
 
 /* Pacify zclient.o in libzebra, which expects this variable. */
@@ -366,9 +365,6 @@
   if (batch_mode)
     exit (0);
 
-  /* Needed for BSD routing socket. */
-  old_pid = getpid ();
-
   /* Daemonize. */
   if (daemon_mode)
     daemon (0, 0);
Index: zebra/test_main.c
===================================================================
RCS file: /var/cvsroot/quagga/zebra/test_main.c,v
retrieving revision 1.1
diff -u -r1.1 test_main.c
--- zebra/test_main.c	27 Jul 2006 19:59:58 -0000	1.1
+++ zebra/test_main.c	14 Sep 2007 14:11:28 -0000
@@ -43,7 +43,6 @@
 };
 
 /* process id. */
-pid_t old_pid;
 pid_t pid;
 
 /* zebra_rib's workqueue hold time. Private export for use by test code only */
@@ -313,9 +312,6 @@
   if (batch_mode)
     exit (0);
 
-  /* Needed for BSD routing socket. */
-  old_pid = getpid ();
-
   /* Daemonize. */
   if (daemon_mode)
     daemon (0, 0);
Index: zebra/zserv.h
===================================================================
RCS file: /var/cvsroot/quagga/zebra/zserv.h,v
retrieving revision 1.15
diff -u -r1.15 zserv.h
--- zebra/zserv.h	2 May 2007 16:05:35 -0000	1.15
+++ zebra/zserv.h	14 Sep 2007 14:11:28 -0000
@@ -107,6 +107,5 @@
 extern int zsend_router_id_update(struct zserv *, struct prefix *);
 
 extern pid_t pid;
-extern pid_t old_pid;
 
 #endif /* _ZEBRA_ZEBRA_H */
