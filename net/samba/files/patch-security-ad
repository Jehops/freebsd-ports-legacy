diff -u -r --new-file --exclude=CVS source/smbd/password.c samba-2.2.8a/source/smbd/password.c
--- source/smbd/password.c	2003-03-14 15:34:49.000000000 -0600
+++ source/smbd/password.c	2003-04-04 16:02:33.000000000 -0600
@@ -816,7 +816,7 @@
 		if (!ok && lp_username(snum)) {
 			char *auser;
 			pstring user_list;
-			StrnCpy(user_list,lp_username(snum),sizeof(pstring));
+			StrnCpy(user_list,lp_username(snum),sizeof(pstring)-1);
 
 			pstring_sub(user_list,"%S",lp_servicename(snum));
 	  
