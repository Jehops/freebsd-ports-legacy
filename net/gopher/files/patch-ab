*** gopherd/AUTH.c.orig	Tue Apr 29 12:28:14 1997
--- gopherd/AUTH.c	Tue Apr 29 12:33:45 1997
***************
*** 259,273 ****
--- 259,276 ----
  	  return(AUTHRES_SYSERR);
       }
       
+ #ifndef __FreeBSD__
       if (fgetpwent(ourpasswd) == NULL) {
  	  Debugmsg("fgetpwent failed...");
  	  return(AUTHRES_SYSERR);
       }
+ #endif
       
       fseek(ourpasswd, 0L,SEEK_SET);
  
       /** Mimic getpwnam, sigh why isn't setpwfile() everywhere....**/
       
+ #ifndef __FreeBSD__
       while ((pw = fgetpwent(ourpasswd)) != NULL) {
  	  if (strcmp(pw->pw_name, username) == 0) {
  	       pwcheck = AUTHunix_checkuser(pw, password);
***************
*** 291,296 ****
--- 294,300 ----
  		    return(pwcheck);
  	  }
       }
+ #endif
       return(AUTHRES_NOUSER);
  #else
       return(AUTHRES_SYSERR);
