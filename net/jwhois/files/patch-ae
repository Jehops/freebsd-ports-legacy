--- src/lookup.c	2002/08/02 22:17:41	1.33
+++ src/lookup.c	2003/02/04 21:21:16	1.34
@@ -391,7 +391,7 @@
 	{
 	  memcpy(bptr, text, strlen(text)+1);
 
-	  strptr = (char *)strtok(bptr, "\n");
+	  strptr = (char *)strtok(bptr, "\r\n");
 	  while (strptr)
 	    {
 	      rpb.allocated = 0;
@@ -443,7 +443,7 @@
 		}
 	      else if (ind == -2)
 		return -1;
-	      strptr = (char *)strtok(NULL, "\n");
+	      strptr = (char *)strtok(NULL, "\r\n");
 	    }
 	}
     }
