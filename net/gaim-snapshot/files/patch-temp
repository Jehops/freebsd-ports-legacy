--- src/protocols/yahoo/yahoo.c.orig	Sun Oct 13 02:50:25 2002
+++ src/protocols/yahoo/yahoo.c	Sun Oct 13 02:50:58 2002
@@ -525,6 +525,9 @@
 		l = l->next;
 	}
 	
+	if (!msg)
+	    return;
+
 	if (!g_strncasecmp(msg, "TYPING", strlen("TYPING"))) {
 		if (*stat == '1')
 			serv_got_typing(gc, from, 0);
