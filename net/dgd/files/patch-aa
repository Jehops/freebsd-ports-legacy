*** Makefile.old	Sat Jul 16 13:28:40 1994
--- Makefile	Thu Aug 25 10:20:32 1994
***************
*** 1,14 ****
  #
  # Makefile for DGD, Dworkin's Generic Driver
  #
! HOST=	NETBSD
  DEFINES=-D$(HOST)
  DEBUG=
  CCFLAGS=-O2 $(DEFINES) $(DEBUG)
  CFLAGS=	-I. -Icomp -Ilex -Ied -Ikfun $(CCFLAGS)
! LDFLAGS=
! LIBS=
! CC=	gcc
  LD=	$(CC)
  DMAKE=	make
  BIN=		../bin
--- 1,16 ----
  #
  # Makefile for DGD, Dworkin's Generic Driver
  #
! HOST=	BSD386
  DEFINES=-D$(HOST)
  DEBUG=
+ #DEBUG=	-g -DDEBUG
  CCFLAGS=-O2 $(DEFINES) $(DEBUG)
  CFLAGS=	-I. -Icomp -Ilex -Ied -Ikfun $(CCFLAGS)
! LDFLAGS= -s
! #LDFLAGS=
! LIBS= -lcrypt
! CC=	cc
  LD=	$(CC)
  DMAKE=	make
  BIN=		../bin
***************
*** 20,26 ****
  COMPOBJ=alloc.o error.o hash.o path.o str.o array.o object.o data.o \
  	interpret.o config.o
  
! a.out:	$(OBJ) always
  	cd comp; $(MAKE) 'DMAKE=$(DMAKE)' 'CC=$(CC)' 'CCFLAGS=$(CCFLAGS)' dgd
  	cd lex; $(MAKE) 'DMAKE=$(DMAKE)' 'CC=$(CC)' 'CCFLAGS=$(CCFLAGS)' dgd
  	cd ed; $(MAKE) 'DMAKE=$(DMAKE)' 'CC=$(CC)' 'CCFLAGS=$(CCFLAGS)' dgd
--- 20,26 ----
  COMPOBJ=alloc.o error.o hash.o path.o str.o array.o object.o data.o \
  	interpret.o config.o
  
! a.out all:	$(OBJ) always
  	cd comp; $(MAKE) 'DMAKE=$(DMAKE)' 'CC=$(CC)' 'CCFLAGS=$(CCFLAGS)' dgd
  	cd lex; $(MAKE) 'DMAKE=$(DMAKE)' 'CC=$(CC)' 'CCFLAGS=$(CCFLAGS)' dgd
  	cd ed; $(MAKE) 'DMAKE=$(DMAKE)' 'CC=$(CC)' 'CCFLAGS=$(CCFLAGS)' dgd
***************
*** 50,56 ****
  
  comp/a.out:
  	cd comp; $(DMAKE) 'DMAKE=$(DMAKE)' 'CC=$(CC)' 'CCFLAGS=$(CCFLAGS)' \
! 			  'LIBS=$(LIBS)' a.out
  
  clean:
  	rm -f a.out $(OBJ) comp.sub lex.sub ed.sub
--- 54,60 ----
  
  comp/a.out:
  	cd comp; $(DMAKE) 'DMAKE=$(DMAKE)' 'CC=$(CC)' 'CCFLAGS=$(CCFLAGS)' \
! 			'LDFLAGS=$(LDFLAGS)' 'LIBS=$(LIBS)' a.out
  
  clean:
  	rm -f a.out $(OBJ) comp.sub lex.sub ed.sub
