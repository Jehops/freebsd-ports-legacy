--- Configure.orig	Tue Jan 18 00:44:18 2000
+++ Configure	Sun Apr 23 05:00:59 2000
@@ -1,4 +1,4 @@
-#!/usr/local/bin/perl
+#!/usr/bin/perl
 #
 # $Id: Configure,v 1.8 1997/03/04 09:22:32 gbarr Exp $
 
@@ -258,18 +258,19 @@
 
 #---------------------------------------------------------------------------
 
-if($have_old && !$opt_d)
- {
-  $msg = <<EDQ;
-
-Ah, I see you already have installed libnet before.
-
-Do you want to modify/update your configuration (y|n) ?
-EDQ
-
- $opt_d = 1
-	unless get_bool($msg,0);
- }
+#if($have_old && !$opt_d)
+# {
+#  $msg = <<EDQ;
+#
+#Ah, I see you already have installed libnet before.
+#
+#Do you want to modify/update your configuration (y|n) ?
+#EDQ
+#
+# $opt_d = 1
+#	unless get_bool($msg,0);
+# }
+$opt_d = 0;
 
 #---------------------------------------------------------------------------
 
@@ -286,7 +287,8 @@
 Do you want me to perform hostname lookups (y|n) ?
 EDQ
 
-$cfg{'test_exist'} = get_bool($msg, $oldcfg{'test_exist'});
+#$cfg{'test_exist'} = get_bool($msg, $oldcfg{'test_exist'});
+$cfg{'test_exist'} = 0;
 
 print <<EDQ unless $cfg{'test_exist'};
 
@@ -301,139 +303,144 @@
 
 #---------------------------------------------------------------------------
 
-print <<EDQ;
-
-The following questions all require a list of host names, separated
-with spaces. If you do not have a host available for any of the
-services, then enter a single space, followed by <CR>. To accept the
-default, hit <CR>
-
-EDQ
+#print <<EDQ;
+#
+#The following questions all require a list of host names, separated
+#with spaces. If you do not have a host available for any of the
+#services, then enter a single space, followed by <CR>. To accept the
+#default, hit <CR>
+#
+#EDQ
 
 $msg = 'Enter a list of available NNTP hosts :';
 
-$def = $oldcfg{'nntp_hosts'} ||
-	[ default_hostname($ENV{NNTPSERVER},$ENV{NEWSHOST},'news') ];
+#$def = $oldcfg{'nntp_hosts'} ||
+#	[ default_hostname($ENV{NNTPSERVER},$ENV{NEWSHOST},'news') ];
 
-$cfg{'nntp_hosts'} = get_host_list($msg,$def);
+#$cfg{'nntp_hosts'} = get_host_list($msg,$def);
+$cfg{'nntp_hosts'} = [default_hostname($ENV{NNTPSERVER}, $ENV{NEWSHOST}, 'news') ];
 
 #---------------------------------------------------------------------------
 
 $msg = 'Enter a list of available SMTP hosts :';
 
-$def = $oldcfg{'smtp_hosts'} ||
-	[ default_hostname(split(/:/,$ENV{SMTPHOSTS} || ""), 'mailhost') ];
+#$def = $oldcfg{'smtp_hosts'} ||
+#	[ default_hostname(split(/:/,$ENV{SMTPHOSTS} || ""), 'mailhost') ];
 
-$cfg{'smtp_hosts'} = get_host_list($msg,$def);
+#$cfg{'smtp_hosts'} = get_host_list($msg,$def);
+$cfg{'smtp_hosts'} = [ default_hostname(split(/:/,$ENV{SMTPHOSTS} || ""), 'mailhost') ];
 
 #---------------------------------------------------------------------------
 
 $msg = 'Enter a list of available POP3 hosts :';
 
-$def = $oldcfg{'pop3_hosts'} || [];
+#$def = $oldcfg{'pop3_hosts'} || [];
 
-$cfg{'pop3_hosts'} = get_host_list($msg,$def);
+#$cfg{'pop3_hosts'} = get_host_list($msg,$def);
+$cfg{'pop3_hosts'} = [];
 
 #---------------------------------------------------------------------------
 
 $msg = 'Enter a list of available SNPP hosts :';
 
-$def = $oldcfg{'snpp_hosts'} || [];
+#$def = $oldcfg{'snpp_hosts'} || [];
 
-$cfg{'snpp_hosts'} = get_host_list($msg,$def);
+#$cfg{'snpp_hosts'} = get_host_list($msg,$def);
+$cfg{'snpp_hosts'} = [];
 
 #---------------------------------------------------------------------------
 
 $msg = 'Enter a list of available PH Hosts   :'  ;
 
-$def = $oldcfg{'ph_hosts'} ||
-	[ default_hostname('dirserv') ];
+#$def = $oldcfg{'ph_hosts'} ||
+#	[ default_hostname('dirserv') ];
 
-$cfg{'ph_hosts'}   =  get_host_list($msg,$def);
+#$cfg{'ph_hosts'}   =  get_host_list($msg,$def);
+$cfg{'ph_hosts'} = [ default_hostname('dirserv') ];
 
 #---------------------------------------------------------------------------
 
 $msg = 'Enter a list of available TIME Hosts   :'  ;
 
-$def = $oldcfg{'time_hosts'} || [];
+#$def = $oldcfg{'time_hosts'} || [];
 
-$cfg{'time_hosts'} = get_host_list($msg,$def);
+#$cfg{'time_hosts'} = get_host_list($msg,$def);
+$cfg{'time_hosts'} = [];
 
 #---------------------------------------------------------------------------
 
 $msg = 'Enter a list of available DAYTIME Hosts   :'  ;
 
-$def = $oldcfg{'daytime_hosts'} || $oldcfg{'time_hosts'};
+#$def = $oldcfg{'daytime_hosts'} || $oldcfg{'time_hosts'};
 
-$cfg{'daytime_hosts'} = get_host_list($msg,$def);
+#$cfg{'daytime_hosts'} = get_host_list($msg,$def);
+$cfg{'daytime_hosts'} = [];
 
 #---------------------------------------------------------------------------
 
-$msg = <<EDQ;
-
-Do you have a firewall/ftp proxy  between your machine and the internet 
-
-If you use a SOCKS firewall answer no
-
-(y|n) ?
-EDQ
-
-if(get_bool($msg,0)) {
-
-  $msg = <<'EDQ';
-What series of FTP commands do you need to send to your
-firewall to connect to an external host.
-
-user/pass     => external user & password
-fwuser/fwpass => firewall user & password
-
-0) None
-1) -----------------------
-     USER user@remote.host
-     PASS pass
-2) -----------------------
-     USER fwuser
-     PASS fwpass
-     USER user@remote.host
-     PASS pass
-3) -----------------------
-     USER fwuser
-     PASS fwpass
-     SITE remote.site
-     USER user
-     PASS pass
-4) -----------------------
-     USER fwuser
-     PASS fwpass
-     OPEN remote.site
-     USER user
-     PASS pass
-5) -----------------------
-     USER user@fwuser@remote.site
-     PASS pass@fwpass
-6) -----------------------
-     USER fwuser@remote.site
-     PASS fwpass
-     USER user
-     PASS pass
-7) -----------------------
-     USER user@remote.host
-     PASS pass
-     AUTH fwuser
-     RESP fwpass
-
-Choice:
-EDQ
- $def = exists $oldcfg{'ftp_firewall_type'}  ? $oldcfg{'ftp_firewall_type'} : 1;
- $ans = Prompt($msg,$def);
- $cfg{'ftp_firewall_type'} = 0+$ans;
- $def = $oldcfg{'ftp_firewall'} || $ENV{FTP_FIREWALL};
+#$msg = <<EDQ;
+#
+#Do you have a firewall/ftp proxy  between your machine and the internet 
+#
+#If you use a SOCKS firewall answer no
+#
+#(y|n) ?
+#EDQ
+#
+#if(get_bool($msg,0)) {
+#
+#  $msg = <<'EDQ';
+#What series of FTP commands do you need to send to your
+#firewall to connect to an external host.
+#
+#user/pass     => external user & password
+#fwuser/fwpass => firewall user & password
+#
+#0) None
+#1) -----------------------
+#     USER user@remote.host
+#     PASS pass
+#2) -----------------------
+#     USER fwuser
+#     PASS fwpass
+#     USER user@remote.host
+#     PASS pass
+#3) -----------------------
+#     USER fwuser
+#     PASS fwpass
+#     SITE remote.site
+#     USER user
+#     PASS pass
+#4) -----------------------
+#     USER fwuser
+#     PASS fwpass
+#     OPEN remote.site
+#     USER user
+#     PASS pass
+#5) -----------------------
+#     USER user@fwuser@remote.site
+#     PASS pass@fwpass
+#6) -----------------------
+#     USER fwuser@remote.site
+#     PASS fwpass
+#     USER user
+#     PASS pass
+#7) -----------------------
+#     USER user@remote.host
+#     PASS pass
+#     AUTH fwuser
+#     RESP fwpass
+
+#Choice:
+#EDQ
+# $def = exists $oldcfg{'ftp_firewall_type'}  ? $oldcfg{'ftp_firewall_type'} : 1;
+# $ans = Prompt($msg,$def);
+# $cfg{'ftp_firewall_type'} = 0+$ans;
+ $cfg{'ftp_firewall_type'} = 0;
+# $def = $oldcfg{'ftp_firewall'} || $ENV{FTP_FIREWALL};
 
- $cfg{'ftp_firewall'} = get_hostname("FTP proxy hostname :", $def);
-}
-else {
- delete $cfg{'ftp_firewall'};
-}
+# $cfg{'ftp_firewall'} = get_hostname("FTP proxy hostname :", $def);
+$cfg{'ftp_firewall'} = $ENV{FTP_FIREWALL};
 
 
 #---------------------------------------------------------------------------
@@ -489,22 +496,23 @@
 
 #---------------------------------------------------------------------------
 
-print <<EDQ;
-
-Normally when FTP needs a data connection the client tells the server
-a port to connect to, and the server initiates a connection to the client.
-
-Some setups, in particular firewall setups, can/do not work using this
-protocol. In these situations the client must make the connection to the
-server, this is called a passive transfer.
-EDQ
+#print <<EDQ;
+#
+#Normally when FTP needs a data connection the client tells the server
+#a port to connect to, and the server initiates a connection to the client.
+#
+#Some setups, in particular firewall setups, can/do not work using this
+#protocol. In these situations the client must make the connection to the
+#server, this is called a passive transfer.
+#EDQ
 
 if (defined $cfg{'ftp_firewall'}) {
   $msg = "\nShould all FTP connections via a firewall/proxy be passive (y|n) ?";
 
-  $def = $oldcfg{'ftp_ext_passive'} || 0;
+#  $def = $oldcfg{'ftp_ext_passive'} || 0;
 
-  $cfg{'ftp_ext_passive'} = get_bool($msg,$def);
+#  $cfg{'ftp_ext_passive'} = get_bool($msg,$def);
+   $cfg{'ftp_ext_passive'} = 0;
 
   $msg = "\nShould all other FTP connections be passive (y|n) ?";
 
@@ -513,18 +521,20 @@
   $msg = "\nShould all FTP connections be passive (y|n) ?";
 }
 
-$def = $oldcfg{'ftp_int_passive'} || 0;
+#$def = $oldcfg{'ftp_int_passive'} || 0;
 
-$cfg{'ftp_int_passive'} = get_bool($msg,$def);
+#$cfg{'ftp_int_passive'} = get_bool($msg,$def);
+$cfg{'ftp_int_passive'} = 0;
 
 
 #---------------------------------------------------------------------------
 
-$def = $oldcfg{'inet_domain'} || $ENV{LOCALDOMAIN};
+#$def = $oldcfg{'inet_domain'} || $ENV{LOCALDOMAIN};
 
-$ans = Prompt("\nWhat is your local internet domain name :",$def);
+#$ans = Prompt("\nWhat is your local internet domain name :",$def);
 
-$cfg{'inet_domain'} = ($ans =~ /(\S+)/)[0];
+#$cfg{'inet_domain'} = ($ans =~ /(\S+)/)[0];
+$cfg{'inet_domain'} = undef;
 
 #---------------------------------------------------------------------------
 
@@ -540,7 +550,8 @@
 Do you want me to run these tests (y|n) ?
 EDQ
 
-$cfg{'test_hosts'} = get_bool($msg,$oldcfg{'test_hosts'});
+#$cfg{'test_hosts'} = get_bool($msg,$oldcfg{'test_hosts'});
+$cfg{'test_hosts'} = 0;
 
 #---------------------------------------------------------------------------
 
