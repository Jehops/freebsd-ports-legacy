--- unix-console/Makefile.orig	Tue Jul 25 11:20:48 2006
+++ unix-console/Makefile	Sat Dec 30 20:19:04 2006
@@ -21,7 +21,7 @@
 #INCS += ../common/tsp.h ../common/teepee.h
 
 # Our very *bliep* set of options to make sure that these things can't cause any issues
-CWARNS += -W -Wall -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Waggregate-return -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wredundant-decls -Wnested-externs -Winline -Wbad-function-cast -fshort-enums -fstrict-aliasing -fno-common -Wpadded -pedantic -pthread -D_REENTRANT
+#CWARNS += -W -Wall -Wshadow -Wpointer-arith -Wcast-align -Wwrite-strings -Waggregate-return -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations -Wredundant-decls -Wnested-externs -Winline -Wbad-function-cast -fshort-enums -fstrict-aliasing -fno-common -Wpadded -pedantic -pthread -D_REENTRANT
 # CWARNS += -Wpacked
 
 #CFLAGS	+= $(CWARNS) -D_GNU_SOURCE -D_DEBUG -g3 -O0
@@ -62,19 +62,19 @@
 CFLAGS	+= -D AICCU_TYPE="\"freebsd4\""
 SRCS	+= ../common/aiccu_freebsd4.c
 OBJS	+= ../common/aiccu_freebsd4.o
-CFLAGS	+= -pthread
+#CFLAGS	+= -pthread
 else
 # FreeBSD 5.x/6.x/7.x
-CFLAGS	+= -D AICCU_TYPE="\"kame\""
+CFLAGS	+= -D NEED_IFHEAD -D AICCU_TYPE="\"kame\""
 SRCS	+= ../common/aiccu_kame.c
 OBJS	+= ../common/aiccu_kame.o
-CFLAGS	+= -pthread
+#CFLAGS	+= -pthread
 endif
 endif
 
 # DragonFlyBSD
 ifeq ($(shell uname | grep -c "DragonFly"),1)
-CFLAGS	+= -D _DFBSD -D AICCU_TYPE="\"dragonfly\""
+CFLAGS	+= -D _DFBSD -D NEED_IFHEAD -D AICCU_TYPE="\"dragonfly\""
 SRCS	+= ../common/aiccu_freebsd4.c
 OBJS	+= ../common/aiccu_freebsd4.o
 CFLAGS	+= -pthread
