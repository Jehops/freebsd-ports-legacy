--- lib/ZInit.c.orig Fri Jan 22 18:19:14 1999
+++ lib/ZInit.c	Wed Nov 21 16:32:06 2001
@@ -36,6 +36,7 @@
     int s, sinsize = sizeof(sin);
     Code_t code;
     ZNotice_t notice;
+    char *realm = NULL;
 #ifdef HAVE_KRB4
     char *krealm = NULL;
     int krbval;
@@ -104,7 +105,11 @@
 	return (krbval);
     }
 #else
-    strcpy(__Zephyr_realm, "local-realm");
+    realm = ZGetVariable("realm");
+    if (realm)
+       strcpy(__Zephyr_realm, realm);
+    else
+       strcpy(__Zephyr_realm, "local-realm");
 #endif
 
     __My_addr.s_addr = INADDR_NONE;
--- lib/ZVariables.c.orig	Thu Jun  3 10:51:42 1999
+++ lib/ZVariables.c	Mon Nov 26 08:51:56 2001
@@ -36,7 +36,7 @@
     if ((ret = get_varval(varfile, var)) != ZERR_NONE)
 	return (ret);
 
-    sprintf(varfile, "%s/zephyr.vars", SYSCONFDIR);
+    sprintf(varfile, "%s/zephyr/zephyr.vars", SYSCONFDIR);
     return (get_varval(varfile, var));
 }
 
