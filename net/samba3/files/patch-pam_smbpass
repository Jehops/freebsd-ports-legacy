--- pam_smbpass/pam_smb_auth.c.orig	Thu Apr 20 04:29:22 2006
+++ pam_smbpass/pam_smb_auth.c	Sat May 27 01:57:31 2006
@@ -164,7 +164,7 @@
 
     retval = PAM_SUCCESS;
 
-    pam_get_data(pamh, "smb_setcred_return", (const void **) &pretval);
+    pam_get_data(pamh, "smb_setcred_return", (void **) &pretval);
     if(pretval) {
 	retval = *pretval;
 	SAFE_FREE(pretval);
--- pam_smbpass/pam_smb_passwd.c.orig	Thu Apr 20 04:29:22 2006
+++ pam_smbpass/pam_smb_passwd.c	Sat May 27 01:57:31 2006
@@ -226,7 +226,7 @@
                                    (const void **)&pass_old );
         } else {
             retval = pam_get_data( pamh, _SMB_OLD_AUTHTOK,
-                                   (const void **)&pass_old );
+                                   (void **)&pass_old );
             if (retval == PAM_NO_MODULE_DATA) {
 		pass_old = NULL;
                 retval = PAM_SUCCESS;
--- pam_smbpass/support.c.orig	Sun May 28 02:23:20 2006
+++ pam_smbpass/support.c	Sun May 28 02:24:07 2006
@@ -384,7 +384,7 @@
             if (newauth != NULL) {
 
                 /* any previous failures for this user ? */
-                pam_get_data(pamh, data_name, (const void **) &old);
+                pam_get_data(pamh, data_name, (void **) &old);
 
                 if (old != NULL) {
                     newauth->count = old->count + 1;
@@ -594,7 +594,7 @@
 
         retval = pam_set_data( pamh, data_name, (void *) token, _cleanup );
         if (retval != PAM_SUCCESS
-            || (retval = pam_get_data( pamh, data_name, (const void **)&item ))
+            || (retval = pam_get_data( pamh, data_name, (void **)&item ))
                              != PAM_SUCCESS)
         {
             _log_err( LOG_CRIT, "error manipulating password data [%s]"
