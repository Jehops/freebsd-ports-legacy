--- Makefile.orig	2013-02-25 20:26:41.000000000 +0200
+++ Makefile	2014-06-06 21:12:29.821585175 +0200
@@ -119,9 +119,9 @@
 uninstall: uninstall_olsrd
 
 install_bin:
-		mkdir -p $(SBINDIR)
-		install -m 755 $(EXENAME) $(SBINDIR)
-		$(STRIP) $(SBINDIR)/$(EXENAME)
+		mkdir -p ${STAGEDIR}$(SBINDIR)
+		install -m 755 $(EXENAME) ${STAGEDIR}$(SBINDIR)
+		$(STRIP) ${STAGEDIR}$(SBINDIR)/$(EXENAME)
 
 uninstall_bin:
 		rm -f $(SBINDIR)/$(EXENAME)
@@ -130,29 +130,26 @@
 install_olsrd:	install_bin
 		@echo ========= C O N F I G U R A T I O N - F I L E ============
 		@echo $(EXENAME) uses the configfile $(CFGFILE)
-		@echo a default configfile. A sample RFC-compliance aimed
-		@echo configfile can be found in olsrd.conf.default.rfc.
-		@echo However none of the larger OLSRD using networks use that
-		@echo so install a configfile with activated link quality exstensions
-		@echo per default.
-		@echo can be found at files/olsrd.conf.default.lq
+		@echo a default configfile. Sample config files are installed
+		@echo as $(CFGFILE).default.full, $(CFGFILE).default.rfc,
+		@echo $(CFGFILE).default.lq and $(CFGFILE).default.lq-fisheye
+		@echo copy and edit one of these to $(CFGFILE)
+		@echo If in doubt start with $(CFGFILE).default.lq
 		@echo ==========================================================
-		mkdir -p $(ETCDIR)
-		$(MAKECMDPREFIX)if [ -e $(CFGFILE) ]; then \
-			cp -f files/olsrd.conf.default.lq $(CFGFILE).new; \
-			echo "Configuration file was saved as $(CFGFILE).new"; \
-		else \
-			cp -f files/olsrd.conf.default.lq $(CFGFILE); \
-		fi
+		mkdir -p ${STAGEDIR}$(ETCDIR)
+		-cp files/olsrd.conf.default.full ${STAGEDIR}$(CFGFILE).default.full
+		-cp files/olsrd.conf.default.rfc ${STAGEDIR}$(CFGFILE).default.rfc
+		-cp files/olsrd.conf.default.lq ${STAGEDIR}$(CFGFILE).default.lq
+		-cp files/olsrd.conf.default.lq-fisheye ${STAGEDIR}$(CFGFILE).default.lq-fisheye
 		@echo -------------------------------------------
 		@echo Edit $(CFGFILE) before running olsrd!!
 		@echo -------------------------------------------
 		@echo Installing manpages $(EXENAME)\(8\) and $(CFGNAME)\(5\)
 ifneq ($(MANDIR),)
-		mkdir -p $(MANDIR)/man8/
-		cp files/olsrd.8.gz $(MANDIR)/man8/$(EXENAME).8.gz
-		mkdir -p $(MANDIR)/man5/
-		cp files/olsrd.conf.5.gz $(MANDIR)/man5/$(CFGNAME).5.gz
+		mkdir -p ${STAGEDIR}$(MANDIR)/man8/
+		cp files/olsrd.8.gz ${STAGEDIR}$(MANDIR)/man8/$(EXENAME).8.gz
+		mkdir -p ${STAGEDIR}$(MANDIR)/man5/
+		cp files/olsrd.conf.5.gz ${STAGEDIR}$(MANDIR)/man5/$(CFGNAME).5.gz
 endif
 
 uninstall_olsrd:	uninstall_bin
@@ -200,7 +197,7 @@
 		-for dir in $(SUBDIRS);do $(MAKECMD) -C lib/$$dir LIBDIR=$(LIBDIR) clean;rm -f lib/$$dir/*.so lib/$$dir/*.dll;done
 
 libs_install install_libs:
-		$(MAKECMDPREFIX)set -e;for dir in $(SUBDIRS);do $(MAKECMD) -C lib/$$dir LIBDIR=$(LIBDIR) install;done
+		$(MAKECMDPREFIX)set -e;for dir in $(SUBDIRS);do $(MAKECMD) -C lib/$$dir LIBDIR=${STAGEDIR}$(LIBDIR) install;done
 
 libs_uninstall uninstall_libs:
 		$(MAKECMDPREFIX)set -e;for dir in $(SUBDIRS);do $(MAKECMD) -C lib/$$dir LIBDIR=$(LIBDIR) uninstall;done
