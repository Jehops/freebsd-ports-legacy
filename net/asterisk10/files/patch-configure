--- configure.orig	2011-01-09 22:40:34.000000000 +0100
+++ configure	2011-03-02 00:16:16.000000000 +0100
@@ -600,7 +600,6 @@
 ac_default_prefix=/usr/local
 ac_default_prefix=/usr/local
 ac_default_prefix=/usr/local
-ac_default_prefix=/usr
 ac_header_list=
 ac_subst_vars='LTLIBOBJS
 PBX_SYSLOG
@@ -4677,9 +4676,9 @@
 astheaderdir='${includedir}/asterisk'
 astlibdir='${libdir}/asterisk'
 astmandir='${mandir}'
-astvarlibdir='${localstatedir}/lib/asterisk'
+astvarlibdir='${prefix}/share/asterisk'
 astdatadir='${astvarlibdir}'
-astdbdir='${astvarlibdir}'
+astdbdir='${localstatedir}/db/asterisk'
 astkeydir='${astvarlibdir}'
 astspooldir='${localstatedir}/spool/asterisk'
 astlogdir='${localstatedir}/log/asterisk'
@@ -4701,9 +4700,6 @@
 
 case "${host_os}" in
      freebsd*)
-
-     CPPFLAGS=-I/usr/local/include
-     LDFLAGS=-L/usr/local/lib
      ;;
      openbsd*)
 
@@ -17558,6 +17554,8 @@
 
 	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
+ #include <sys/types.h>
+ #include <sys/socket.h>
  #include <ifaddrs.h>
 int
 main ()
@@ -25364,7 +25362,7 @@
 
 	fi
 
-	PLATFORM_OPENH323="h323_${PWLIB_PLATFORM}_${OPENH323_SUFFIX}"
+	PLATFORM_OPENH323="h323_${OPENH323_SUFFIX}"
 
 	if test "${HAS_OPENH323:-unset}" != "unset"; then
 	   { $as_echo "$as_me:${as_lineno-$LINENO}: checking OpenH323 installation validity" >&5
