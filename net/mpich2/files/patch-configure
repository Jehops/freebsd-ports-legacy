--- configure.orig	Sun Jul 30 20:04:37 2006
+++ configure	Tue Aug  8 16:50:50 2006
@@ -28147,8 +28147,8 @@
 rm -f conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 if test "$ac_cv_search_pthread_key_create" = no; then
-  for ac_lib in pthread; do
-    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  for ac_lib in $PTHREAD_LIBS; do
+    LIBS="$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -28192,7 +28192,7 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_pthread_key_create="-l$ac_lib"
+  ac_cv_search_pthread_key_create="$ac_lib"
 break
 else
   echo "$as_me: failed program was:" >&5
