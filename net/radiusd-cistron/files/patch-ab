--- src/Make.inc	2002/02/23 11:36:58	1.1
+++ src/Make.inc	2002/02/23 11:38:44
@@ -4,7 +4,7 @@
 #
 #
 
-RADIUS_DIR    = /etc/raddb
+RADIUS_DIR    = ${PREFIX}/etc/raddb
 
 SERVER_OBJS   = radiusd.o files.o acct.o pam.o version.o proxy.o \
 			exec.o auth.o timestr.o cache.o readusers.o
@@ -121,16 +121,16 @@
 	$(DINSTALL) $(SBINDIR)
 	$(DINSTALL) $(BINDIR)
 	$(DINSTALL) $(RADIUS_DIR)
-	$(INSTALL) -m 755 -s radiusd  $(SBINDIR)/radiusd
-	$(INSTALL) -m 755 -s radrelay $(SBINDIR)/radrelay
-	$(INSTALL) -m 755 -s radwho  $(BINDIR)
-	$(INSTALL) -m 755 -s raduse  $(BINDIR)
-	$(INSTALL) -m 755 -s radzap  $(BINDIR)
-	$(INSTALL) -m 755 -s radclient $(BINDIR)
+	${BSD_INSTALL_PROGRAM} radiusd  $(SBINDIR)/radiusd
+	${BSD_INSTALL_PROGRAM} radrelay $(SBINDIR)/radrelay
+	${BSD_INSTALL_PROGRAM} radwho  $(BINDIR)
+	${BSD_INSTALL_PROGRAM} raduse  $(BINDIR)
+	${BSD_INSTALL_PROGRAM} radzap  $(BINDIR)
+	${BSD_INSTALL_PROGRAM} radclient $(BINDIR)
 	test -z "$(DBM)" || $(INSTALL) -m 755 -s builddbm $(BINDIR)
-	$(INSTALL) -m 755    checkrad.pl $(SBINDIR)/checkrad
-	$(INSTALL) -m 755    radlast $(BINDIR)
-	$(INSTALL) -m 755    radtest $(BINDIR)
+	${BSD_INSTALL_SCRIPT} checkrad.pl $(SBINDIR)/checkrad
+	${BSD_INSTALL_SCRIPT} radlast  $(BINDIR)
+	${BSD_INSTALL_SCRIPT} radtest $(BINDIR)
 	# Install the man pages
 	@for section in 1 5 8; do \
 		$(DINSTALL) $(MANDIR)/man$$section; \
@@ -147,7 +147,7 @@
 	@echo; echo "Creating/updating files in $(RADIUS_DIR)"; \
 	cd ../raddb; \
 	for i in [a-c]* [e-z]*; do \
-		[ ! -f $(RADIUS_DIR)/$$i ] && cp $$i $(RADIUS_DIR)/$$i; \
+		[ ! -f $(RADIUS_DIR)/$$i ] && cp $$i $(RADIUS_DIR)/$$i.sample; \
 	done; \
 	for i in dictionary*; do \
 		[ ! -f $(RADIUS_DIR)/$$i ] && cp $$i $(RADIUS_DIR)/$$i; \
@@ -156,10 +156,3 @@
 			nt=1; \
 		fi; \
 	done; \
-	if [ "$$nt" ]; then \
-		echo "** The samples in ../raddb are newer than these files";\
-		echo "** Please investigate and copy manually if appropriate";\
-		echo ;\
-	fi
-
-
