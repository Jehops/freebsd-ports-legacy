*** openh323u.mak.in.orig	Wed May 14 20:52:44 2003
--- openh323u.mak.in	Sun Aug 31 21:26:51 2003
*************** LIBDIRS += $(OPENH323DIR)
*** 142,152 ****
  
  
  OH323_SRCDIR = $(OPENH323DIR)/src
! ifdef PREFIX
! OH323_INCDIR = $(PREFIX)/include/openh323
! else
  OH323_INCDIR = $(OPENH323DIR)/include
! endif
  OH323_LIBDIR = $(OPENH323DIR)/lib
  
  
--- 142,152 ----
  
  
  OH323_SRCDIR = $(OPENH323DIR)/src
! #ifdef PREFIX
! #OH323_INCDIR = $(PREFIX)/include/openh323
! #else
  OH323_INCDIR = $(OPENH323DIR)/include
! #endif
  OH323_LIBDIR = $(OPENH323DIR)/lib
  
  
*************** ifdef	OH323_SUPPRESS_H235
*** 184,189 ****
--- 184,190 ----
  STDCCFLAGS  += -DOH323_SUPPRESS_H235
  endif
  
+ # Check for the ixj/telephony header files on the system.
  ifneq (,$(wildcard $(SYSINCDIR)/linux/telephony.h))
  HAS_IXJ	    = 1
  STDCCFLAGS += -DHAS_IXJ
*************** endif
*** 197,202 ****
--- 198,210 ----
  ifneq (,$(wildcard /usr/local/include/sys/telephony.h))
  HAS_IXJ	    = 1
  STDCCFLAGS += -DHAS_IXJ -I/usr/local/include
+ endif
+ 
+ # In the FreeBSD port, we make a local copy of the ixj header files from
+ # the ixj driver in openh323/include/sys
+ ifneq (,$(wildcard $(OPENH323DIR)/include/sys/telephony.h))
+ HAS_IXJ	    = 1
+ STDCCFLAGS += -DHAS_IXJ
  endif
  
  #Check if we have an OSS soundcard.h
