--- src/mod/share.mod/share.c.orig	Mon Jun  2 11:32:29 2003
+++ src/mod/share.mod/share.c	Mon Jun  2 11:33:20 2003
@@ -1113,7 +1113,7 @@
   int i, sock;
   FILE *f;
 
-  egg_snprintf(s, sizeof s, ".share.%s.%lu.users", botnetnick, now);
+  egg_snprintf(s, sizeof s, "%.100s/.share.%.32s.%lu.users", tempdir, botnetnick, now);
   if (!(b_status(idx) & STAT_SHARE)) {
     dprintf(idx, "s e You didn't ask; you just started sending.\n");
     dprintf(idx, "s e Ask before sending the userfile.\n");
