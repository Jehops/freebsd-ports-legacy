--- Makefile.orig	Sun May 30 23:28:44 1999
+++ Makefile	Sat Apr  1 18:15:32 2000
@@ -2,16 +2,21 @@
 MISCOPT =
 OPT = $(MISCOPT) $(MAXOPT)
 
-CFLAGS = $(OPT) -DMAGNIFY=0 -DNDEBUG
+#CFLAGS = $(OPT) -DMAGNIFY=0 -DNDEBUG
 #CFLAGS = -fprofile-arcs -ftest-coverage -DMAGNIFY=0
-CFLAGS = -g -Wall -pedantic $(MISCOPT) -DMAGNIFY=0
+CFLAGS += -Wall -pedantic $(MISCOPT) -DMAGNIFY=0
 #CFLAGS = -O -Wall -pedantic -DDEBUG $(MISCOPT)
 
-LFLAGS = -L/usr/X11R6/lib -L/usr/openwin/lib/X11
-LFLAGS = -g -L/usr/X11R6/lib
+.if !defined(CXXFLAGS)
+CXXFLAGS:=${CFLAGS}
+.endif
+CFLAGS := ${CXXFLAGS} -Wall -pedantic $(MISCOPT) -DMAGNIFY=0
 
-CC = c++
-LD = c++
+#LFLAGS = -L/usr/X11R6/lib -L/usr/openwin/lib/X11
+LFLAGS = -L$(X11BASE)/lib
+
+CC = ${CXX}
+LD = ${CXX}
 
 OBJS =	RAFile.o	\
 	TTFont.o	\
@@ -56,8 +61,8 @@
 	$(LD) -o $@ $(OBJS) xfstt.o encoding.o $(LFLAGS) -lm
 
 xfstt.o : xfstt.cpp xfstt.h ttf.h arch.h Makefile
-	$(CC) $(CFLAGS) -c $< -I/usr/X11R6/include/X11/fonts	\
-		-I/usr/X11R6/include/
+	$(CC) $(CFLAGS) -c $< -I$(X11BASE)/include/X11/fonts	\
+		-I$(X11BASE)/include/
 
 encoding.o : encoding.cpp encoding.h Makefile
 	$(CC) $(CFLAGS) -c $<
