--- programs/Xserver/hw/xfree86/drivers/sunffb/Imakefile.orig	Mon Sep 16 14:06:01 2002
+++ programs/Xserver/hw/xfree86/drivers/sunffb/Imakefile	Tue May 20 12:25:15 2003
@@ -49,7 +49,7 @@
 #define FFBsObjectRule(name)						@@\
 name.o: name.s								@@\
 	$(RM) $@							@@\
-	$(CPP) $*.s | $(AS) $(GCCVISOPTION) -o $@ -
+	$(CC) -c -x assembler-with-cpp $(GCCVISOPTION) $*.s -o $@
 #endif
 #else
 VISOBJS =
