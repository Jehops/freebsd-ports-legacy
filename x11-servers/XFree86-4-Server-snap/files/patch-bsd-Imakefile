--- programs/Xserver/hw/xfree86/os-support/bsd/Imakefile.orig	Thu May 15 18:39:39 2003
+++ programs/Xserver/hw/xfree86/os-support/bsd/Imakefile	Thu May 15 18:40:42 2003
@@ -45,10 +45,10 @@
   IOPERM_SRC = ioperm_noop.c
   IOPERM_OBJ = ioperm_noop.o
 # endif
-#elif defined(FreeBSDArchitecture) && !defined(AlphaBsdArchitecture)
+#elif defined(FreeBSDArchitecture)
+# if defined(i386Architecture)
   IOPERMDEFINES = -DUSE_DEV_IO
-#else
-# if defined(AlphaBsdArchitecture)
+# elif defined(AlphaBsdArchitecture)
   IOPERMDEFINES = -DUSE_ALPHA_PORTS
 # else
   IOPERM_SRC = ioperm_noop.c
@@ -150,6 +150,9 @@
 #elif defined(Sparc64Architecture)
 VIDEO_SRC = sparc64_video.c
 VIDEO_OBJ = sparc64_video.o
+#elif defined(x86_64Architecture)
+VIDEO_SRC = i386_video.c
+VIDEO_OBJ = i386_video.o
 #else
 #error Unknown architecture !
 #endif
