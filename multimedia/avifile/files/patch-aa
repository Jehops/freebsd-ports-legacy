--- lib/avifile/AviWrite.cpp.orig	Fri Oct  6 12:58:16 2000
+++ lib/avifile/AviWrite.cpp	Fri Oct  6 12:59:14 2000
@@ -23,7 +23,11 @@
     try
     {
         m_status=0;
+#ifdef O_LARGEFILE
 	m_fd=new FileBuffer(name, O_WRONLY | O_CREAT | O_TRUNC | O_LARGEFILE, mask);
+#else
+	m_fd=new FileBuffer(name, O_WRONLY | O_CREAT | O_TRUNC, mask);
+#endif
 	const int junk_size=0x800;
         char* junk=new char[junk_size];
 	memset(junk, 0, junk_size);
