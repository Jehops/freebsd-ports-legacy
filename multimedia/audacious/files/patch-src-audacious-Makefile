--- src/audacious/Makefile.bak	2009-05-13 10:10:30.000000000 +0200
+++ src/audacious/Makefile	2009-05-14 11:12:49.000000000 +0200
@@ -125,15 +125,8 @@
 
 include ../../buildsys.mk
 
-ifeq ($(USE_DBUS),yes)
-CPPFLAGS += -I../libaudclient
-DBUS_BINDINGS = dbus-server-bindings.h dbus-client-bindings.h
-LIBS += -L../libaudclient -laudclient
-endif
-
-pre-depend: ${DBUS_BINDINGS}
-
-CPPFLAGS += -DHAVE_CONFIG_H		\
+CPPFLAGS = -I.. -I../.. \
+		-DHAVE_CONFIG_H		\
 		${MOWGLI_CFLAGS}		\
 		${GLIB_CFLAGS}			\
 		${GTHREAD_CFLAGS}		\
@@ -147,13 +140,12 @@
 		${SIMD_CFLAGS}			\
 		-D_AUDACIOUS_CORE		\
 		${EGGSM_CFLAGS}			\
-		-I.. -I../..			\
 		-I./intl			\
 		-I.				\
 		-I../libSAD			\
 		-I../libaudcore
 
-LIBS += ${LDADD}						\
+LIBS = ${LDADD}						\
 		${LIBINTL}						\
 		${SAMPLERATE_LIBS}				\
 		../libguess/libguess.a			\
@@ -168,6 +160,14 @@
 		${REGEX_LIBS}					\
 		-L../libaudcore -laudcore
 
+ifeq ($(USE_DBUS),yes)
+CPPFLAGS += -I../libaudclient
+DBUS_BINDINGS = dbus-server-bindings.h dbus-client-bindings.h
+LIBS += -L../libaudclient -laudclient
+endif
+
+pre-depend: ${DBUS_BINDINGS}
+
 LDFLAGS += ${PROG_IMPLIB_LDFLAGS} ${AUDLDFLAGS}
 
 build_stamp.c:
