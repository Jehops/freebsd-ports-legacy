--- src/audacious/Makefile.orig	2008-03-13 23:19:27.000000000 +0100
+++ src/audacious/Makefile	2008-03-15 19:27:56.000000000 +0100
@@ -146,15 +146,8 @@
 
 include ../../buildsys.mk
 
-ifdef USE_DBUS
-CPPFLAGS += -I../libaudclient
-DBUS_BINDINGS = dbus-server-bindings.h dbus-client-bindings.h
-LIBS += -L../libaudclient -laudclient
-endif
-
-pre-depend: ${DBUS_BINDINGS}
-
-CPPFLAGS += -DHAVE_CONFIG_H		\
+CPPFLAGS =  -I.. -I../..		\
+	    -DHAVE_CONFIG_H		\
 	    ${MOWGLI_CFLAGS}		\
 	    ${GTK_CFLAGS}		\
 	    ${BEEP_DEFINES}		\
@@ -167,21 +160,29 @@
 	    -D_AUDACIOUS_CORE		\
 	    -I../libSAD			\
 	    -I../libeggsmclient		\
-	    -I.. -I../..		\
 	    -I./intl
 
-LIBS += ${LDADD}		\
+LIBS  = ${LDADD}		\
 	${LIBINTL}		\
 	${samplerate_LIBS}	\
 	../libguess/libguess.a	\
 	../libSAD/libSAD.a	\
 	../libeggsmclient/libeggsmclient.a ${SM_LIBS} \
 	${GTK_LIBS}		\
+	${GLIB_LIBS}		\
 	${DBUS_LIBS}		\
 	${MOWGLI_LIBS}		\
 	${LIBMCS_LIBS}		\
 	${REGEX_LIBS}
 
+ifdef USE_DBUS
+CPPFLAGS += -I../libaudclient
+DBUS_BINDINGS = dbus-server-bindings.h dbus-client-bindings.h
+LIBS += -L../libaudclient -laudclient
+endif
+
+pre-depend: ${DBUS_BINDINGS}
+
 LDFLAGS += ${PROG_IMPLIB_LDFLAGS}
 
 build_stamp.c: 
