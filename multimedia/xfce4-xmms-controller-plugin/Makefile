# New ports collection makefile for:   xfce4-xmms-controller-plugin
# Date created:        8 Nov 2004
# Whom:                Robin Schoonover (endx7@users.sf.net)
#
# $FreeBSD$
#

PORTNAME=	xfce4-xmms-controller-plugin
PORTVERSION=	1.4.3
PORTREVISION=	8
CATEGORIES=	multimedia audio xfce
MASTER_SITES=	http://eoin.angrystickman.com/files/
DIST_SUBDIR=	xfce4

MAINTAINER=	robin.schoonover@gmail.com
COMMENT=	XMMS controller plugin for the xfce4 panel

BUILD_DEPENDS=	xfce4-panel:${PORTSDIR}/x11-wm/xfce4-panel
RUN_DEPENDS=	${BUILD_DEPENDS}
LIB_DEPENDS=	xmms.4:${PORTSDIR}/multimedia/xmms

DEPRECATED=	Project is dead
EXPIRATION_DATE=2008-03-31
IGNORE=		Does not support xfce 4.4
USE_GNOME=	gtk20
USE_LDCONFIG=	yes

GNU_CONFIGURE=	yes
CONFIGURE_ARGS=	--datadir=${PREFIX}/share/${PORTNAME}

.include <bsd.port.pre.mk>

.if ${OSVERSION} < 500043
IGNORE=		requires pthread stubs not provided by libXThr
.endif

pre-patch:
	${REINPLACE_CMD} -e 's_share/_share/xfce4-xmms-controller-plugin/_' ${WRKSRC}/panel-plugin/xfcexmms.c
	${REINPLACE_CMD} -e 's_/usr/local_${PREFIX}_' ${WRKSRC}/config.h.in

.include <bsd.port.post.mk>
