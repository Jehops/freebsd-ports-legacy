--- configure.orig	Mon Jul  5 15:05:54 2004
+++ configure	Sun Dec  5 15:49:57 2004
@@ -88,7 +88,7 @@
 mandir=""
 bindir=""
 cross_prefix=""
-cc="gcc"
+cc="$CC"
 ar="ar"
 ranlib="ranlib"
 make="make"
@@ -187,7 +187,7 @@
 BeOS)
 prefix="/boot/home/config"
 # helps building libavcodec
-CFLAGS="-DPIC -fomit-frame-pointer"
+CFLAGS="$CFLAGS -DPIC -fomit-frame-pointer"
 # 3 gcc releases known for BeOS, each with ugly bugs
 gcc_version="`$cc -v 2>&1 | grep version | cut -d ' ' -f3-`"
 case "$gcc_version" in
@@ -857,7 +857,7 @@
 EOF
 
 imlib2=no
-if $cc -o $TMPE $TMPC -lImlib2 -lm > /dev/null 2>&1  ; then
+if $cc $CFLAGS $LDFLAGS -o $TMPE $TMPC -lImlib2 -lm > /dev/null 2>&1  ; then
 imlib2=yes
 fi
 
