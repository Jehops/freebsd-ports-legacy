--- configure.orig	Wed May 18 22:55:05 2005
+++ configure	Sat May 21 12:19:02 2005
@@ -24,8 +24,8 @@
 vfw="no"
 vis="no"
 
-CC="gcc"
-CFLAGS="-Wall -I. -O4 -funroll-loops -ffast-math -D__X264__"
+#CC="gcc"
+CFLAGS="-Wall -I. -D__X264__"
 LDFLAGS=""
 
 AS="nasm"
@@ -77,9 +77,9 @@
     ARCH="X86"
     CFLAGS="$CFLAGS -DHAVE_MMXEXT -DHAVE_SSE2"
     ;;
-  x86_64)
-    ARCH="X86_64"
-    CFLAGS="$CFLAGS -DHAVE_MMXEXT -DHAVE_SSE2"
+  x86_64 | amd64)
+    ARCH="amd64"
+    CFLAGS="$CFLAGS"
     AS="yasm"
     ASFLAGS="-f elf -m amd64"
     ;;
@@ -92,9 +92,12 @@
       CFLAGS="$CFLAGS -maltivec -mabi=altivec"
     fi
     ;;
+  "Sparc64" | sparc64)
+    ARCH="SPARC64"
+    CFLAGS="$CFLAGS"
+    ;;
   *)
-    echo "Unknown platform $UNAMEM, edit the configure"
-    exit 1
+    CFLAGS="$CFLAGS"
     ;;
 esac
 
