--- configure.orig	Tue May 31 12:27:55 2005
+++ configure	Tue May 31 12:35:38 2005
@@ -32,8 +32,8 @@
 vfw="no"
 vis="no"
 
-CC="gcc"
-CFLAGS="-Wall -I. -O4 -ffast-math -D__X264__"
+#CC="gcc"
+CFLAGS="-Wall -I.  -ffast-math -D__X264__"
 LDFLAGS=""
 
 AS="nasm"
@@ -85,9 +85,9 @@
     ARCH="X86"
     CFLAGS="$CFLAGS -DHAVE_MMXEXT -DHAVE_SSE2"
     ;;
-  x86_64)
-    ARCH="X86_64"
-    CFLAGS="$CFLAGS -DHAVE_MMXEXT -DHAVE_SSE2"
+  x86_64 | amd64)
+    ARCH="amd64"
+    CFLAGS="$CFLAGS"
     AS="yasm"
     ASFLAGS="-f elf -m amd64"
     ;;
@@ -100,9 +100,12 @@
       CFLAGS="$CFLAGS -maltivec -mabi=altivec"
     fi
     ;;
+  "Sparc64" | sparc64)
+    ARCH="SPARC64"
+    CFLAGS="$CFLAGS"
+    ;;
   *)
-    echo "Unknown platform $UNAMEM, edit the configure"
-    exit 1
+    CFLAGS="$CFLAGS"
     ;;
 esac
