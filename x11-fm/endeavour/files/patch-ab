--- endeavour/devrec.cpp.orig	Sat May 26 07:03:07 2001
+++ endeavour/devrec.cpp	Thu Jun  7 00:50:17 2001
@@ -389,8 +389,9 @@
 			capacity_available = atol(strv[3]);
 
 			/* Calculate capacity percent. */
-			capacity_percent = (double)capacity_used /
-			    (double)capacity_total * 100;
+			if ((double)capacity_total)
+				capacity_percent = (double)capacity_used /
+				    (double)capacity_total * 100;
 
                         strncpy(path, strv[5], PATH_MAX + NAME_MAX);
                         path[PATH_MAX + NAME_MAX - 1] = '\0';
