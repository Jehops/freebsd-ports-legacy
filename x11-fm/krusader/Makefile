# New ports collection makefile for:	krusader
# Date created:		21-04-2003
# Whom:			Heiner <h.eichmann@gmx.de>
#
# $FreeBSD$
#

PORTNAME=	krusader
PORTVERSION=	1.70.1
PORTREVISION=	1
CATEGORIES=	x11-fm kde
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=krusader

MAINTAINER=	h.eichmann@gmx.de
COMMENT=	A two window file-manager for KDE, like midnight or norton commander

USE_KDELIBS_VER=3
USE_AUTOTOOLS=	libtool:15
USE_GMAKE=	yes
USE_GETTEXT=	yes

QTDIR?=${QT_PREFIX}/bin
KDEDIR?=${LOCALBASE}/bin
CONFIGURE_TARGET=
CONFIGURE_ENV+=QTDIR=${QTDIR} KDEDIR=${KDEDIR}
CONFIGURE_ARGS+=--build=${MACHINE_ARCH}-portbld-freebsd${OSREL}
LD_CONFIG=	yes

MAN1=	krusader.1

pre-everything::
	@${ECHO_MSG}
	@${ECHO_MSG} "The following settings are assumed:"
	@${ECHO_MSG} "Installation directory of qt3: QTDIR=${QTDIR}"
	@${ECHO_MSG} "Installation directory of KDE3: KDEDIR=${KDEDIR}"
	@${ECHO_MSG} "If these assumptions are wrong, stop the build NOW and set the variables correspondingly!"
	@${ECHO_MSG}
	@sleep 3

pre-configure:
	${RM} ${WRKSRC}/admin/cvs.sh
	${TOUCH} ${WRKSRC}/admin/cvs.sh

post-install:
	@${CAT} ${PKGMESSAGE}

.include <bsd.port.pre.mk>

.if ${OSVERSION} < 500000
BROKEN=		Does not compile on FreeBSD 4.x
.endif

.include <bsd.port.post.mk>
