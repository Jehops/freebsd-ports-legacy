
$FreeBSD$

--- configure.orig	Tue May 22 15:47:27 2001
+++ configure	Tue May 22 15:55:11 2001
@@ -3433,7 +3433,7 @@
 
 CC="$_save_cc"
 
-LDFLAGS="$_save_ldflags -L$_mozilla_lib_place $_mozilla_all_nspr_flags -lgtksuperwin"
+LDFLAGS="$_save_ldflags -L$_mozilla_lib_place $_mozilla_all_nspr_flags -lstdc++ -lgtksuperwin"
 echo $ac_n "checking for gdk_superwin_get_type in -lgtksuperwin""... $ac_c" 1>&6
 echo "configure:3439: checking for gdk_superwin_get_type in -lgtksuperwin" >&5
 ac_lib_var=`echo gtksuperwin'_'gdk_superwin_get_type | sed 'y%./+-%__p_%'`
@@ -3475,7 +3475,7 @@
 fi
 
 
-LDFLAGS="$_save_ldflags -L$_mozilla_lib_place $_mozilla_all_nspr_flags -lgtkembedmoz $_mozilla_xpcom_libs"
+LDFLAGS="$_save_ldflags -L$_mozilla_lib_place $_mozilla_all_nspr_flags -lgtkembedmoz -lgtksuperwin $_mozilla_xpcom_libs"
 echo $ac_n "checking for gtk_moz_embed_get_type in -lgtkembedmoz""... $ac_c" 1>&6
 echo "configure:3481: checking for gtk_moz_embed_get_type in -lgtkembedmoz" >&5
 ac_lib_var=`echo gtkembedmoz'_'gtk_moz_embed_get_type | sed 'y%./+-%__p_%'`
@@ -3483,7 +3483,7 @@
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   ac_save_LIBS="$LIBS"
-LIBS="-lgtkembedmoz  $LIBS"
+LIBS="-lgtkembedmoz  -lgtksuperwin $LIBS"
 cat > conftest.$ac_ext <<EOF
 #line 3489 "configure"
 #include "confdefs.h"
@@ -5472,7 +5472,7 @@
 fi
 
 if test x$SCROLLKEEPER_CONFIG = xno; then
-  { echo "configure: error: Couldn't find scrollkeeper-config" 1>&2; exit 1; }
+  echo "configure: warning: Couldn't find scrollkeeper-config" 1>&2
 fi
 
 
