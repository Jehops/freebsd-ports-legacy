--- components/rpmview/nautilus-rpm-view.c.orig	Tue Oct  3 01:33:39 2000
+++ components/rpmview/nautilus-rpm-view.c	Fri Jan 12 10:04:04 2001
@@ -57,2 +57,8 @@
 
+#ifdef __FreeBSD__
+#define	FD_t	int
+#define	fdOpen	open
+#define	fdClose	close
+#endif
+
 #ifdef EAZEL_SERVICES
@@ -483,4 +489,5 @@
 	
-	
+#ifndef __FreeBSD__	
  	rpmReadConfigFiles (NULL, NULL);   
+#endif
     	rpm_result = rpmdbOpen ("", &rpm_db, O_RDONLY, 0644);
@@ -571,4 +578,10 @@
 	g_free (path_name);
-	
-	if (file_descriptor != NULL) {    
+
+	if (file_descriptor !=
+#ifdef __FreeBSD_
+	if (file_descriptor != -1)
+#else
+	if (file_descriptor != NULL)
+#endif
+	{
 		/* read out the appropriate fields, and set them up in the view */
