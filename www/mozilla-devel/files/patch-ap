--- security/coreconf/config.mk.orig	Tue Mar 13 21:00:48 2001
+++ security/coreconf/config.mk	Mon May 14 18:13:01 2001
@@ -56,7 +56,7 @@
 #       each OS release.                                              #
 #######################################################################
 
-ifeq (,$(filter-out BSD_OS NetBSD OS2,$(OS_TARGET)))
+ifeq (,$(filter-out BSD_OS NetBSD OS2 FreeBSD,$(OS_TARGET)))
 include $(CORE_DEPTH)/coreconf/$(OS_TARGET).mk
 else
 include $(CORE_DEPTH)/coreconf/$(OS_CONFIG).mk
--- security/psm/server/Makefile.orig	Fri Mar 30 21:46:06 2001
+++ security/psm/server/Makefile	Mon May 14 18:03:23 2001
@@ -67,11 +67,11 @@
 endif
 endif
 
-ifeq ($(OS_ARCH), Linux)
+ifeq ($(OS_ARCH), FreeBSD)
 ifdef USE_PTHREADS
 # Replace OS_LIBS, because the order of libpthread, libdl, and libc are
 # very important. Otherwise you get horrible crashes.
-OS_LIBS = -lpthread -ldl -lc
+OS_LIBS = -pthread
 endif
 endif
 
@@ -165,8 +165,8 @@
 XPCOM_LINK_LIBS = -lxpcom
 XPCOM_LIBS += $(DIST)/lib/libz.$(DLL_SUFFIX)
 else
-NSPR_LINK_LIBS = $(NSPR_LIBS)
-XPCOM_LINK_LIBS	= $(XPCOM_LIBS)
+NSPR_LINK_LIBS = -L$(DIST)/lib -lnspr4 -lplc4 -lplds4
+XPCOM_LINK_LIBS = -lxpcom
 endif
 
 ifndef MOZ_DIST
