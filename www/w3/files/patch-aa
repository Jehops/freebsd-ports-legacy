--- Makefile.orig	Sun Oct 29 01:21:56 1995
+++ Makefile	Sat May 31 19:15:25 1997
@@ -1,19 +1,19 @@
 # what emacs is called on your system
-EMACS = emacs
+EMACS = ${EMACSCMD}
 
 # How to make a directory
 # need a -p if you want to make the parents!
-MKDIR = mkdir
+MKDIR ?= mkdir
 
 # Various other stuff used
 RM    = rm -f
-CP    = cp
+CP    ?= cp
 
 # where the Info file should go
-INFODIR = ../info
+INFODIR ?= ../info
 
 # where the w3 lisp files should go
-LISPDIR = $$HOME/lisp
+LISPDIR = ${ELISPDIR}/w3
 
 # Change this to be where your .emacs file is stored
 DOTEMACS      = $$HOME/.emacs
@@ -57,16 +57,16 @@
 w3:	docomp.el $(OBJECTS)
 	@echo Build of w3 complete...
 
-all:	w3.info w3 emacs
+all:	w3.info w3
 
 install: all
 	@echo Installing in $(LISPDIR)
 	if [ ! -d $(LISPDIR) ] ; then $(MKDIR) $(LISPDIR) ; fi
-	(cd $(LISPDIR) ; $(RM) -f $(SOURCES) $(OBJECTS) w3-sysdp.el*)
-	$(CP) $(SOURCES) $(OBJECTS) $(LISPDIR)
+	(cd $(LISPDIR) ; $(RM) $(SOURCES) $(OBJECTS) w3-sysdp.el*)
+	${INSTALL_DATA} $(SOURCES) $(OBJECTS) $(LISPDIR)
 	if [ ! -d $(INFODIR) ] ; then $(MKDIR) $(INFODIR) ; fi
-	(cd $(INFODIR) ; $(RM) -f w3.info*)
-	$(CP) w3.info* $(INFODIR)
+	(cd $(INFODIR) ; $(RM) w3.info*)
+	${INSTALL_DATA} w3.info* $(INFODIR)
 
 emacs:	
 	@echo Adding w3 setup to $(DOTEMACS)
