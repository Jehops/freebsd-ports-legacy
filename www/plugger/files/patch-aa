--- Makefile.orig	Sun Mar 24 18:40:09 2002
+++ Makefile	Sun Mar 24 18:45:17 2002
@@ -1,8 +1,8 @@
 # Where is your Plugin Source Development Kit from Netscape?
-SDK=/home/hubbe/src/PluginSDK30b5
+SDK=../PluginSDK30b5
 
 # Where is your Xwindows located?
-X11=/usr/X11/
+X11=${X11BASE}
 
 #
 # For building rpms
@@ -10,15 +10,15 @@
 
 # You may want to change this to /usr/ on
 # some installations.
-prefix=/usr/local
+prefix=${PREFIX}
 
 #
 #
 RPMDIR=/usr/src/RPM
 
 # Choose compiler
-CC=gcc
-LD=gcc
+#CC=gcc
+#LD=gcc
 BINFORMAT=bin
 
 any:
@@ -32,7 +32,7 @@
 	@echo '   make hp-cc        - for HP-UX with cc'
 	@echo '   make irix         - for Irix'
 	@echo '   make aix          - for AIX >= 4.2'
-	@echo '   make freebsd      - for FreeBSD 4.x'
+	@echo '   make freebsd-elf  - for FreeBSD 4.x'
 
 irix:
 	make all CC=gcc XCFLAGS=-fpic LD=ld XLDFLAGS='-shared -n32'
@@ -91,7 +91,7 @@
 BIN_FILES=plugger.so plugger-$(VERSION)
 
 DEFINES=$(STREAM) -DVERSION=\"$(VERSION)\" # -DDEBUG # -DPLUGIN_TRACE
-COMMON_CFLAGS=-O -I$(SDK)/include -I$(X11)/include -DXP_UNIX $(DEFINES)
+COMMON_CFLAGS=-I$(SDK)/include -I$(X11)/include -DXP_UNIX $(DEFINES)
 COMMON_LDFLAGS=
 NORM_CFLAGS=
 NORM_LDFLAGS=
@@ -100,8 +100,8 @@
 XLIBS=-lX11 -L$(X11)/lib
 
 LDSHARED=$(LD) $(XLDFLAGS)
-CFLAGS=$(COMMON_CFLAGS) $(NORM_CFLAGS)
-LDFLAGS=$(COMMON_LDFLAGS) $(NORM_LDFLAGS)
+CFLAGS+=$(COMMON_CFLAGS) $(NORM_CFLAGS)
+LDFLAGS+=$(COMMON_LDFLAGS) $(NORM_LDFLAGS)
 SHARED_CFLAGS=$(COMMON_CFLAGS) $(XCFLAGS)
 
 all: plugger.so plugger-$(VERSION)
