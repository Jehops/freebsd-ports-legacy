--- src/support/apachectl.orig	Wed Mar 24 10:11:39 1999
+++ src/support/apachectl	Wed Mar 24 10:19:09 1999
@@ -39,6 +39,8 @@
 # --------------------                              --------------------
 # ||||||||||||||||||||   END CONFIGURATION SECTION  ||||||||||||||||||||
 
+eval `limits -e -C daemon` >/dev/null 2>&1
+
 ERROR=0
 ARGV="$@"
 if [ "x$ARGV" = "x" ] ; then 
@@ -50,7 +52,7 @@
     # check for pidfile
     if [ -f $PIDFILE ] ; then
 	PID=`cat $PIDFILE`
-	if [ ! "x$PID" = "x" ] && kill -0 $PID; then
+	if [ ! "x$PID" = "x" ] && kill -0 $PID >/dev/null 2>&1; then
 	    STATUS="httpd (pid $PID) running"
 	    RUNNING=1
 	else
@@ -94,6 +96,7 @@
 	fi
 	if kill $PID ; then
 	    echo "$0 $ARG: httpd stopped"
+	    rm -f $PIDFILE
 	else
 	    echo "$0 $ARG: httpd could not be stopped"
 	    ERROR=4
