commit 425c5a6ff8fc
Author: Christoph Kerschbaumer <ckerschb@christophkerschbaumer.com>
Date:   Fri Mar 9 15:54:02 2018 +0100

    Bug 1443110: Add NullCheck for loadinfo within InitCSP. r=smaug a=jcristau
    
    --HG--
    extra : source : 25ade148226d93650b653c62e2f4b15cbc51caef
---
 dom/base/nsDocument.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git dom/base/nsDocument.cpp dom/base/nsDocument.cpp
index 88f3aea3b6255..5519dd662df31 100644
--- dom/base/nsDocument.cpp
+++ dom/base/nsDocument.cpp
@@ -2939,7 +2939,7 @@ nsDocument::InitCSP(nsIChannel* aChannel)
   // In case this channel was instrument to discard the CSP, then
   // there is nothing for us to do here.
   nsCOMPtr<nsILoadInfo> loadInfo = aChannel->GetLoadInfo();
-  if (loadInfo->GetAllowDocumentToBeAgnosticToCSP()) {
+  if (loadInfo && loadInfo->GetAllowDocumentToBeAgnosticToCSP()) {
     return NS_OK;
   }
 
