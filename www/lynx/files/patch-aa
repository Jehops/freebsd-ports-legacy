*** ./WWW/Library/freebsd/Makefile.orig	Sat Sep 30 14:06:52 1995
--- ./WWW/Library/freebsd/Makefile	Sun Dec 10 23:54:03 1995
***************
*** 8,16 ****
  ASIS_MACH = i386/FreeBSD
  
  
! CFLAGS = -O -DDEBUG -DUSE_DIRENT
  LFLAGS =
- CC = cc
  
  # Directory for installed binary:
  BINDIR = /usr/local/bin
--- 8,15 ----
  ASIS_MACH = i386/FreeBSD
  
  
! CFLAGS += -DDEBUG
  LFLAGS =
  
  # Directory for installed binary:
  BINDIR = /usr/local/bin
*** ./src/LYJump.c.orig	Sat Nov 25 20:08:38 1995
--- ./src/LYJump.c	Sun Dec 10 23:54:03 1995
***************
*** 10,15 ****
--- 10,18 ----
  #include "GridText.h"
  
  #include "LYLeaks.h"
+ #ifndef VMS
+ #include <unistd.h>
+ #endif
  
  #ifdef VMS
  #include <fab.h>
*** ./src/LYMain.c.orig	Sat Nov 25 20:08:22 1995
--- ./src/LYMain.c	Sun Dec 10 23:54:04 1995
***************
*** 26,31 ****
--- 26,32 ----
  #ifdef SYSLOG_REQUESTED_URLS
  #include <syslog.h>
  #endif /* SYSLOG_REQUESTED_URLS */
+ #include <unistd.h>
  #endif /* !VMS */
  
  #ifdef LOCALE
*** ./src/LYStrings.h.orig	Sat Nov 11 14:37:48 1995
--- ./src/LYStrings.h	Sun Dec 10 23:54:05 1995
***************
*** 23,43 ****
  #define printable(c) (((c)>31 && (c)<=255) || (c)==9 || (c)==10 || (c)<0 )
  
  /* values for LYgetch */
! #define UPARROW 128
! #define DNARROW 129
! #define RTARROW 130
! #define LTARROW 131
! #define PGDOWN  132
! #define PGUP    133
! #define HOME    134
! #define END     135
! #define F1      136
! #define DO_KEY     137
! #define FIND_KEY   138
! #define SELECT_KEY 139
! #define INSERT_KEY 140
! #define REMOVE_KEY 141
! #define DO_NOTHING 142
  
  #define VISIBLE 0
  #define HIDDEN  1
--- 23,43 ----
  #define printable(c) (((c)>31 && (c)<=255) || (c)==9 || (c)==10 || (c)<0 )
  
  /* values for LYgetch */
! #define UPARROW 256
! #define DNARROW 257
! #define RTARROW 258
! #define LTARROW 259
! #define PGDOWN  260
! #define PGUP    261
! #define HOME    262
! #define END     263
! #define F1      264
! #define DO_KEY     265
! #define FIND_KEY   266
! #define SELECT_KEY 267
! #define INSERT_KEY 268
! #define REMOVE_KEY 269
! #define DO_NOTHING 270
  
  #define VISIBLE 0
  #define HIDDEN  1
*** ./src/LYKeymap.c.orig	Fri Nov 24 19:22:50 1995
--- ./src/LYKeymap.c	Sun Dec 10 23:54:06 1995
***************
*** 165,170 ****
--- 165,203 ----
  LYK_PIPE,               0,              0,          LYK_HISTORY,
  /* | */               /* } */         /* ~ */       /* del */
  
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+ 
  LYK_PREV_LINK,    LYK_NEXT_LINK,    LYK_ACTIVATE,   LYK_PREV_DOC,
  /* UPARROW */     /* DNARROW */     /* RTARROW */   /* LTARROW */
  
*** ./Makefile.orig	Wed Nov  8 20:16:22 1995
--- ./Makefile	Sun Dec 10 23:54:06 1995
***************
*** 15,29 ****
  ##change the next line if you want the lynx man file installed somewhere
  ##besides /usr/man/man1
  
! doc= /usr/man/man1
  
  ##change the next line if you want the lynx.cfg file installed somewhere
  ##besides /usr/local/lib
  
  cfg= /usr/local/lib
  
! installbin= install -c -s -m 555
! installdoc= install -c -m 444
  
  
  #set the relative location of the WWW library Implementation directory, 
--- 15,29 ----
  ##change the next line if you want the lynx man file installed somewhere
  ##besides /usr/man/man1
  
! doc= /usr/local/man/man1
  
  ##change the next line if you want the lynx.cfg file installed somewhere
  ##besides /usr/local/lib
  
  cfg= /usr/local/lib
  
! installbin= install -c -s -m 555 -o bin -g bin
! installdoc= install -c -m 444 -o bin -g bin
  
  
  #set the relative location of the WWW library Implementation directory, 
***************
*** 120,129 ****
  univell: unixware
  
  # Set SITE_LYDEFS to one or more of the defines for the WWW Library:
! SITE_LYDEFS = # -DDIRED_SUPPORT
  
  # Set SITE_DEFS to one or more of the defines for lynx below:
! SITE_DEFS = # -DDIRED_SUPPORT
  
  # if you are compiling on a previously unsupported system, modify
  # this generic entry!!
--- 120,129 ----
  univell: unixware
  
  # Set SITE_LYDEFS to one or more of the defines for the WWW Library:
! SITE_LYDEFS = -DDIRED_SUPPORT
  
  # Set SITE_DEFS to one or more of the defines for lynx below:
! SITE_DEFS = -DDIRED_SUPPORT -DOK_TAR -DOK_GZIP -DOK_ZIP -DOK_OVERRIDE
  
  # if you are compiling on a previously unsupported system, modify
  # this generic entry!!
***************
*** 257,266 ****
  # FreeBSD doesn't have or need ranlib. (ignore the error message about that :)
  freebsd-ncurses:  
  	cd WWW/Library/freebsd; make LYFLAGS="$(SITE_LYDEFS)"
! 	cd src; make all CC="cc" MCFLAGS="-O -DFANCY_CURSES -DNCURSES -DUNIX \
! 		-DNO_KEYPAD -DNO_CUSERID -I../$(WWWINC) $(SITE_DEFS) \
! 		-I/usr/include/ncurses" LIBS="-lncurses -lcompat \
! 		-ltermcap $(WAISLIB) $(SOCKSLIB)" \
  		WWWLIB="../WWW/Library/freebsd/libwww.a"
  
  # NetBSD doesn't have or need ranlib. (ignore the error message about that :)
--- 257,265 ----
  # FreeBSD doesn't have or need ranlib. (ignore the error message about that :)
  freebsd-ncurses:  
  	cd WWW/Library/freebsd; make LYFLAGS="$(SITE_LYDEFS)"
! 	cd src; make all MCFLAGS="$(CFLAGS) -DFANCY_CURSES -DNCURSES -DUNIX \
! 		-DNO_TTYTYPE -DNO_CUSERID -DLOCALE -I../$(WWWINC) $(SITE_DEFS)" \
! 		LIBS="-lncurses -lmytinfo $(WAISLIB) $(SOCKSLIB)" \
  		WWWLIB="../WWW/Library/freebsd/libwww.a"
  
  # NetBSD doesn't have or need ranlib. (ignore the error message about that :)
*** ./userdefs.h.orig	Thu Nov 30 16:41:00 1995
--- ./userdefs.h	Sun Dec 10 23:54:07 1995
***************
*** 257,263 ****
--- 257,267 ----
  #ifdef MMDF
  #define SYSTEM_MAIL "/usr/mmdf/bin/submit" 
  #else
+ #ifdef __FreeBSD__
+ #define SYSTEM_MAIL "/usr/sbin/sendmail"
+ #else
  #define SYSTEM_MAIL "/usr/lib/sendmail" 
+ #endif
  #endif /* MMDF */
  
  /**************************
***************
*** 865,871 ****
--- 869,880 ----
  #define LYNX_NAME "Lynx"
  #define LYNX_VERSION "2.4-FM"
  #ifndef MAXINT
+ #ifdef __FreeBSD__
+ #include <limits.h>
+ #define MAXINT INT_MAX
+ #else
  #define MAXINT 2147483647
+ #endif
  #endif /* !MAXINT */
  
  /* text strings for certain actions */
*** src/LYCurses.c.bak	Sat Nov 18 19:28:54 1995
--- src/LYCurses.c	Mon Dec 11 00:45:36 1995
***************
*** 183,191 ****
  
  	/* query the terminal type */
      if(dumbterm(getenv("TERM"))) {
  	printf("\n\n  Your Terminal type is unknown!\n\n");
  	printf("  Enter a terminal type: [vt100] ");
! 	gets(buffer);
  
  	if(strlen(buffer) == 0)
  	    strcpy(buffer,"vt100"); 
--- 183,196 ----
  
  	/* query the terminal type */
      if(dumbterm(getenv("TERM"))) {
+ 	char *s;
+ 
  	printf("\n\n  Your Terminal type is unknown!\n\n");
  	printf("  Enter a terminal type: [vt100] ");
! 	*buffer = '\0';
! 	fgets(buffer, sizeof(buffer), stdin);
! 	if ((s = strchr(buffer, '\n')) != NULL)
! 		*s = '\0';
  
  	if(strlen(buffer) == 0)
  	    strcpy(buffer,"vt100"); 
