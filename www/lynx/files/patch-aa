*** ./WWW/Library/Implementation/HTFile.c.orig	Sat Apr  1 01:34:48 1995
--- ./WWW/Library/Implementation/HTFile.c	Sat Jun 17 02:04:19 1995
***************
*** 585,591 ****
--- 585,595 ----
  #ifdef NO_GROUPS
      return NO;		/* Safe answer till we find the correct algorithm */
  #else
+ #ifdef __FreeBSD__
+     gid_t       groups[NGROUPS];
+ #else
      int 	groups[NGROUPS];	
+ #endif
      uid_t	myUid;
      int		ngroups;			/* The number of groups  */
      struct stat	fileStatus;
*** ./WWW/Library/freebsd/Makefile.orig	Tue Jan 17 16:05:20 1995
--- ./WWW/Library/freebsd/Makefile	Sat Jun 17 02:26:28 1995
***************
*** 8,16 ****
  ASIS_MACH = i386/FreeBSD
  
  
! CFLAGS = -O -DDEBUG -DUSE_DIRENT
  LFLAGS =
- CC = cc
  
  # Directory for installed binary:
  BINDIR = /usr/local/bin
--- 8,15 ----
  ASIS_MACH = i386/FreeBSD
  
  
! CFLAGS += -DDEBUG
  LFLAGS =
  
  # Directory for installed binary:
  BINDIR = /usr/local/bin
***************
*** 25,408 ****
  #  Where should temporary (object) files go?
  WTMP = ../..
  
! #	Common Makefile for W3 Library Code
! #	-----------------------------------
! #
! #	(c) CERN 1990, 1991 -- see Copyright.html for conditions
! #
! # This file should be invariant between systems.
! #	DEPENDENCIES NOT COMPLETE @@
! #
! #	make		Compile and link the software (private version)
! #	make install	Copy it into the system (implies make)
! #	make update	Copy installed version into installed version
! #	make uninstall	Unlink installed version from the system
! #	make clean	Remove intermediate files
! #	make cleanall	Remove intremediate files and products
! #	
! # Macros required to be defined already for make:
! #
! # CC		The C compiler
! # CFLAGS	Flags for $(CC) -- except the -I which are below
! # LFLAGS	Flags for ld
! #
! # WWW           The WWW source tree directory
! #
! # Macros needed for make install:
! #
! # LIBDIR	Directory for installed library
! #______________________________________________________________________
! 
! #  If this env var is set to something else Some makes will use that instead
! SHELL = /bin/sh
! 
! #	.h files are distributed but originally are made from the
! #	self-documenting hypertext files.
! 
! .SUFFIXES: .h .html
! .html.h:
! #	- chmod +w $*.h
! 	www -w90 -na -to text/x-c $*.html > $*.h
! #	chmod -w $*.h
! 
! # If this is actually run in a subdirectory,
! #
! # WWW = ../../..
! # WWW = ../..	For [cernlib] build in this directory
! 
! WC = $(WWW)/Library
! CMN = $(WWW)/Library/Implementation/
! VMS = $(CMN)vms
! # Where shall we put the objects and built library?
! 
! LOB = $(WTMP)/Library/$(WWW_MACH)
! 
! # Only needed if HTWAIS.c is to be compiled. Put into your Makefile.include
! #  uncomment these and fill in WAISINC for adding direct wais access
! #  to Lynx.
! #HTWAIS = $(LOB)/HTWAIS.o
! #WAIS = YES
! #WAISINC = -I../../../../freeWAIS-0.202/ir
! #WAISCFLAGS = -DDIRECT_WAIS 
! #
! 
! # This path, if relative, is taken relative to the directory
! # in which this makefile is, not the pwd.  This screws up the 
! # recursive invocation
! # include $(CMN)Version.make
! .include "$(ABS)$(WWW)/Library/Implementation/Version.make"
! 
! # XMOsAIC hack is only for server to cope with xmosaic kludge for mmedia
! #
! # add -DNEW_GATEWAY here for the new gateway config stuff
! CFLAGS2 = $(CFLAGS) $(LYFLAGS) $(WAISCFLAGS) -I$(CMN) -DXMOSAIC_HACK \
! -DACCESS_AUTH 
! 
! CERNLIBBIN = $(WWW)/bin
! 
! COMMON = $(LOB)/HTParse.o $(LOB)/HTAccess.o $(LOB)/HTTP.o \
! 	$(LOB)/HTFile.o	$(LOB)/HTBTree.o $(LOB)/HTFTP.o $(LOB)/HTTCP.o \
! 	$(LOB)/SGML.o $(LOB)/HTMLDTD.o $(LOB)/HTChunk.o \
! 	$(LOB)/HTPlain.o $(LOB)/HTWriter.o $(LOB)/HTFWriter.o \
! 	$(LOB)/HTMLGen.o \
! 	$(LOB)/HTAtom.o $(LOB)/HTAnchor.o $(LOB)/HTStyle.o \
! 	$(LOB)/HTList.o $(LOB)/HTString.o $(LOB)/HTAlert.o \
! 	$(LOB)/HTRules.o $(LOB)/HTFormat.o $(LOB)/HTInit.o $(LOB)/HTMIME.o \
! 	$(LOB)/HTHistory.o $(LOB)/HTNews.o $(LOB)/HTGopher.o \
! 	$(LOB)/HTTelnet.o $(LOB)/HTWSRC.o $(HTWAIS) \
! 	$(LOB)/HTAAUtil.o $(LOB)/HTAAServ.o $(LOB)/HTAABrow.o \
! 	$(LOB)/HTAAFile.o $(LOB)/HTPasswd.o $(LOB)/HTGroup.o  \
! 	$(LOB)/HTACL.o    $(LOB)/HTAuth.o   $(LOB)/HTAAProt.o \
! 	$(LOB)/HTAssoc.o  $(LOB)/HTLex.o    $(LOB)/HTUU.o
! 
! CFILES = $(CMN)HTParse.c $(CMN)HTAccess.c $(CMN)HTTP.c $(CMN)HTFile.c \
!         $(CMN)HTBTree.c \
! 	$(CMN)HTFTP.c   $(CMN)HTTCP.c     $(CMN)SGML.c	\
! 	$(CMN)HTMLDTD.c \
! 	$(CMN)HTPlain.c	$(CMN)HTWriter.c  $(CMN)HTFWriter.c \
!         $(CMN)HTMLGen.c	\
! 	$(CMN)HTChunk.c $(CMN)HTAtom.c   $(CMN)HTAnchor.c $(CMN)HTStyle.c \
! 	$(CMN)HTList.c  $(CMN)HTString.c $(CMN)HTAlert.c $(CMN)HTRules.c \
! 	$(CMN)HTFormat.c $(CMN)HTInit.c $(CMN)HTMIME.c $(CMN)HTHistory.c \
! 	$(CMN)HTNews.c  $(CMN)HTGopher.c $(CMN)HTTelnet.c \
! 	$(CMN)HTWAIS.c  $(CMN)HTWSRC.c \
! 	$(CMN)HTAAUtil.c $(CMN)HTAAServ.c $(CMN)HTAABrow.c \
! 	$(CMN)HTAAFile.c $(CMN)HTPasswd.c $(CMN)HTGroup.c  \
! 	$(CMN)HTACL.c    $(CMN)HTAuth.c   $(CMN)HTAAProt.c \
! 	$(CMN)HTAssoc.c  $(CMN)HTLex.c    $(CMN)HTUU.c
! 
! HFILES = $(CMN)HTParse.h $(CMN)HTAccess.h $(CMN)HTTP.h $(CMN)HTFile.h \
! 	$(CMN)HTBTree.h $(CMN)HTFTP.h $(CMN)HTTCP.h \
! 	$(CMN)SGML.h $(CMN)HTML.h $(CMN)HTMLDTD.h $(CMN)HTChunk.h \
! 	$(CMN)HTPlain.h		$(CMN)HTWriter.h \
! 	$(CMN)HTFWriter.h 	$(CMN)HTMLGen.h	\
! 	$(CMN)HTStream.h \
! 	$(CMN)HTAtom.h $(CMN)HTAnchor.h $(CMN)HTStyle.h \
! 	$(CMN)HTList.h \
! 	$(CMN)HTString.h $(CMN)HTAlert.h $(CMN)HTRules.h \
! 	$(CMN)HTFormat.h $(CMN)HTInit.h \
! 	$(CMN)HTMIME.h $(CMN)HTHistory.h $(CMN)HTNews.h \
! 	$(CMN)HTGopher.h \
! 	$(CMN)HTUtils.h $(CMN)tcp.h $(CMN)HText.h \
! 	$(CMN)HTTelnet.h \
! 	$(CMN)HTWAIS.h  $(CMN)HTWSRC.h \
! 	$(CMN)HTAAUtil.h $(CMN)HTAAServ.h $(CMN)HTAABrow.h \
! 	$(CMN)HTAAFile.h $(CMN)HTPasswd.h $(CMN)HTGroup.h  \
! 	$(CMN)HTACL.h    $(CMN)HTAuth.h   $(CMN)HTAAProt.h \
! 	$(CMN)HTAssoc.h  $(CMN)HTLex.h    $(CMN)HTUU.h
! 
! SOURCES = $(CFILES) $(HFILES) $(CMN)Version.make \
! 	$(CMN)CommonMakefile $(CMN)Makefile \
! 	$(WWW)/README.txt $(WWW)/Copyright.txt $(WWW)/BUILD $(WWW)/Makefile
! SPECIFIC = $(WWW)/All/*/Makefile.include $(WWW)/All/Implementation/Makefile* \
! 	$(VMS)/descrip.mms $(VMS)/build_multinet.com \
! 	$(VMS)/COPYING.LIB $(VMS)/setup.com $(VMS)/multinet.opt \
! 	$(VMS)/patchlevel.h $(VMS)/ufc-crypt.h \
! 	$(VMS)/crypt.c $(VMS)/crypt_util.c \
! 	$(VMS)/getline.c $(VMS)/getpass.c \
! 	$(VMS)/HTVMSUtils.h $(VMS)/HTVMSUtils.c
! 
! 
! #	Library
! #
! #  On SGI, ranlib is unnecessary and does not exist so we ignore errors
! # for that step
! $(LOB)/libwww.a : $(COMMON)
! 	ar r $(LOB)/libwww.a $(COMMON)
! 	-ranlib $(LOB)/libwww.a
! 
! #	Clean up everything generatable except final products
! clean :
! 	rm $(LOB)/*.o $(LOB)/.created
! 	-rmdir $(LOB)
! 
! #	Clean up everything generatable including final products
! 
! cleanall : clean
! 	rm $(LOB)/libwww.a
! 
! #	Install W3 library into system space (not normally necessary)
! 
! install : libwww.a
! 	if [ ! -r $(LIBDIR) ] mkdir $(LIBDIR)
! 	cp libwww.a $(LIBDIR)/libwww.a
! 	
! uninstall :
! 	rm $(LIBDIR)/libwww.a
! 
! #		Distribution use only:
! #		----------------------
! 
! #	Needs www version 2.4 or later to do this
! inc : $(HFILES)
! 	echo Include files generated from hypertext.
! 
! binary : /pub/www/bin/$(WWW_MACH)/libwww_$(VC).a
! 	echo FTP archive binary Libray $(VC) for $(WWW_MACH) up to date.
! 
! 
! /pub/www/bin/$(WWW_MACH)/libwww_$(VC).a : libwww.a
! 	-mkdir /pub/www/bin/$(WWW_MACH)
! 	cp libwww.a /pub/www/bin/$(WWW_MACH)/libwww_$(VC).a
! 
! #	Source Distribution:
! 
! distribute :  /pub/www/README.txt /pub/www/Copyright.txt
! 	(cd $(WWW)/..; WWW=WWW ABS=`pwd`/ make $(MFLAGS) \
! 		-f WWW/Library/Implementation/CommonMakefile \
! 		/pub/www/src/WWWLibrary_$(VC).tar.Z)
! 	(cd ../Implementation; cvs tag \
! 	    `sed -e 's/VC = /v/' Version.make | sed -e 's?\.?/?'` )
! 	echo Distribution of Library version $(VC) up to date.
! 
! /pub/www/src/WWWLibrary_$(VC).tar.Z : $(SOURCES)
! 	tar cf /pub/www/src/WWWLibrary_$(VC).tar \
! 	    $(SOURCES)  $(SPECIFIC) $(WC)/*/Makefile
! 	compress /pub/www/src/WWWLibrary_$(VC).tar
! 
! 
! #	Hypertext supplied in text format
! #	---------------------------------
! 
! $(WWW)/README.txt : $(WWW)/../README.html
! 	www -n -p66 http://info.cern.ch/hypertext/README.html \
! 		> $(WWW)/README.txt
! /pub/www/README.txt : $(WWW)/README.txt
! 	cp $(WWW)/README.txt /pub/www/README.txt
! 
! $(WWW)/Copyright.txt : $(WWW)/../Copyright.html
! 	www -n -p66 http://info.cern.ch/hypertext/Copyright.html \
! 		> $(WWW)/Copyright.txt
! /pub/www/Copyright.txt : $(WWW)/Copyright.txt
! 	cp $(WWW)/Copyright.txt /pub/www/Copyright.txt
! 
! # 			Common code
! #			-----------
! 
! #	Directory for object files - .created checks it exists
! 
! OE = $(LOB)/.created
! $(OE) :
! 	if [ ! -r $(WTMP) ] ; then mkdir $(WTMP); else echo OK ; fi
! 	if [ ! -r $(WTMP)/Library ] ; then mkdir $(WTMP)/Library; else echo OK ; fi
! 	if [ ! -r $(WTMP)/Library/$(WWW_MACH) ] ; \
! 		then mkdir $(WTMP)/Library/$(WWW_MACH); else echo OK ; fi
! 	touch $@
! 
! $(LOB)/HTList.o : $(OE) $(CMN)HTList.c $(CMN)HTUtils.h $(CMN)HTList.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTList.c
! 
! $(LOB)/HTAnchor.o : $(OE) $(CMN)HTAnchor.c $(CMN)HTUtils.h $(CMN)HTList.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTAnchor.c
! 
! $(LOB)/HTFormat.o : $(OE) $(CMN)HTFormat.c $(CMN)HTUtils.h $(CMN)HTList.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTFormat.c
! 
! $(LOB)/HTInit.o : $(OE) $(CMN)HTInit.c $(CMN)HTUtils.h $(CMN)HTList.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTInit.c
! 
! $(LOB)/HTMIME.o : $(OE) $(CMN)HTMIME.c $(CMN)HTUtils.h $(CMN)HTList.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTMIME.c
! 
! $(LOB)/HTHistory.o : $(OE) $(CMN)HTHistory.c $(CMN)HTUtils.h $(CMN)HTList.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTHistory.c
! 
! $(LOB)/HTNews.o : $(OE) $(CMN)HTNews.c $(CMN)HTUtils.h $(CMN)HTList.h\
! 	 $(CMN)HTMLDTD.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTNews.c
! 
! $(LOB)/HTGopher.o : $(OE) $(CMN)HTGopher.c $(CMN)HTUtils.h $(CMN)HTList.h \
! 	 $(CMN)HTMLDTD.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTGopher.c
! 
! $(LOB)/HTTelnet.o : $(OE) $(CMN)HTTelnet.c $(CMN)HTUtils.h $(CMN)HTTelnet.h $(CMN)../../../userdefs.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTTelnet.c
! 
! $(LOB)/HTStyle.o : $(OE) $(CMN)HTStyle.c $(CMN)HTUtils.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTStyle.c
! 
! $(LOB)/HTAtom.o : $(OE) $(CMN)HTAtom.c $(CMN)HTUtils.h $(CMN)HTList.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTAtom.c
! 
! $(LOB)/HTChunk.o : $(OE) $(CMN)HTChunk.c $(CMN)HTUtils.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTChunk.c
! 
! $(LOB)/HTString.o : $(OE) $(CMN)HTString.c $(CMN)HTUtils.h $(CMN)Version.make
! 	$(CC) -c -o $@ $(CFLAGS2) -DVC=\"$(VC)\" $(CMN)HTString.c
! 
! $(LOB)/HTAlert.o : $(OE) $(CMN)HTAlert.c $(CMN)HTUtils.h $(CMN)Version.make
! 	$(CC) -c -o $@ $(CFLAGS2) -DVC=\"$(VC)\" $(CMN)HTAlert.c
! 
! $(LOB)/HTRules.o : $(OE) $(CMN)HTRules.c $(CMN)HTUtils.h $(CMN)Version.make \
! 	 $(CMN)HTAAServ.h $(CMN)HTAAProt.h
! 	$(CC) -c -o $@ $(CFLAGS2) -DVC=\"$(VC)\" $(CMN)HTRules.c
! 
! $(LOB)/SGML.o : $(OE) $(CMN)SGML.c $(CMN)HTUtils.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)SGML.c
! 
! $(LOB)/HTMLGen.o : $(OE) $(CMN)HTMLGen.c $(CMN)HTUtils.h $(CMN)HTMLDTD.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTMLGen.c
! 
! $(LOB)/HTMLDTD.o : $(OE) $(CMN)HTMLDTD.c $(CMN)SGML.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTMLDTD.c
! 
! $(LOB)/HTPlain.o : $(OE) $(CMN)HTPlain.c $(CMN)HTPlain.h $(CMN)HTStream.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTPlain.c
! 
! $(LOB)/HTWAIS.o : $(OE) $(CMN)HTWAIS.c $(CMN)HTUtils.h $(CMN)HTList.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(WAISINC) $(CMN)HTWAIS.c
! 
! $(LOB)/HTWSRC.o : $(OE) $(CMN)HTWSRC.c $(CMN)HTUtils.h $(CMN)HTList.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTWSRC.c
! 
! $(LOB)/HTWriter.o : $(OE) $(CMN)HTWriter.c $(CMN)HTWriter.h $(CMN)HTStream.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTWriter.c
! 
! $(LOB)/HTFWriter.o : $(OE) $(CMN)HTFWriter.c $(CMN)HTFWriter.h $(CMN)HTStream.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTFWriter.c
! 
! 
! #	Access Authorization
! 
! $(LOB)/HTAAUtil.o : $(OE) $(CMN)HTAAUtil.c $(CMN)HTAAUtil.h \
! 	 $(CMN)HTUtils.h $(CMN)HTString.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTAAUtil.c
! 
! $(LOB)/HTAAFile.o : $(OE) $(CMN)HTAAFile.c $(CMN)HTAAFile.h \
! 	 $(CMN)HTAAUtil.h $(CMN)HTUtils.h $(CMN)HTList.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTAAFile.c
! 
! $(LOB)/HTPasswd.o : $(OE) $(CMN)HTPasswd.c $(CMN)HTPasswd.h \
! 	 $(CMN)HTAAUtil.h $(CMN)HTAAFile.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTPasswd.c
! 
! $(LOB)/HTGroup.o : $(OE) $(CMN)HTGroup.c $(CMN)HTGroup.h \
! 	 $(CMN)HTAAUtil.h $(CMN)HTAAFile.h \
! 	 $(CMN)HTAssoc.h $(CMN)HTLex.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTGroup.c
! 
! $(LOB)/HTACL.o : $(OE) $(CMN)HTACL.c $(CMN)HTACL.h \
! 	 $(CMN)HTAAUtil.h $(CMN)HTAAFile.h $(CMN)HTGroup.h \
! 	 $(CMN)HTAssoc.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTACL.c
! 
! $(LOB)/HTAuth.o : $(OE) $(CMN)HTAuth.c $(CMN)HTAuth.h \
! 	 $(CMN)HTAAUtil.h $(CMN)HTPasswd.h $(CMN)HTAAFile.h \
! 	 $(CMN)HTAssoc.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTAuth.c
! 
! $(LOB)/HTAAServ.o : $(OE) $(CMN)HTAAServ.c $(CMN)HTAAServ.h \
! 	$(CMN)HTAAUtil.h $(CMN)HTAAFile.h $(CMN)HTPasswd.h \
! 	 $(CMN)HTGroup.h $(CMN)HTACL.h $(CMN)HTAuth.h \
! 	 $(CMN)HTUU.h $(CMN)HTParse.h $(CMN)HTList.h \
! 	 $(CMN)HTUtils.h $(CMN)HTString.h $(CMN)HTRules.h \
! 	 $(CMN)HTAAProt.h $(CMN)HTAssoc.h $(CMN)HTLex.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTAAServ.c
! 
! $(LOB)/HTAABrow.o : $(OE) $(CMN)HTAABrow.c $(CMN)HTAABrow.h \
! 	 $(CMN)HTAAUtil.h $(CMN)HTUU.h \
! 	 $(CMN)HTUtils.h $(CMN)HTString.h \
! 	 $(CMN)HTParse.h $(CMN)HTList.h $(CMN)HTAlert.h \
! 	 $(CMN)HTAssoc.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTAABrow.c
! 
! $(LOB)/HTAAProt.o : $(OE) $(CMN)HTAAProt.c $(CMN)HTAAProt.h \
! 	 $(CMN)HTUtils.h $(CMN)HTAAUtil.h $(CMN)HTAAFile.h \
! 	 $(CMN)HTAssoc.h $(CMN)HTLex.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTAAProt.c
! 
! $(LOB)/HTAssoc.o : $(OE) $(CMN)HTAssoc.c $(CMN)HTAssoc.h \
! 	$(CMN)HTUtils.h $(CMN)HTString.h $(CMN)HTList.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTAssoc.c
! 
! $(LOB)/HTLex.o : $(OE) $(CMN)HTLex.c $(CMN)HTLex.h $(CMN)HTUtils.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTLex.c
! 
! $(LOB)/HTUU.o : $(OE) $(CMN)HTUU.c $(CMN)HTUU.h $(CMN)HTUtils.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTUU.c
! 
! 
! #	Communications & Files
! 
! $(LOB)/HTTP.o : $(OE) $(CMN)HTTP.c $(CMN)HTUtils.h $(CMN)HTAABrow.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTTP.c
! 
! $(LOB)/HTTCP.o : $(OE) $(CMN)HTTCP.c $(CMN)HTUtils.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTTCP.c
! 
! $(LOB)/HTFile.o : $(OE) $(CMN)HTFile.c $(CMN)HTUtils.h \
! 	 $(CMN)HTMLDTD.h $(CMN)HTAAServ.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTFile.c
! 
! $(LOB)/HTBTree.o : $(OE) $(CMN)HTBTree.c $(CMN)HTUtils.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTBTree.c
! 
! $(LOB)/HTFTP.o : $(OE) $(CMN)HTFTP.c $(CMN)HTUtils.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTFTP.c
! 
! $(LOB)/HTAccess.o : $(OE)  $(CMN)HTAccess.c $(CMN)HTUtils.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTAccess.c
! 
! $(LOB)/HTParse.o : $(OE) $(CMN)HTParse.c $(CMN)HTUtils.h
! 	$(CC) -c -o $@ $(CFLAGS2) $(CMN)HTParse.c
! 
--- 24,27 ----
  #  Where should temporary (object) files go?
  WTMP = ../..
  
! include $(WWW)/Library/Implementation/CommonMakefile
*** ./src/LYJump.c.orig	Sun Feb 12 04:42:24 1995
--- ./src/LYJump.c	Sat Jun 17 02:04:23 1995
***************
*** 8,13 ****
--- 8,16 ----
  #include "LYSignal.h"
  
  #include "LYLeaks.h"
+ #ifndef VMS
+ #include <unistd.h>
+ #endif
  
  #ifdef VMS
  #include <fab.h>
*** ./src/LYShowInfo.c.orig	Sat Apr  8 17:13:02 1995
--- ./src/LYShowInfo.c	Sat Jun 17 02:04:24 1995
***************
*** 135,141 ****
  	      grp = getgrgid(dir_info.st_gid);
  	      fprintf(fp0,"      Group name:  %s\n",grp->gr_name);
  	      if (((dir_info.st_mode) & S_IFMT) == S_IFREG) {
! 		 sprintf(temp,"       File size:  %d (bytes)\n",dir_info.st_size);
  		 fprintf(fp0,"%s",temp);
  	      }
  /*
--- 135,141 ----
  	      grp = getgrgid(dir_info.st_gid);
  	      fprintf(fp0,"      Group name:  %s\n",grp->gr_name);
  	      if (((dir_info.st_mode) & S_IFMT) == S_IFREG) {
! 		 sprintf(temp,"       File size:  %ld (bytes)\n",(long)dir_info.st_size);
  		 fprintf(fp0,"%s",temp);
  	      }
  /*
*** ./Makefile.orig	Thu Jun  8 16:47:06 1995
--- ./Makefile	Sat Jun 17 02:22:01 1995
***************
*** 10,24 ****
  ##change the next line if you want the lynx man file installed somewhere
  ##besides /usr/man/man1
  
! doc= /usr/man/man1
  
  ##change the next line if you want the lynx.cfg file installed somewhere
  ##besides /usr/local/lib
  
  cfg= /usr/local/lib
  
! installbin= install -c -s -m 555
! installdoc= install -c -m 444
  
  
  #set the relative location of the WWW library Implementation directory, 
--- 10,24 ----
  ##change the next line if you want the lynx man file installed somewhere
  ##besides /usr/man/man1
  
! doc= /usr/local/man/man1
  
  ##change the next line if you want the lynx.cfg file installed somewhere
  ##besides /usr/local/lib
  
  cfg= /usr/local/lib
  
! installbin= install -c -s -m 555 -o bin -g bin
! installdoc= install -c -m 444 -o bin -g bin
  
  
  #set the relative location of the WWW library Implementation directory, 
***************
*** 101,110 ****
  univell: unixware
  
  # Set SITE_LYDEFS to one or more of the defines for the WWW Library:
! SITE_LYDEFS = # -DDIRED_SUPPORT
  
  # Set SITE_DEFS to one or more of the defines for lynx below:
! SITE_DEFS = # -DDIRED_SUPPORT
  
  # if you are compiling on a previously unsupported system, modify
  # this generic entry!!
--- 101,110 ----
  univell: unixware
  
  # Set SITE_LYDEFS to one or more of the defines for the WWW Library:
! SITE_LYDEFS = -DDIRED_SUPPORT
  
  # Set SITE_DEFS to one or more of the defines for lynx below:
! SITE_DEFS = -DDIRED_SUPPORT -DOK_TAR -DOK_GZIP -DOK_ZIP -DOK_OVERRIDE
  
  # if you are compiling on a previously unsupported system, modify
  # this generic entry!!
***************
*** 223,232 ****
  # FreeBSD doesn't have or need ranlib. (ignore the error message about that :)
  freebsd-ncurses:  
  	cd WWW/Library/freebsd; make LYFLAGS="$(SITE_LYDEFS)"
! 	cd src; make all CC="cc" MCFLAGS="-O -DFANCY_CURSES -DNCURSES -DUNIX \
! 		-DNO_KEYPAD -DNO_CUSERID -I../$(WWWINC) $(SITE_DEFS) \
! 		-I/usr/include/ncurses" LIBS="-lncurses -lcompat \
! 		-ltermcap $(WAISLIB) $(SOCKSLIB)" \
  		WWWLIB="../WWW/Library/freebsd/libwww.a"
  
  # NetBSD doesn't have or need ranlib. (ignore the error message about that :)
--- 223,231 ----
  # FreeBSD doesn't have or need ranlib. (ignore the error message about that :)
  freebsd-ncurses:  
  	cd WWW/Library/freebsd; make LYFLAGS="$(SITE_LYDEFS)"
! 	cd src; make all MCFLAGS="$(CFLAGS) -DFANCY_CURSES -DNCURSES -DUNIX \
! 		-DNO_TTYTYPE -DNO_CUSERID -DLOCALE -I../$(WWWINC) $(SITE_DEFS)" \
! 		LIBS="-lncurses -lmytinfo $(WAISLIB) $(SOCKSLIB)" \
  		WWWLIB="../WWW/Library/freebsd/libwww.a"
  
  # NetBSD doesn't have or need ranlib. (ignore the error message about that :)
*** ./userdefs.h.orig	Thu Jun 15 20:21:02 1995
--- ./userdefs.h	Sat Jun 17 02:07:39 1995
***************
*** 228,234 ****
--- 228,238 ----
  #ifdef MMDF
  #define SYSTEM_MAIL "/usr/mmdf/bin/submit" 
  #else
+ #ifdef __FreeBSD__
+ #define SYSTEM_MAIL "/usr/sbin/sendmail"
+ #else
  #define SYSTEM_MAIL "/usr/lib/sendmail" 
+ #endif
  #endif /* MMDF */
  
  /**************************
***************
*** 668,674 ****
--- 672,683 ----
  #define LYNX_NAME "Lynx"
  #define LYNX_VERSION "2-4-1"
  #ifndef MAXINT
+ #ifdef __FreeBSD__
+ #include <limits.h>
+ #define MAXINT INT_MAX
+ #else
  #define MAXINT 2147483647
+ #endif
  #endif /* !MAXINT */
  
  /* text strings for certain actions */
*** src/LYMain.c.bak	Mon Jun  5 06:13:14 1995
--- src/LYMain.c	Sat Jun 17 03:05:17 1995
***************
*** 24,29 ****
--- 24,30 ----
  #ifdef SYSLOG_REQUESTED_URLS
  #include <syslog.h>
  #endif /* SYSLOG_REQUESTED_URLS */
+ #include <unistd.h>
  #endif /* !VMS */
  
  #ifdef LOCALE
*** src/LYStrings.c.bak	Sat Apr  1 01:51:18 1995
--- src/LYStrings.c	Sat Jun 17 03:29:19 1995
***************
*** 35,41 ****
  #ifdef VMS
  #define GetChar() ttgetc()
  #else
! #ifdef SNAKE
  #define GetChar() wgetch(stdscr)
  #else /* everything but VMS and SNAKE */
  #define GetChar() getchar()  /* used to be "getc(stdin)" and "getch()" */
--- 35,41 ----
  #ifdef VMS
  #define GetChar() ttgetc()
  #else
! #if defined(SNAKE) || defined(NCURSES)
  #define GetChar() wgetch(stdscr)
  #else /* everything but VMS and SNAKE */
  #define GetChar() getchar()  /* used to be "getc(stdin)" and "getch()" */
*** src/LYStrings.h.bak	Thu Jun  9 16:02:14 1994
--- src/LYStrings.h	Sat Jul  8 09:39:28 1995
***************
*** 23,43 ****
  #define printable(c) (((c)>31 && (c)<=255) || (c)==9 || (c)==10 || (c)<0 )
  
  /* values for LYgetch */
! #define UPARROW 128
! #define DNARROW 129
! #define RTARROW 130
! #define LTARROW 131
! #define PGDOWN  132
! #define PGUP    133
! #define HOME    134
! #define END     135
! #define F1      136
! #define DO_KEY     137
! #define FIND_KEY   138
! #define SELECT_KEY 139
! #define INSERT_KEY 140
! #define REMOVE_KEY 141
! #define DO_NOTHING 142
  
  #define VISIBLE 0
  #define HIDDEN  1
--- 23,43 ----
  #define printable(c) (((c)>31 && (c)<=255) || (c)==9 || (c)==10 || (c)<0 )
  
  /* values for LYgetch */
! #define UPARROW 256
! #define DNARROW 257
! #define RTARROW 258
! #define LTARROW 259
! #define PGDOWN  260
! #define PGUP    261
! #define HOME    262
! #define END     263
! #define F1      264
! #define DO_KEY     265
! #define FIND_KEY   266
! #define SELECT_KEY 267
! #define INSERT_KEY 268
! #define REMOVE_KEY 269
! #define DO_NOTHING 270
  
  #define VISIBLE 0
  #define HIDDEN  1
*** src/LYDownload.c.bak	Mon Jun  5 06:12:52 1995
--- src/LYDownload.c	Sat Jul  8 09:46:22 1995
***************
*** 35,41 ****
      char command[256];
      char *cp;
      lynx_html_item_type *download_command=0;
!     char c;
      FILE *fp;
  #ifdef VMS
      extern BOOLEAN HadVMSInterrupt;
--- 35,41 ----
      char command[256];
      char *cp;
      lynx_html_item_type *download_command=0;
!     int c;
      FILE *fp;
  #ifdef VMS
      extern BOOLEAN HadVMSInterrupt;
*** src/LYForms.c.bak	Sat Apr  1 01:49:12 1995
--- src/LYForms.c	Sat Jul  8 09:46:22 1995
***************
*** 312,318 ****
  		    refresh();
  
  	       } else if(ch == LTARROW) {
! 		   char c='n';
  		   if(has_there_ever_been_data) {
  			_statusline("Do you want to go back to the previous document? [n]");
  			c=LYgetch();
--- 312,318 ----
  		    refresh();
  
  	       } else if(ch == LTARROW) {
! 		   int c='n';
  		   if(has_there_ever_been_data) {
  			_statusline("Do you want to go back to the previous document? [n]");
  			c=LYgetch();
*** src/LYUpload.c.bak	Tue Mar  7 23:38:02 1995
--- src/LYUpload.c	Sat Jul  8 09:46:22 1995
***************
*** 36,42 ****
      char tmpbuf[256];
      char buffer[256];
      lynx_html_item_type *upload_command=0;
!     char c;
      char *cp;
      FILE *fp;
  #ifdef VMS
--- 36,42 ----
      char tmpbuf[256];
      char buffer[256];
      lynx_html_item_type *upload_command=0;
!     int c;
      char *cp;
      FILE *fp;
  #ifdef VMS
*** src/LYKeymap.c.bak	Tue Mar  7 23:36:26 1995
--- src/LYKeymap.c	Sat Jul  8 10:11:26 1995
***************
*** 156,161 ****
--- 156,194 ----
  LYK_PIPE,               0,              0,          LYK_HISTORY,
  /* | */               /* } */         /* ~ */       /* del */
  
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+    0,                  0,              0,             0,
+ 
  LYK_PREV_LINK,    LYK_NEXT_LINK,    LYK_ACTIVATE,   LYK_PREV_DOC,
  /* UPARROW */     /* DNARROW */     /* RTARROW */   /* LTARROW */
  
*** WWW/Library/Implementation/HTTCP.c.orig	Wed Sep  6 15:06:49 1995
--- WWW/Library/Implementation/HTTCP.c	Thu Sep 21 00:28:50 1995
***************
*** 96,105 ****
--- 96,107 ----
  #ifndef NeXT
  #ifndef THINK_C
  #ifndef __NetBSD__
+ #ifndef __FreeBSD__
  #ifndef BSDI
  extern char *sys_errlist[];		/* see man perror on cernvax */
  extern int sys_nerr;
  #endif /* BSDI */
+ #endif	/* __FreeBSD */
  #endif	/* __NetBSD__ */
  #endif  /* think c */
  #endif	/* NeXT */
***************
*** 208,214 ****
  #endif
  #define ER_NO_TRANS_DONE
  #endif
! #ifdef NeXT
  	    strerror(errno));
  #define ER_NO_TRANS_DONE
  #endif
--- 210,216 ----
  #endif
  #define ER_NO_TRANS_DONE
  #endif
! #if defined(NeXT) || defined(__FreeBSD__)
  	    strerror(errno));
  #define ER_NO_TRANS_DONE
  #endif
