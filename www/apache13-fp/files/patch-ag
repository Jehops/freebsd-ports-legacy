--- conf/httpd.conf-dist.orig	Fri Oct  5 22:40:04 2001
+++ conf/httpd.conf-dist	Wed Oct 17 18:16:27 2001
@@ -95,6 +95,9 @@
 #ResourceConfig conf/srm.conf
 #AccessConfig conf/access.conf
 
+ResourceConfig @@ServerRoot@@/srm.conf
+AccessConfig @@ServerRoot@@/access.conf
+
 #
 # Timeout: The number of seconds before receives and sends time out.
 #
@@ -276,7 +279,7 @@
 # documents. By default, all requests are taken from this directory, but
 # symbolic links and aliases may be used to point to other locations.
 #
-DocumentRoot "@@ServerRoot@@/htdocs"
+DocumentRoot @@ServerRoot@@/htdocs
 
 #
 # Each directory to which Apache has access, can be configured with respect
@@ -317,7 +320,16 @@
 # override. Can also be "All", or any combination of "Options", "FileInfo", 
 # "AuthConfig", and "Limit"
 #
-    AllowOverride None
+<IfDefine MOD_FP>
+### These are the Minimum options need by the FrontPage Module.
+### With out these options set the FrontPage Client will not be
+### able to access the server.
+    AllowOverride AuthConfig Limit Indexes Options
+</IfDefine>
+
+<IfDefine !MOD_FP>
+#    AllowOverride None
+</IfDefine>
 
 #
 # Controls who can get stuff from this server.
@@ -351,12 +363,36 @@
 #    </LimitExcept>
 #</Directory>
 
+### In Order for FrontPage to work in User and Virtual ###
+### Web Directories, they need to be set up as shown:  ###
+<IfDefine MOD_FP>
+    <Directory /*/public_html>
+ 	AllowOverride AuthConfig Limit Indexes Options
+	Options ExecCGI
+    </Directory>
+</IfDefine>
+
 #
 # DirectoryIndex: Name of the file or files to use as a pre-written HTML
 # directory index.  Separate multiple entries with spaces.
 #
 <IfModule mod_dir.c>
-    DirectoryIndex index.html
+    <IfModule mod_php3.c>
+        <IfModule mod_php4.c>
+            DirectoryIndex index.php index.php3 index.html
+        </IfModule>
+        <IfModule !mod_php4.c>
+            DirectoryIndex index.php3 index.html
+        </IfModule>
+    </IfModule>
+    <IfModule !mod_php3.c>
+        <IfModule mod_php4.c>
+            DirectoryIndex index.php index.html
+        </IfModule>
+        <IfModule !mod_php4.c>
+            DirectoryIndex index.html
+        </IfModule>
+    </IfModule>
 </IfModule>
 
 #
@@ -476,7 +512,7 @@
 # define per-<VirtualHost> access logfiles, transactions will be
 # logged therein and *not* in this file.
 #
-CustomLog logs/access_log common
+#CustomLog logs/access_log common
 
 #
 # If you would like to have agent and referer logfiles, uncomment the
@@ -489,7 +525,7 @@
 # If you prefer a single logfile with access, agent, and referer information
 # (Combined Logfile Format) you can use the following directive.
 #
-#CustomLog logs/access_log combined
+CustomLog logs/access_log combined
 
 #
 # Optionally add a line containing the server version and virtual host
@@ -768,13 +804,17 @@
     # For example, the PHP 3.x module (not part of the Apache distribution - see
     # http://www.php.net) will typically use:
     #
-    #AddType application/x-httpd-php3 .php3
-    #AddType application/x-httpd-php3-source .phps
+    <IfModule mod_php3.c>
+	AddType application/x-httpd-php3 .php3
+	AddType application/x-httpd-php3-source .php3s
+    </IfModule>
     #
     # And for PHP 4.x, use:
     #
-    #AddType application/x-httpd-php .php
-    #AddType application/x-httpd-php-source .phps
+    <IfModule mod_php4.c>
+	AddType application/x-httpd-php .php
+	AddType application/x-httpd-php-source .phps
+    </IfModule>
 
     AddType application/x-tar .tgz
 
@@ -984,3 +1024,14 @@
 #    ErrorLog logs/dummy-host.example.com-error_log
 #    CustomLog logs/dummy-host.example.com-access_log common
 #</VirtualHost>
+
+# This Virtual Host makes it so FrontPage will display pages from the
+# root web.  When multiple Listen directives are specified, Frontpage
+# will try to access the pages from the wrong virutal host. This fixes it.
+#
+#NOTE: This Virtual Host Entry must be kept as the last _default_
+#      virtual host entry.
+#<VirtualHost _default_:80>
+#    ServerAdmin webmaster@@@HOSTNAME@@
+#    ServerName @@HOSTNAME@@
+#</VirtualHost>
