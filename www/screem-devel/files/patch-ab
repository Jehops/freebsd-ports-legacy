--- configure.orig	Mon Jul 17 21:51:46 2000
+++ configure	Fri Jul 21 12:13:37 2000
@@ -2763,14 +2763,14 @@
   PTHREAD_LIB="-lpthreads"
 else
   echo "$ac_t""no" 1>&6
-echo $ac_n "checking for pthread_create in -lc_r""... $ac_c" 1>&6
-echo "configure:2768: checking for pthread_create in -lc_r" >&5
+echo $ac_n "checking for pthread_create in -pthread""... $ac_c" 1>&6
+echo "configure:2768: checking for pthread_create in -pthread" >&5
 ac_lib_var=`echo c_r'_'pthread_create | sed 'y%./+-%__p_%'`
 if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   ac_save_LIBS="$LIBS"
-LIBS="-lc_r  $LIBS"
+LIBS="-pthread  $LIBS"
 cat > conftest.$ac_ext <<EOF
 #line 2776 "configure"
 #include "confdefs.h"
@@ -2798,7 +2798,8 @@
 fi
 if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
   echo "$ac_t""yes" 1>&6
-  PTHREAD_LIB="-lc_r"
+  PTHREAD_LIB="-pthread"
+  CFLAGS="$CFLAGS -D_REENTRANT -D_THREAD_SAFE"
 else
   echo "$ac_t""no" 1>&6
 echo $ac_n "checking for pthread_create""... $ac_c" 1>&6
@@ -6296,7 +6297,7 @@
   cat conftest.$ac_ext >&5
   rm -rf conftest*
   CATOBJEXT=.mo
-		   DATADIRNAME=lib
+		   DATADIRNAME=share
 fi
 rm -f conftest*
 		INSTOBJEXT=.mo
