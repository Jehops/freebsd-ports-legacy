--- Makefile.freebsd.orig	Tue Dec 12 23:51:55 2000
+++ Makefile.freebsd	Sun May 20 15:50:41 2001
@@ -1,18 +1,18 @@
 ## You need to edit this file - configure later :-)
 
-APACHE_HOME=/usr/local/apache
 OS=freebsd
-APXS=${APACHE_HOME}/bin/apxs
+APXS=${PREFIX}/sbin/apxs
 
-A13_FLAGS=-I${APACHE_HOME}/include
+A13_FLAGS=-I${PREFIX}/include/apache
 
 ## I assume this one is set up already
-# JAVA_HOME=
+JAVA_HOME=${PREFIX}/jdk1.1.8
 
 JAVA_INCL=-I${JAVA_HOME}/include -I${JAVA_HOME}/include/${OS}
 JAVA_LIB=-L${JAVA_HOME}/jre/lib/${ARCH} -L${JAVA_HOME}/lib/${ARCH}/native_threads
 
-CFLAGS=-DHAVE_CONFIG_H -g -fpic  -DSHARED_MODULE -O2 -D_REENTRANT -pthread -DLINUX -Wall
+XCFLAGS=${CFLAGS}
+CFLAGS=-DHAVE_CONFIG_H -fpic -DSHARED_MODULE -DFREEBSD -Wall
 
 JK=../jk/
 SRCS=jk_ajp12_worker.c jk_connect.c jk_msg_buff.c jk_util.c jk_ajp13.c \
@@ -23,7 +23,7 @@
 OBJS=${patsubst %.c,%.o,${SRCS}}
 
 %.o: ../jk/%.c 
-	${CC} -c ${CFLAGS} ${JAVA_INCL} ${A13_FLAGS} $< -o $@ 
+	${CC} -c ${XCFLAGS} ${CFLAGS} ${JAVA_INCL} ${A13_FLAGS} $< -o $@ 
 
 .c.o:
 	${APXS} -c ${JAVA_INCL} -DFREEBSD ${A13_FLAGS} -I../jk $<
