--- common/jk_mt.h~	Thu Jun  6 03:23:25 2002
+++ common/jk_mt.h	Wed Sep 10 01:22:36 2003
@@ -70,7 +70,7 @@
  * All WIN32 code is MT, UNIX code that uses pthreads is marked by the POSIX 
  * _REENTRANT define.
  */
-#if defined (WIN32) || defined(_REENTRANT)
+#if defined (WIN32) || ( defined(FREEBSD_THREAD_HACK) && defined(_THREAD_SAFE) )
 
     /*
      * Marks execution under MT compilation
