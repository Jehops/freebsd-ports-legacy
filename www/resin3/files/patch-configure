$FreeBSD$

--- configure.orig	Wed Jan 12 00:00:26 2005
+++ configure	Mon Apr 25 11:21:46 2005
@@ -8669,20 +8669,6 @@
 # Using Perl if it's available.
 #
 PERL=`which perl`
-if test -z "${LD_SHLIB}"; then
-  if test -z "${LD_SHLIB}" -a "x`$PERL -V:dlsrc 2>/dev/null | grep dlopen`" != "x"; then
-    PCC="`$PERL -V:cc | cut -d\' -f2`"
-    if test "${PCC}" = "${CC}"; then
-      CFLAGS_SHLIB="`$PERL -V:cccdlflags | cut -d\' -f2`"
-      LDFLAGS_SHLIB="`$PERL -V:lddlflags | cut -d\' -f2`"
-      LD_SHLIB="`$PERL -V:ld | cut -d\' -f2`"
-
-      has_clflags=1
-
-      echo "Using shared library flags from Perl"
-    fi
-  fi
-fi
 
 #if test -z "${LD_SHLIB}"; then
 #  AC_MSG_ERROR([Can't determine compilation flags.]);
@@ -8947,8 +8933,8 @@
 
 if test -z "${OPENSSL_LIB}"; then
   foo=bar
-elif test -r "${OPENSSL_LIB}/libcrypt.so"; then
-  SSL_LIBS="${SSL_LIBS} -lcrypt"
+elif test -r "${OPENSSL_LIB}/libcrypto.so"; then
+  SSL_LIBS="${SSL_LIBS} -lcrypto"
 elif test -r "${OPENSSL_LIB}/libcrypt.dylib"; then
   SSL_LIBS="${SSL_LIBS} -lcrypt"
 elif test -r "${OPENSSL_LIB}/libcrypt.a"; then
@@ -8983,7 +8969,7 @@
   foo=bar
 elif test -z "${OPENSSL_LIB}"; then
   foo=bar
-elif test ! -r "${OPENSSL_LIB}/libcrypt.so" -a \
+elif test ! -r "${OPENSSL_LIB}/libcrypto.so" -a \
           ! -r "${OPENSSL_LIB}/libcrypt.dylib" -a \
           ! -r "${OPENSSL_LIB}/libcrypt.a" ; then
   { { echo "$as_me:$LINENO: error: Can't find valid OpenSSL library in ${OPENSSL_LIB}" >&5
