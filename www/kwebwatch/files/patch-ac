--- kwebwatch/mainwidget.cpp.orig	Sat Jun 17 02:52:31 2000
+++ kwebwatch/mainwidget.cpp	Sat Jun 17 02:52:41 2000
@@ -24,6 +24,14 @@
 
 #define DB_DBM_HSEARCH 1
 
+#if defined(HAVE_CONFIG_H)
+#include <../config.h>
+#endif
+
+#if defined(HAVE_NDBM_H)
+#include <ndbm.h>
+#endif
+
 #include "mainwidget.h"
 #include <qdatetm.h>
 #include <qpainter.h>
@@ -662,7 +670,7 @@
 
 void MainWidget::UpdateListBox( UrlItem* pItem, bool checked_this_session )
 { 
-    QColor color;
+    QColor color,nullcolor;
     int 		 position;
     QString item_text = pItem->GetAlias();
     int result;
@@ -695,7 +703,7 @@
     switch( result )
     {  
     case NOT_YET_CHECKED:
-	color = NULL;
+	color = nullcolor;
 	break;
     case UPDATE_FOUND:	/* FALLTHRU */
     case CHECK_NOT_NEEDED:
@@ -704,10 +712,10 @@
 	pPix = new QPixmap( g_pics_dir+ "/kww_new.xpm" );
 	break;
     case UPDATE_READ:
-	color = NULL;
+	color = nullcolor;
 	break;
     case NO_CHANGE:
-	color = NULL;
+	color = nullcolor;
 	break;
     case CONNECT_FAILED:
 	color = CONNECT_FAILED_COLOR;
