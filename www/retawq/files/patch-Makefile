--- Makefile.orig	Wed Aug 28 19:28:25 2002
+++ Makefile	Wed Nov 13 09:33:04 2002
@@ -16,24 +16,24 @@
 OPTION_CED = 1
 
 # i18n (internationalization)
-OPTION_I18N = 0
-PATH_INSTALL_LOCALE = \"/usr/local/share/locale\"
+OPTION_I18N = 1
+PATH_INSTALL_LOCALE = \"${PREFIX}/share/locale\"
 
 # path for "make install"; don't add a trailing "/"!
-PATH_INSTALL_BIN = /usr/local/bin
+PATH_INSTALL_BIN = ${PREFIX}/bin
 
 # put your favourite C compiler here; mine is "gcc"
-CC = gcc
+CC ?= gcc
 
 # compiler flags; "-O2" is the code-optimization level for gcc
 ifeq ($(CC), gcc)
-CFLAGS = -O2
+CFLAGS ?= -O2
 else
 CFLAGS =
 endif
 
 # libc library flags for multi-threading
-CFLAGS += -D_REENTRANT
+CFLAGS += -D_REENTRANT ${THREAD_CFLAGS} -I${LOCALBASE}/include
 
 
 # Part B. Don't change any of the following!
@@ -75,7 +75,7 @@
 
 # add GTK flags
 ifeq ($(OPTION_GRAPHICS), 1)
-CFLAGS += $(shell gtk-config --cflags)
+CFLAGS += $(shell ${GTKCONFIG} --cflags)
 endif
 
 # object files
@@ -89,20 +89,20 @@
 endif
 
 ifeq ($(CONFIG_THREADING), 2)
-PTHREAD_LIBS = -lpthread
+PTHREAD_LIBS = ${THREAD_LIBS}
 else
 PTHREAD_LIBS =
 endif
 
 ifeq ($(OPTION_GRAPHICS), 1)
-LCLC = $(shell gtk-config --libs)
+LCLC = $(shell ${GTKCONFIG} --libs)
 else
 ifeq ($(OPTION_NCURSES), 1)
 CLC = ncurses
 else
 CLC = curses
 endif
-LCLC = -l$(CLC)
+LCLC = -l$(CLC) -lintl -L${LOCALBASE}/lib
 endif
 
 ifeq ($(OPTION_GRAPHICS), 1)
