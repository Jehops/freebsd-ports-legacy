--- getarch.c~	2008-05-12 23:44:31.000000000 +0900
+++ getarch.c	2008-06-14 13:20:54.000000000 +0900
@@ -25,6 +25,7 @@
 #include <windows.h>
 #endif
 #if defined(__FreeBSD__) || defined(__APPLE__)
+#include <sys/types.h>
 #include <sys/sysctl.h>
 #endif
 
