--- configure.orig	Sat Jan 18 22:23:21 2003
+++ configure	Sat Mar 15 11:51:16 2003
@@ -6932,9 +6932,9 @@
   gmp)
     echo "$as_me:$LINENO: result: gmp" >&5
 echo "${ECHO_T}gmp" >&6
-    echo "$as_me:$LINENO: checking for __gmpz_init in -lgmp" >&5
-echo $ECHO_N "checking for __gmpz_init in -lgmp... $ECHO_C" >&6
-if test "${ac_cv_lib_gmp___gmpz_init+set}" = set; then
+    echo "$as_me:$LINENO: checking for mpz_init in -lgmp" >&5
+echo $ECHO_N "checking for mpz_init in -lgmp... $ECHO_C" >&6
+if test "${ac_cv_lib_gmp_mpz_init+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -6942,6 +6942,7 @@
 cat >conftest.$ac_ext <<_ACEOF
 #line $LINENO "configure"
 #include "confdefs.h"
+#include <gmp.h>
 
 /* Override any gcc2 internal prototype to avoid an error.  */
 #ifdef __cplusplus
@@ -6949,7 +6950,6 @@
 #endif
 /* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
-char __gmpz_init ();
 #ifdef F77_DUMMY_MAIN
 #  ifdef __cplusplus
      extern "C"
@@ -6959,7 +6959,8 @@
 int
 main ()
 {
-__gmpz_init ();
+mpz_t integ;
+mpz_init(integ)
   ;
   return 0;
 }
