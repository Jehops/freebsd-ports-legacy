--- bin/jflex.orig	Mon May  3 23:06:29 2004
+++ bin/jflex	Mon May  3 23:11:12 2004
@@ -1,51 +1,19 @@
-#! /bin/bash 
+#!/bin/sh 
 #
-#     JFlex start script $Revision: 2.0 $
+# Replacement for the script that came with JFlex
+# because bash is not necessarily on a FreeBSD
+# machine. Also, we know where the jar is.
 #
-# if Java is not in your binary path, you need to supply its
-# location in this script. The script automatically finds 
-# JFLEX_HOME when called directly, via binary path, or symbolic
-# link. 
-#
-# Site wide installation: simply make a symlink from e.g.
-# /usr/bin/jflex to this script at its original position
-#
-#===================================================================
-#
-# configurables:
-
-# path to the java interpreter
-JAVA=java
-
-# end configurables
-#
-#===================================================================
-#
-
-# calculate true location
-
-PRG=`type $0`
-PRG=${PRG##* }
-
-# If PRG is a symlink, trace it to the real home directory
-
-while [ -L "$PRG" ]
-do
-    newprg=$(ls -l ${PRG})
-    newprg=${newprg##*-> }
-    [ ${newprg} = ${newprg#/} ] && newprg=${PRG%/*}/${newprg}
-    PRG="$newprg"
-done
-
-PRG=${PRG%/*}
-JFLEX_HOME=${PRG}/.. 
-
-# --------------------------------------------------------------------
+# Conor McDermottroe <ports@mcdermottroe.com>
 
-export CLASSPATH
-CLASSPATH=$JFLEX_HOME/lib/JFlex.jar
+# Allow the user to override where JFlex.jar lives
+if [ -z "$JAVAJARDIR" ]; then
+	JAVAJARDIR=%%JAVAJARDIR%%
+fi
 
-$JAVA JFlex.Main $@
+# Allow the user to specify which java interpreter to use
+if [ -z "$JAVA" ]; then
+	JAVA="`which javavm`"
+fi
 
-#for more memory:
-#$JAVA -Xmx128m JFlex.Main $@
+$JAVA -jar $JAVAJARDIR/JFlex.jar $@
