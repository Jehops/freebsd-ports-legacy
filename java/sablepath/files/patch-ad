diff -ur sablepath-0.1.3.orig/native/java.io/javaio.c sablepath-0.1.3/native/java.io/javaio.c
--- sablepath-0.1.3.orig/native/java.io/javaio.c	Thu Jun 15 14:54:13 2000
+++ sablepath-0.1.3/native/java.io/javaio.c	Tue Jul  9 12:44:11 2002
@@ -37,7 +37,9 @@
 
 #include "javaio.h"
 
+#ifdef HAVE_MALLOC_H
 #include <malloc.h>
+#endif
 
 static char errstr[4098]; // this way the memory is pre-allocated, so that we do not have to worry if we are out of memory.
 
