diff -ur sablepath-0.1.3.orig/native/java.lang/javalang.c sablepath-0.1.3/native/java.lang/javalang.c
--- sablepath-0.1.3.orig/native/java.lang/javalang.c	Tue Jun 13 23:45:09 2000
+++ sablepath-0.1.3/native/java.lang/javalang.c	Tue Jul  9 12:44:12 2002
@@ -35,7 +35,9 @@
 
 #include "javalang.h"
 
+#ifdef HAVE_MALLOC_H
 #include <malloc.h>
+#endif
 
 static char errstr[4098]; // this way the memory is pre-allocated, so that we do not have to worry if we are out of memory.
 
