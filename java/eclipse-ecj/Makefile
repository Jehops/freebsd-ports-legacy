# New ports collection:		eclipse-ecj
# Date created:			17 March 2012
# Whom:				Jason Helfman
#
# $FreeBSD$

PORTNAME=	ecj
PORTVERSION=	3.8
CATEGORIES=	java devel
MASTER_SITES=	ECLIPSE
MASTER_SITE_SUBDIR=	R-${PORTVERSION}-${DROPDATE}
PKGNAMEPREFIX=	eclipse-
DISTNAME=	ecjsrc-${PORTVERSION}
EXTRACT_SUFX=	.jar

MAINTAINER=	jgh@FreeBSD.org
COMMENT=	Eclipse Java Compiler

LICENSE=	EPL

EXTRACT_CMD=	${TAR}
EXTRACT_BEFORE_ARGS=	xf
EXTRACT_AFTER_ARGS=	-C ${WRKDIR}

USE_ANT=	yes
USE_JAVA=	yes
JAVA_VERSION=	1.6+
SUB_FILES=	ecj.sh
SUB_LIST=	PORTVERSION=${PORTVERSION}
NO_WRKSUBDIR=	yes

DROPDATE=	201206081200
PLIST_FILES=	bin/${PORTNAME}.sh \
		%%JAVAJARDIR%%/${PORTNAME}-${PORTVERSION}.jar

do-install:
	${INSTALL_DATA} ${WRKDIR}/${PORTNAME}.jar ${JAVAJARDIR}/${PORTNAME}-${PORTVERSION}.jar
	${INSTALL_SCRIPT} ${WRKDIR}/ecj.sh ${PREFIX}/bin

.include <bsd.port.mk>
