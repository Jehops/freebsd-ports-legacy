--- features/org.eclipse.jdt/build.xml.orig	Fri Sep 21 18:25:30 2007
+++ features/org.eclipse.jdt/build.xml	Sun Oct 21 17:11:44 2007
@@ -1,5 +1,8 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project name="org.eclipse.jdt" default="build.update.jar" basedir=".">
+	<condition property="jdk16">
+		<isset property="JavaSE-1.6"/>
+	</condition>
 
 	<target name="init">
 		<property name="feature.temp.folder" value="${basedir}/feature.temp.folder"/>
@@ -32,26 +35,13 @@
 			<property name="os" value="win32"/>
 			<property name="ws" value="win32"/>
 		</ant>
-		<ant antfile="build.xml" dir="../../plugins/org.eclipse.jdt.compiler.tool" target="${target}">
-			<property name="arch" value="x86"/>
-			<property name="os" value="win32"/>
-			<property name="ws" value="win32"/>
-		</ant>
-		<ant antfile="build.xml" dir="../../plugins/org.eclipse.jdt.compiler.apt" target="${target}">
-			<property name="arch" value="x86"/>
-			<property name="os" value="win32"/>
-			<property name="ws" value="win32"/>
-		</ant>
+
 		<ant antfile="build.xml" dir="../../plugins/org.eclipse.jdt.apt.core" target="${target}">
 			<property name="arch" value="x86"/>
 			<property name="os" value="win32"/>
 			<property name="ws" value="win32"/>
 		</ant>
-		<ant antfile="build.xml" dir="../../plugins/org.eclipse.jdt.apt.pluggable.core" target="${target}">
-			<property name="arch" value="x86"/>
-			<property name="os" value="win32"/>
-			<property name="ws" value="win32"/>
-		</ant>
+
 		<ant antfile="build.xml" dir="../../plugins/org.eclipse.jdt.debug" target="${target}">
 			<property name="arch" value="x86"/>
 			<property name="os" value="win32"/>
@@ -102,7 +92,30 @@
 			<property name="os" value="win32"/>
 			<property name="ws" value="win32"/>
 		</ant>
+
+		<antcall target="all.plugins.jdk16" inheritAll="true"/>
 	</target>
+	<target name="all.plugins.jdk16" if="jdk16">
+		<!-- 1.6 -->
+		<ant antfile="build.xml" dir="../../plugins/org.eclipse.jdt.apt.pluggable.core" target="${target}">
+			<property name="arch" value="x86" />
+			<property name="os" value="win32" />
+			<property name="ws" value="win32" />
+		</ant>
+		<!-- 1.6 -->
+		<ant antfile="build.xml" dir="../../plugins/org.eclipse.jdt.compiler.tool" target="${target}">
+			<property name="arch" value="x86" />
+			<property name="os" value="win32" />
+			<property name="ws" value="win32" />
+		</ant>
+		<!-- 1.6 -->
+		<ant antfile="build.xml" dir="../../plugins/org.eclipse.jdt.compiler.apt" target="${target}">
+			<property name="arch" value="x86" />
+			<property name="os" value="win32" />
+			<property name="ws" value="win32" />
+		</ant>
+	</target>
+
 	<target name="all.features" depends="init">
 	</target>
 	<target name="update.feature" depends="init">
@@ -257,6 +270,18 @@
 			</fileset>
 		</copy>
 	</target>
+	<target name="rootFilesfreebsd_gtk_x86">
+		<mkdir dir="${feature.base}/freebsd.gtk.x86/${collectingFolder}"/>
+		<copy todir="${feature.base}/freebsd.gtk.x86/${collectingFolder}" failonerror="true" overwrite="true">
+			<fileset dir="${basedir}/rootfiles" includes="**"                       />
+		</copy>
+	</target>
+	<target name="rootFilesfreebsd_gtk_amd64">
+		<mkdir dir="${feature.base}/freebsd.gtk.amd64/${collectingFolder}"/>
+		<copy todir="${feature.base}/freebsd.gtk.amd64/${collectingFolder}" failonerror="true" overwrite="true">
+			<fileset dir="${basedir}/rootfiles" includes="**"                       />
+		</copy>
+	</target>
 	<target name="rootFilessolaris_gtk_sparc">
 		<mkdir dir="${feature.base}/solaris.gtk.sparc/${collectingFolder}/"/>
 		<copy todir="${feature.base}/solaris.gtk.sparc/${collectingFolder}/" failonerror="true" overwrite="true">
@@ -333,6 +358,8 @@
 		<antcall target="rootFileslinux_gtk_s390"/>
 		<antcall target="rootFileslinux_gtk_s390x"/>
 		<antcall target="rootFileslinux_motif_x86"/>
+		<antcall target="rootFilesfreebsd_gtk_x86"/>
+		<antcall target="rootFilesfreebsd_gtk_amd64"/>
 		<antcall target="rootFilessolaris_gtk_sparc"/>
 		<antcall target="rootFilessolaris_gtk_x86"/>
 		<antcall target="rootFilessolaris_motif_sparc"/>
