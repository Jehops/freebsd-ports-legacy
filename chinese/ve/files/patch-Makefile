--- Makefile.orig	Wed Aug 25 14:27:23 1999
+++ Makefile	Thu Dec 18 01:29:56 2003
@@ -1,10 +1,11 @@
-CC = gcc
+CC ?= cc
 OBJ = edit.o term.o screen.o stuff.o io.o editor.o
 
 #----------------------------------------------------------
 # FreeBSD
 #----------------------------------------------------------
-CFLAGS = -DVEDITOR
+CFLAGS ?= -O -pipe
+CFLAGS += -DVEDITOR
 LIBS = -ltermcap -lcompat
 
 #----------------------------------------------------------
@@ -26,12 +27,12 @@
 	rm -f *.o ve entab
 
 install: all
-	mkdir -p /usr/local/share/ve
-	cp ve /usr/local/bin
-	cp 00readme.txt ve.hlp /usr/local/share/ve
+	mkdir -p $(PREFIX)/share/ve
+	$(BSD_INSTALL_PROGRAM) ve $(PREFIX)/bin
+	$(BSD_INSTALL_DATA) 00readme.txt ve.hlp $(PREFIX)/share/ve
 
 ve: $(OBJ)
-	gcc $(CFLAGS) -o ve $(OBJ) $(LIBS)
+	$(CC) $(CFLAGS) -o ve $(OBJ) $(LIBS)
 
 entab: entab.o
-	gcc -o entab entab.o
+	$(CC) -o entab entab.o
