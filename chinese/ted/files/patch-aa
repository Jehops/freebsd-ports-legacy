--- Makefile.orig	Wed Feb  9 10:18:57 2000
+++ Makefile	Sun Apr  2 11:59:26 2000
@@ -1,5 +1,5 @@
-CHINESE=0
-TEDDIR=/usr/local/lib/Ted
+CHINESE=1
+TEDDIR=/usr/X11R6/lib/X11/ted
 ########## GCC/Linux ......  ############
 CC=gcc
 XINC=-I/usr/X11R6/include
@@ -28,7 +28,7 @@
 #LDFLAGS=
 ###########################
 ########## Solaris and SunOS 4.x ############
-CC=cc
+#CC=cc
 #XINC=-I/usr/openwin/include
 #LDFLAGS= -L/usr/openwin/lib -lsocket
 #CC=cc
@@ -37,14 +37,14 @@
 #SUNKBD=-DSUNKBD
 ###########################
 
-CFLAGS = -O -DCHINESE=$(CHINESE) $(XINC) $(SUNKBD) -DTEDDIR=\"$(TEDDIR)\"
+CFLAGS += -DCHINESE=$(CHINESE) $(XINC) $(SUNKBD) -DTEDDIR=\"$(TEDDIR)\"
 #CFLAGS = -g -DCHINESE=$(CHINESE) $(XINC) -DDEBUG $(SUNKBD) -DTEDDIR=\"$(TEDDIR)\"
 #CFLAGS = -g -DCHINESE=$(CHINESE) $(XINC) $(SUNKBD) -DTEDDIR=\"$(TEDDIR)\"
 
 OBJS =	e.o x.o m.o f.o b.o edln.o xcp.o s.o u.o misc.o twin.o dir.o xkey.o \
-	cwin.o filebrowse.o kwcomp.o
+	cwin.o filebrowse.o kwcomp.o cli_xcin.o
 
-all:	ted ref ctags tedrc
+all:	ted tedrc #ref ctags
 ted:	$(OBJS)
 	$(CC) $(OBJS) -o $@ $(LDFLAGS) -lX11
 pur:	$(OBJS)
@@ -63,11 +63,17 @@
 	$(CC) $(CFLAGS) ctags.c -o $@
 	strip $@
 install:
-	cp ted ref ctags /usr/local/bin
+#	cp ted ref ctags /usr/local/bin
+	install -c -s -o root -g wheel -m 0555 ted /usr/X11R6/bin
 	if [ ! -d $(TEDDIR) ]; then mkdir $(TEDDIR); fi
-	cp tedrc tedrc.vi tedrc.grep ted.help tedrc.filevisit $(TEDDIR)
-cli_xcin.o:
-	ln -s ../big5-pack/xcin/cli_xcin.o .
+#	cp tedrc tedrc.vi tedrc.grep ted.help tedrc.filevisit $(TEDDIR)
+#cli_xcin.o:
+#	ln -s ../big5-pack/xcin/cli_xcin.o .
+	install -c -o root -g wheel -m 0444 tedrc $(TEDDIR)
+	install -c -o root -g wheel -m 0444 tedrc.filevisit $(TEDDIR)
+	install -c -o root -g wheel -m 0444 tedrc.grep $(TEDDIR)
+	install -c -o root -g wheel -m 0444 tedrc.vi $(TEDDIR)
+	install -c -o root -g wheel -m 0444 ted.help $(TEDDIR)
 clean:
 	rm -f $(OBJS) ted core *~ *_
 clb5:
