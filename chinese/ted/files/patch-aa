--- Makefile.orig	Thu Aug 12 09:53:41 1999
+++ Makefile	Sat Oct  9 23:45:22 1999
@@ -1,15 +1,15 @@
-CHINESE=0
-TEDDIR=/usr/local/lib/Ted
+CHINESE=1
+TEDDIR=/usr/X11R6/lib/X11/ted
 ########## GCC/Linux ......  ############
-#CC=gcc
-#XINC=-I/usr/X11R6/include
-#LDFLAGS=-L/usr/X11R6/lib
+CC=gcc
+XINC=-I/usr/X11R6/include
+LDFLAGS=-L/usr/X11R6/lib
 ###########################
 ###### HP-UX's ansi cc ####
-CC=cc -Ae
-LDFLAGS=-L/usr/lib/X11R5
+#CC=cc -Ae
+#LDFLAGS=-L/usr/lib/X11R5
 #LDFLAGS=-L/usr/lib/X11R6
-XINC=
+#XINC=
 ###########################
 ########## IRIX ############
 #CC=cc -cckr
@@ -31,20 +31,20 @@
 #CC=cc
 #XINC=-I/usr/openwin/include
 #LDFLAGS= -L/usr/openwin/lib -lsocket
-CC=cc
-XINC=-I/usr/X11R6.3/include
-LDFLAGS= -L/usr/X11R6.3/lib -lsocket
-SUNKBD=-DSUNKBD
+#CC=cc
+#XINC=-I/usr/X11R6.3/include
+#LDFLAGS= -L/usr/X11R6.3/lib -lsocket
+#SUNKBD=-DSUNKBD
 ###########################
 
-CFLAGS = -O -DCHINESE=$(CHINESE) $(XINC) $(SUNKBD) -DTEDDIR=\"$(TEDDIR)\"
+CFLAGS = -DCHINESE=$(CHINESE) $(XINC) $(SUNKBD) -DTEDDIR=\"$(TEDDIR)\"
 #CFLAGS = -g -DCHINESE=$(CHINESE) $(XINC) -DDEBUG $(SUNKBD) -DTEDDIR=\"$(TEDDIR)\"
 #CFLAGS = -g -DCHINESE=$(CHINESE) $(XINC) $(SUNKBD) -DTEDDIR=\"$(TEDDIR)\"
 
 OBJS =	e.o x.o m.o f.o b.o edln.o xcp.o s.o u.o misc.o twin.o dir.o xkey.o \
-	cwin.o filebrowse.o kwcomp.o
+	cwin.o filebrowse.o kwcomp.o cli_xcin.o
 
-all:	ted ref ctags tedrc
+all:	ted tedrc #ref ctags
 ted:	$(OBJS)
 	$(CC) $(OBJS) -o $@ $(LDFLAGS) -lX11
 #	$(CC) $(OBJS) -o $@ $(LDFLAGS) -lXmu -lX11 -lefence
@@ -59,11 +59,18 @@
 	$(CC) $(CFLAGS) ctags.c -o $@
 	strip $@
 install:
-	cp ted ref ctags /usr/local/bin
+#	cp ted ref ctags /usr/local/bin
+	install -c -s -o root -g wheel -m 0555 ted /usr/X11R6/bin
 	if [ ! -d $(TEDDIR) ]; then mkdir $(TEDDIR); fi
-	cp tedrc tedrc.vi tedrc.grep ted.help tedrc.filevisit $(TEDDIR)
-cli_xcin.o:
-	ln -s ../big5-pack/xcin/cli_xcin.o .
+#	cp tedrc tedrc.vi tedrc.grep ted.help tedrc.filevisit $(TEDDIR)
+#cli_xcin.o:
+#	ln -s ../big5-pack/xcin/cli_xcin.o .
+	install -c -o root -g wheel -m 0444 tedrc $(TEDDIR)
+	install -c -o root -g wheel -m 0444 tedrc.filevisit $(TEDDIR)
+	install -c -o root -g wheel -m 0444 tedrc.grep $(TEDDIR)
+	install -c -o root -g wheel -m 0444 tedrc.vi $(TEDDIR)
+	install -c -o root -g wheel -m 0444 ted.help $(TEDDIR)
+
 clean:
 	rm -f $(OBJS) ted core *~ *_
 clb5:
