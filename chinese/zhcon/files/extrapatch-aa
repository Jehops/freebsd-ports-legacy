--- src/cin2mb.c.orig	Tue Sep 11 02:27:51 2001
+++ src/cin2mb.c	Tue Sep 11 09:14:54 2001
@@ -229,7 +229,10 @@
 	buf[0] = buf[1] = buf[2] = buf[3] = '\0';
 	if(fwrite(buf, sizeof(char), 4, fout)!=4) {
 		printf("Fatal write 0000 failed.\n");
+		goto error_close_fout;
 	}
+
+	return(0);
 
 error_close_fout:
 	if(fout!=NULL)	fclose(fout);
