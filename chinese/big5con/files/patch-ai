--- src/child.c.orig	Fri Jun 22 23:14:24 2001
+++ src/child.c	Sat Jun 23 00:48:55 2001
@@ -106,7 +106,7 @@
 #if defined(linux)
 	       *(ttyname(fileno(errfp))+8));
 #elif defined(__FreeBSD__)
-	       *(ttyname(fileno(errfp))+9));
+	       ttyname(fileno(errfp)) ? *(ttyname(fileno(errfp))+9) : '?');
 #endif
 	fflush(stdout);
 
