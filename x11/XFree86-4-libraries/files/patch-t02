diff -u lib/X11.orig/omGeneric.c lib/X11/omGeneric.c
--- lib/X11.orig/omGeneric.c	Tue Feb 29 12:09:04 2000
+++ lib/X11/omGeneric.c	Tue Oct 31 17:01:34 2000
@@ -1129,6 +1129,7 @@
 		if(font_set->vrotate == (VRotate)NULL)
 		    return (-1);
 
+		memset(vrotate, 0x00, sizeof(VRotateRec) * sub_num);
 		for(i = 0 ; i < sub_num ; i++) {
 		    vrotate[i].charset_name = font_set->substitute[i].name;
 		    vrotate[i].side = font_set->substitute[i].side;
diff -u lib/X11.orig/omText.c lib/X11/omText.c
--- lib/X11.orig/omText.c	Sun May  9 19:50:42 1999
+++ lib/X11/omText.c	Tue Oct 31 17:01:43 2000
@@ -196,12 +196,9 @@
 	* *always* contain good data.   We should probably remove
 	* the check for "fd->font", but we won't :-) -- jjw/pma (HP)
 	*/
-        if(fd == (FontData) NULL ||
-	   (font = fs->font) == (XFontStruct *) NULL){
-
-	    if((font = fd->font) == (XFontStruct *) NULL)
-		break;
-        }
+	if ((font = fs->font) == (XFontStruct *) NULL)
+	  if (fd != (FontData) NULL) font = fd->font;
+	if (font == (XFontStruct *) NULL) break;
 
 	switch(oc->core.orientation) {
 	  case XOMOrientation_LTR_TTB:
diff -u lib/X11.orig/omTextEsc.c lib/X11/omTextEsc.c
--- lib/X11.orig/omTextEsc.c	Sun May  9 19:50:42 1999
+++ lib/X11/omTextEsc.c	Tue Oct 31 17:01:49 2000
@@ -151,12 +151,9 @@
 					       is_xchar2b, FONTSCOPE);
 	if(ptr_len <= 0)
 	    break;
-	if(fd == (FontData) NULL ||
-	   (font = fd->font) == (XFontStruct *) NULL) {
-
-	    if((font = font_set->font) == (XFontStruct *) NULL)
-		break;
-	}
+	if ((font = font_set->font) == (XFontStruct *) NULL)
+	  if (fd != (FontData) NULL) font = fd->font;
+	if (font == (XFontStruct *) NULL) break;
 
 	switch(oc->core.orientation) {
 	  case XOMOrientation_LTR_TTB:

