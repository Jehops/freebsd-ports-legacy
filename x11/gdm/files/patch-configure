--- configure.orig	Wed Mar 29 13:51:40 2006
+++ configure	Wed Mar 29 14:15:56 2006
@@ -22965,6 +22965,8 @@ _ACEOF
 cat confdefs.h >>conftest.$ac_ext
 cat >>conftest.$ac_ext <<_ACEOF
 /* end confdefs.h.  */
+#include <sys/types.h>
+#include <sys/socket.h>
 $ac_includes_default
 #include <$ac_header>
 _ACEOF
@@ -32415,6 +32417,13 @@ case "$host" in
         XSESSION_SHELL=/bin/ksh
         SOUND_PROGRAM=/usr/bin/audioplay
         ;;
+*freebsd*)
+	GDM_USER_PATH="/bin:/usr/bin"
+	HALT_COMMAND="/sbin/shutdown -p now;/usr/sbin/shutdown -p now"
+	REBOOT_COMMAND="/sbin/shutdown -r now;/usr/sbin/shutdown -r now"
+	SUSPEND_COMMAND="/usr/sbin/zzz"
+	XSESSION_SHELL=/bin/sh
+	;;
 *)
         GDM_USER_PATH="/bin:/usr/bin"
         HALT_COMMAND="/usr/bin/poweroff;/sbin/poweroff;/sbin/shutdown -h now;/usr/sbin/shutdown -h now"
