# New ports collection makefile for:	eterm
# Date created:        24 November 1997
# Whom:                Murray Stokely <murray@freebsd.org>
#
# $FreeBSD$
#

PORTNAME=	eterm
PORTVERSION= 	0.8.10
CATEGORIES=	x11
MASTER_SITES=           ${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=     eterm
DISTNAME=	Eterm-${PORTVERSION}

MAINTAINER=	murray@FreeBSD.org

BUILD_DEPENDS=	man2html:${PORTSDIR}/textproc/man2html

USE_GMAKE=	yes
USE_X_PREFIX=	yes
USE_IMLIB=	yes
USE_LIBTOOL=	yes
INSTALLS_SHLIB=	yes
CONFIGURE_ENV=	LDFLAGS="-L${LOCALBASE}/lib"

MAN1=		Eterm.1

.if ( defined(KANJI) )
EXTRA_PATCHES=	${PATCHDIR}/extra-patch-kanji
.endif

# this is needed to remove leftover files from applied patches.
pre-install:
.for i in Eterm emacs irc mutt tn3270 trans
	@${RM} -f ${WRKSRC}/themes/$i/*.orig
.endfor

post-install:
	@${CHMOD} 4711 ${PREFIX}/bin/Eterm
.ifndef NOPORTDOCS
	@${MKDIR} ${PREFIX}/share/doc/Eterm
	@${INSTALL_DATA} ${WRKSRC}/ReleaseNotes ${PREFIX}/share/doc/Eterm
	@${INSTALL_DATA} ${WRKSRC}/doc/Eterm.tcap ${PREFIX}/share/doc/Eterm
	@${INSTALL_DATA} ${WRKSRC}/doc/Eterm.ti ${PREFIX}/share/doc/Eterm
	@${INSTALL_DATA} ${WRKSRC}/doc/Eterm.1.html ${PREFIX}/share/doc/Eterm
.endif

.include <bsd.port.mk>
