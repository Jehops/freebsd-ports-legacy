--- programs/Xserver/xkb/ddxLoad.c~	1999/12/05 01:22:09
+++ programs/Xserver/xkb/ddxLoad.c	2000/05/24 15:08:12
@@ -237,6 +237,13 @@
 	sprintf(keymap,"server-%s",display);
     }
     else {
+	if (strlen(names->keymap) > PATH_MAX - 1) {
+#ifdef DEBUG
+            ErrorF("name of keymap (%s) exceeds max length\n",
+							names->keymap);
+#endif
+	    return False;
+	}
 	strcpy(keymap,names->keymap);
     }
