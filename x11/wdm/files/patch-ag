--- configure.in.orig	Tue Sep 21 23:16:21 1999
+++ configure.in	Mon Nov  1 05:26:32 1999
@@ -66,6 +66,10 @@
     AC_MSG_CHECKING(for pam directory $PAM_DIR_PATH)
     if test -d "$PAM_DIR_PATH"; then
 	AC_MSG_RESULT(exists)
+    elif test -f "/etc/pam.conf"; then
+	AC_MSG_RESULT(using /etc/pam.conf)
+	PAMDIR=none
+	PAM_DIR_PATH=none
     else
 	AC_MSG_RESULT(does not exist)
 	AC_MSG_WARN([this may not be a pam system <<--------------])
@@ -183,7 +183,7 @@
 
 XLFLAGS="$X_LIBS"
 
-XLIBS="$X_EXTRA_LIBS -lXext -lXt -lX11 -lm"
+XLIBS="$X_PRE_LIBS $X_EXTRA_LIBS -lXext -lXt -lX11 -lm"
 
 XDM_EXTRA_LIBS="-lXmu -lXau -lXdmcp"
 
@@ -504,7 +504,7 @@
 AC_DEFINE_UNQUOTED(WDMDIR,"$DMDIR")
 AC_DEFINE_UNQUOTED(DEF_XDM_CONFIG,"$DMDIR/wdm-config")
 AC_DEFINE_UNQUOTED(DEF_CHOOSER,"$DMDIR/chooser")
-AC_DEFINE_UNQUOTED(DEF_AUTH_DIR,"$DMDIR/authdir")
+AC_DEFINE_UNQUOTED(DEF_AUTH_DIR,"$DMDIR")
 
 AC_SUBST(DMDIR)
 
