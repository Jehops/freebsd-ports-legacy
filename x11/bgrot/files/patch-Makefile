--- Makefile.orig	2000-06-21 18:50:30.000000000 +0800
+++ Makefile	2014-01-09 21:37:58.000000000 +0800
@@ -4,12 +4,13 @@
 # Written by Matthew Fuller <fullermd@over-yonder.net>
 
 # OK, first: config stuff
+PREFIX ?= /usr/local
 
 # BINDIR: Where the programs are
-BINDIR = /usr/local/bin
+BINDIR = ${PREFIX}/bin
 
 # CONFDIR: Where the system-wide config goes
-CONFDIR = /usr/local/etc
+CONFDIR = ${PREFIX}/etc
 
 # DIRMODE: Permission bits for directories
 # FILEMODE: Permission bits for files
@@ -22,7 +23,7 @@ BINOWN = bin
 BINGRP = bin
 
 # MANDIR: Where is your manpage base?
-MANDIR = /usr/local/man
+MANDIR = ${PREFIX}/man
 
 # OK, that's about it for user stuff
 # Touch the rest of this file at your own risk
@@ -48,15 +49,15 @@ help: info
 install:
 	@echo Installing...
 .if !exists(${BINDIR})
-	-mkdir -m ${DIRMODE} ${BINDIR}
+	-mkdir -m ${DIRMODE} $(DESTDIR)${BINDIR}
 .endif
 	@echo Installing files...
-	-install -o ${BINOWN} -g ${BINGRP} -m ${FILEMODE} -c ${INSTALLFILES} ${BINDIR}
-	-install -o ${BINOWN} -g ${BINGRP} -m ${FILEMODE} -c bgrot.conf ${CONFDIR}
+	-install -o ${BINOWN} -g ${BINGRP} -m ${FILEMODE} -c ${INSTALLFILES} $(DESTDIR)${BINDIR}
+	-install -o ${BINOWN} -g ${BINGRP} -m ${FILEMODE} -c bgrot.conf.skel $(DESTDIR)${CONFDIR}
 	@echo Compressing manpage...
 	@gzip -c bgrot.1 > bgrot.1.gz
 	@echo Installing manpage...
-	-install -o ${BINOWN} -g ${BINGRP} -m ${FILEMODE} -c bgrot.1.gz ${MANDIR}/man1
+	-install -o ${BINOWN} -g ${BINGRP} -m ${FILEMODE} -c bgrot.1.gz $(DESTDIR)${MANDIR}/man1
 	@echo Installation completed
 	@echo Read the file README for usage information
 
@@ -88,7 +89,7 @@ uninstall:
 		rm -f ${BINDIR}/$${entry}; \
 	done
 	@echo Uninstalling configuration...
-	@rm -f ${CONFDIR}/bgrot.conf
+	@rm -f ${CONFDIR}/bgrot.conf.skel
 	@echo Uninstalling manpage...
 	@rm -f ${MANDIR}/man1/bgrot.1.gz
 	@echo Done.
