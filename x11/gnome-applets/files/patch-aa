--- configure.orig	Sat May  6 14:08:13 2006
+++ configure	Sat May  6 14:13:34 2006
@@ -23361,8 +23361,7 @@ _ACEOF
 
   test "x$prefix" = xNONE && prefix="$ac_default_prefix"
   test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
-  ac_define_dir=`eval echo $"${prefix}/share/locale"`
-  ac_define_dir=`eval echo $ac_define_dir`
+  ac_define_dir=`eval echo "${prefix}/share/locale"`
   GNOMELOCALEDIR="$ac_define_dir"
 
 
@@ -25392,8 +25391,8 @@ fi
 
 	   ;;
        # list of supported OS cores that do not use libapm
-       i386-*-freebsd*|*-*-netbsd*|*-*-openbsd*|*-*kfreebsd*-gnu)
-          if  -n "${OS_SYS}" ; then
+       i386-*-freebsd*|amd64-*-freebsd*|*-*-netbsd*|*-*-openbsd*|*-*kfreebsd*-gnu)
+          if test -n "${OS_SYS}" ; then
 	       ACPIINC="-I${OS_SYS}"
 	   else
 	       ACPIINC="-I/usr/src/sys"
@@ -26469,7 +26468,7 @@ else
 fi
 
 
-if test "x$SU_TOOL" == "x" -o "x$HAVE_LIBUTIL" != "xtrue" -o "x$P_MODEMLIGHTS" != "xmodemlights"; then
+if test "x$SU_TOOL" = "x" -o "x$HAVE_LIBUTIL" != "xtrue" -o "x$P_MODEMLIGHTS" != "xmodemlights"; then
   { echo "$as_me:$LINENO: WARNING: *** modemlights applet will not be built ***" >&5
 echo "$as_me: WARNING: *** modemlights applet will not be built ***" >&2;}
 else
@@ -26633,6 +26632,9 @@ if test x$disable_cpufreq = xno; then
       *linux*)
          build_cpufreq_applet=yes
 	 ;;
+      i386-*-freebsd*|amd64-*-freebsd*)
+         build_cpufreq_applet=yes
+	 ;;
       *)
          { echo "$as_me:$LINENO: WARNING: ${host} is not supported by cpufreq applet, not building" >&5
 echo "$as_me: WARNING: ${host} is not supported by cpufreq applet, not building" >&2;}
@@ -27109,7 +27111,7 @@ fi
 ACLOCAL_AMFLAGS="\${ACLOCAL_FLAGS}"
 
 
-iconsdir="${datadir}/icons"
+iconsdir="${prefix}/share/icons"
 
 pixmapsdir="${datadir}/pixmaps"
 
@@ -27123,8 +27125,7 @@ gladedir="${pkgdatadir}/glade"
 
   test "x$prefix" = xNONE && prefix="$ac_default_prefix"
   test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
-  ac_define_dir=`eval echo $"${iconsdir}"`
-  ac_define_dir=`eval echo $ac_define_dir`
+  ac_define_dir=`eval echo "${iconsdir}"`
   GNOME_ICONDIR="$ac_define_dir"
 
 
@@ -27136,8 +27137,7 @@ _ACEOF
 
   test "x$prefix" = xNONE && prefix="$ac_default_prefix"
   test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
-  ac_define_dir=`eval echo $"${pixmapsdir}"`
-  ac_define_dir=`eval echo $ac_define_dir`
+  ac_define_dir=`eval echo "${pixmapsdir}"`
   GNOME_PIXMAPSDIR="$ac_define_dir"
 
 
@@ -27149,8 +27149,7 @@ _ACEOF
 
   test "x$prefix" = xNONE && prefix="$ac_default_prefix"
   test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
-  ac_define_dir=`eval echo $"${gladedir}"`
-  ac_define_dir=`eval echo $ac_define_dir`
+  ac_define_dir=`eval echo "${gladedir}"`
   GNOME_GLADEDIR="$ac_define_dir"
 
 
@@ -27162,8 +27161,7 @@ _ACEOF
 
   test "x$prefix" = xNONE && prefix="$ac_default_prefix"
   test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
-  ac_define_dir=`eval echo $"${datadir}"`
-  ac_define_dir=`eval echo $ac_define_dir`
+  ac_define_dir=`eval echo "${datadir}"`
   DATADIR="$ac_define_dir"
 
 
@@ -27175,8 +27173,7 @@ _ACEOF
 
   test "x$prefix" = xNONE && prefix="$ac_default_prefix"
   test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
-  ac_define_dir=`eval echo $"${sysconfdir}"`
-  ac_define_dir=`eval echo $ac_define_dir`
+  ac_define_dir=`eval echo "${sysconfdir}"`
   SYSCONFDIR="$ac_define_dir"
 
 
@@ -27188,8 +27185,7 @@ _ACEOF
 
   test "x$prefix" = xNONE && prefix="$ac_default_prefix"
   test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
-  ac_define_dir=`eval echo $"${libdir}"`
-  ac_define_dir=`eval echo $ac_define_dir`
+  ac_define_dir=`eval echo "${libdir}"`
   LIBDIR="$ac_define_dir"
 
 
@@ -27201,8 +27197,7 @@ _ACEOF
 
   test "x$prefix" = xNONE && prefix="$ac_default_prefix"
   test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
-  ac_define_dir=`eval echo $"$prefix"`
-  ac_define_dir=`eval echo $ac_define_dir`
+  ac_define_dir=`eval echo "$prefix"`
   PREFIX="$ac_define_dir"
 
 
