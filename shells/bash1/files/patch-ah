--- machines.h.orig	Mon Dec 18 20:13:22 1995
+++ machines.h	Fri Dec 12 11:02:59 2003
@@ -63,7 +63,7 @@
    some machines, our malloc () cannot be used (because of library
    conflicts, for example), and for those, you should specifically
    #undef USE_GNU_MALLOC in the machine description. */
-#define USE_GNU_MALLOC
+#undef USE_GNU_MALLOC
 
 /* This causes the Gnu malloc library (from glibc) to be used. */
 /* #define USE_GNU_MALLOC_LIBRARY */
@@ -846,11 +847,6 @@
 #    define done386
 #    define M_MACHINE "i386"
 #    define M_OS "FreeBSD"
-#    if __FreeBSD__ > 1
-#      define SYSDEP_CFLAGS -D__BSD_4_4__ -DRLIMTYPE=quad_t
-#    else
-#      define SYSDEP_CFLAGS -DOPENDIR_NOT_ROBUST -DINT_GROUPS_ARRAY
-#    endif
 #    define HAVE_SYS_SIGLIST
 #    define HAVE_SETLINEBUF
 #    define HAVE_GETGROUPS
@@ -2390,3 +2386,30 @@
 #  endif /* LD_HAS_NO_DASH_L */
 
 #endif  /* UNKNOWN_MACHINE */
+
+/* FreeBSD overrides */
+#if defined (__sparc64__)
+#  define M_MACHINE "sun4u"
+#endif
+#if defined (__ia64__)
+#  define M_MACHINE "ia64"
+#endif
+#if defined (__amd64__)
+#  define M_MACHINE "amd64"
+#endif
+#define M_OS "FreeBSD"
+#if __FreeBSD__ > 1
+#  define SYSDEP_CFLAGS -D__BSD_4_4__ -DRLIMTYPE=quad_t
+#else
+#  define SYSDEP_CFLAGS -DOPENDIR_NOT_ROBUST -DINT_GROUPS_ARRAY
+#endif
+#define SYSDEP_LDFLAGS -static
+#define HAVE_SYS_SIGLIST
+#define HAVE_SETLINEBUF
+#define HAVE_GETGROUPS
+#define HAVE_VFPRINTF
+#define HAVE_STRERROR
+#define VOID_SIGHANDLER
+#define HAVE_DIRENT
+#define HAVE_STRCASECMP
+#define GCC_STANDARD
