*** glob.c.orig	Sun May 14 00:49:21 1995
--- glob.c	Tue Aug 13 01:42:43 1996
***************
*** 646,652 ****
  		++pat;
  	    while (((c = *pat++) & M_MASK) != M_END) {
  		if ((*pat & M_MASK) == M_RNG) {
! 		    if (c <= k && k <= pat[1])
  			ok = 1;
  		    pat += 2;
  		}
--- 646,654 ----
  		++pat;
  	    while (((c = *pat++) & M_MASK) != M_END) {
  		if ((*pat & M_MASK) == M_RNG) {
! 		    if (   collate_range_cmp(CHAR(c), CHAR(k)) <= 0
! 			&& collate_range_cmp(CHAR(k), CHAR(pat[1])) <= 0
! 		       )
  			ok = 1;
  		    pat += 2;
  		}
*** sh.glob.c.orig	Sun May 14 00:49:17 1995
--- sh.glob.c	Tue Aug 13 01:41:34 1996
***************
*** 1038,1045 ****
  		if (match)
  		    continue;
  		if (rangec == '-' && *(pattern-2) != '[' && *pattern  != ']') {
! 		    match = (stringc <= (*pattern & TRIM) &&
! 			      (*(pattern-2) & TRIM) <= stringc);
  		    pattern++;
  		}
  		else 
--- 1038,1046 ----
  		if (match)
  		    continue;
  		if (rangec == '-' && *(pattern-2) != '[' && *pattern  != ']') {
! 		    match = (   collate_range_cmp(stringc, *pattern & TRIM) <= 0
! 			     && collate_range_cmp(*(pattern-2) & TRIM, stringc) <= 0
! 			    );
  		    pattern++;
  		}
  		else 
