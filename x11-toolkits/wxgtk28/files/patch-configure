--- configure.orig	Thu Apr 21 00:32:34 2005
+++ configure	Thu May  5 16:17:57 2005
@@ -33918,7 +33918,7 @@
                 fi
                 ;;
           *-*-freebsd*)
-                                                THREAD_OPTS="-kthread lthread $THREAD_OPTS c_r"
+                                                THREAD_OPTS="$PTHREAD_LIBS"
                 ;;
           *-*-darwin* | *-*-cygwin* )
                                                 THREAD_OPTS=""
@@ -33955,6 +33955,12 @@
 echo $ECHO_N "checking whether pthreads work without any flags... $ECHO_C" >&6
                     ;;
 
+                -pthread|-l*)
+                    echo "$as_me:$LINENO: checking for the pthreads library $flag" >&5
+echo $ECHO_N "checking for the pthreads library $flag... $ECHO_C" >&6
+                    THREADS_LINK="$flag"
+                    ;;
+
                 -*)
                     echo "$as_me:$LINENO: checking whether pthreads work with $flag" >&5
 echo $ECHO_N "checking whether pthreads work with $flag... $ECHO_C" >&6
@@ -35210,6 +35216,7 @@
     fi
   fi
 fi
+TOOLCHAIN_DEFS="${TOOLCHAIN_DEFS} ${PTHREAD_CFLAGS}"
 
 if test "$WXGTK20" = 1 ; then
   cat >>confdefs.h <<_ACEOF
@@ -35330,7 +35337,7 @@
         OPTIMISE="-O"
     fi
 fi
-
+OPTIMISE=
 
 if test "x$WXWIN_COMPATIBILITY_2_2" = "xyes"; then
     cat >>confdefs.h <<\_ACEOF
