
$FreeBSD$

--- configure.orig	Sun Jan 13 17:23:41 2002
+++ configure	Sun Jan 13 17:24:34 2002
@@ -4890,9 +4890,9 @@
 save_CFLAGS="$CFLAGS"
 save_LDFLAGS="$LDFLAGS"
 CFLAGS="$CFLAGS $ICONV_CFLAGS"
-LDFLAGS="$LDFLAGS $ICONV_LIBS -liconv"
-echo $ac_n "checking for iconv in -liconv""... $ac_c" 1>&6
-echo "configure:4896: checking for iconv in -liconv" >&5
+LDFLAGS="$LDFLAGS $ICONV_LIBS -lgiconv"
+echo $ac_n "checking for iconv in -lgiconv""... $ac_c" 1>&6
+echo "configure:4896: checking for iconv in -lgiconv" >&5
 if eval "test \"`echo '$''{'ac_cv_libiconv'+set}'`\" = set"; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
@@ -4900,7 +4900,7 @@
 #line 4901 "configure"
 #include "confdefs.h"
 
-#include <iconv.h>
+#include <giconv.h>
 
 int main() {
 
@@ -4923,7 +4923,7 @@
 
 echo "$ac_t""$ac_cv_libiconv" 1>&6
 if test $ac_cv_libiconv = yes; then
-	ICONV_LIBS="$ICONV_LIBS -liconv"
+	ICONV_LIBS="$ICONV_LIBS -lgiconv"
 	have_iconv=yes
 else
 	CFLAGS="$save_CFLAGS"
@@ -5049,7 +5049,7 @@
 #line 5050 "configure"
 #include "confdefs.h"
 
-#include <iconv.h>
+#include <giconv.h>
 #include <stdlib.h>
 #include <string.h>
 #ifdef HAVE_GNU_GET_LIBC_VERSION
