--- Makefile	2000/12/14 10:44:19	1.1
+++ Makefile	2000/12/14 10:50:08
@@ -1,13 +1,14 @@
 NAME = PyGtkScintilla
 VERSION = 0.1
 
-CC = gcc
+CC ?= gcc
 
-PYTHON_PREFIX = /usr
-INSTALL_DIR = $(PYTHON_PREFIX)/lib/python1.5/site-packages
+PYTHON_PREFIX ?= /usr
+PITHON_INCLUDEDIR ?= $(PYTHON_PREFIX)/include/python1.5
+INSTALL_DIR ?= $(PYTHON_PREFIX)/lib/python1.5/site-packages
 
-LDFLAGS = -shared `gtk-config --libs` -lgtkscintilla
-CFLAGS = `gtk-config --cflags` -I$(PYTHON_PREFIX)/include/python1.5
+LDFLAGS = -pthread -shared `$(GTK_CONFIG) --libs` -lgtkscintilla -lgcc_r
+CFLAGS = -D_THREAD_SAFE `$(GTK_CONFIG) --cflags` -I$(PYTHON_INCLUDEDIR) -I${X11BASE}/include/scintilla
 
 all: _gtkscintillamodule.so
 
