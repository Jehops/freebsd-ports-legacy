--- configure.orig	Thu Sep 25 20:32:47 1997
+++ configure	Tue Dec  2 11:39:39 1997
@@ -1060,6 +1060,7 @@
 
 if test "$val" != ""; then
     TCL_SRC_DIR=$val
+    tclsrcdir=$val
     if test ! -d $TCL_SRC_DIR; then
         { echo "configure: error: Directory $TCL_SRC_DIR doesn't exist" 1>&2; exit 1; }
         { echo "configure: error: Please install the source code of Tcl 8.0" 1>&2; exit 1; }
@@ -1082,7 +1083,7 @@
 fi
 echo "$ac_t""$TCL_SRC_DIR" 1>&6
 
-TCL_BIN_DIR=$TCL_SRC_DIR/unix
+TCL_BIN_DIR=$TCL_SRC_DIR/../../lib/tcl8.0
 
 #--------------------------------------------------------------------
 #	See if there was a command-line option for where Tk is;  if
@@ -1102,6 +1103,7 @@
 
 if test "$val" != ""; then
     TK_SRC_DIR=$val
+    tksrcdir=$val
     if test ! -d $TK_SRC_DIR; then
         { echo "configure: error: Directory $TK_SRC_DIR doesn't exist" 1>&2; exit 1; }
         { echo "configure: error: Please install the source code of Tk 8.0" 1>&2; exit 1; }
@@ -1124,7 +1126,7 @@
 fi
 echo "$ac_t""$TK_SRC_DIR" 1>&6
 
-TK_BIN_DIR=$TK_SRC_DIR/unix
+TK_BIN_DIR=$TK_SRC_DIR/../../lib/tk8.0
 
 #--------------------------------------------------------------------
 #	Find out the top level source directory of the Tix package.
@@ -1227,25 +1229,25 @@
 
     # The main Tix library
     #
-    eval "TIX_LIB_FILE=libtix${TCL_SHARED_LIB_SUFFIX}"
+    eval "TIX_LIB_FILE=libtix`echo ${VERSION} | tr -d .`.so.1.2"
     TIX_MAKE_LIB="\${SHLIB_LD} -o ${TIX_LIB_FILE} \${OBJS} ${SHLIB_LD_LIBS}"
 
     # The Tcl SAM library
     #
     VERSION=8.0
-    eval "TCL_SAM_FILE=libtclsam${TCL_SHARED_LIB_SUFFIX}"
+    eval "TCL_SAM_FILE=libtclsam`echo ${VERSION} | tr -d .`.so.1.2"
     TCL_MAKE_SAM="\${SHLIB_LD} -o ${TCL_SAM_FILE} \${TCL_SAM_OBJS} ${SHLIB_LD_LIBS}"
     
     # The Tk SAM library
     #
     VERSION=8.0
-    eval "TK_SAM_FILE=libtksam${TCL_SHARED_LIB_SUFFIX}"
+    eval "TK_SAM_FILE=libtksam`echo ${VERSION} | tr -d .`.so.1.2"
     TK_MAKE_SAM="\${SHLIB_LD} -o ${TK_SAM_FILE} \${TK_SAM_OBJS} ${SHLIB_LD_LIBS}"
     
     # The Tix SAM library
     #
     VERSION=${BIN_VERSION}
-    eval "TIX_SAM_FILE=libtixsam${TCL_SHARED_LIB_SUFFIX}"
+    eval "TIX_SAM_FILE=libtixsam`echo ${VERSION} | tr -d .`.so.1.2"
     TIX_MAKE_SAM="\${SHLIB_LD} -o ${TIX_SAM_FILE} \${TIX_SAM_OBJS} ${SHLIB_LD_LIBS}"
 
 else
@@ -1707,15 +1709,15 @@
 s%@SHLIB_VERSION@%$SHLIB_VERSION%g
 s%@DL_LIBS@%$DL_LIBS%g
 s%@LD_FLAGS@%$LD_FLAGS%g
-s%@TCL_BUILD_LIB_SPEC@%$TCL_BUILD_LIB_SPEC%g
+s%@TCL_LIB_SPEC@%$TCL_LIB_SPEC%g
 s%@TCL_LIBS@%$TCL_LIBS%g
 s%@TCL_VERSION@%$TCL_VERSION%g
-s%@TCL_SRC_DIR@%$TCL_SRC_DIR%g
+s%@TCL_SRC_DIR@%$tclsrcdir%g
 s%@TCL_BIN_DIR@%$TCL_BIN_DIR%g
-s%@TK_BUILD_LIB_SPEC@%$TK_BUILD_LIB_SPEC%g
+s%@TK_LIB_SPEC@%$TK_LIB_SPEC%g
 s%@TK_LIBS@%$TK_LIBS%g
 s%@TK_VERSION@%$TK_VERSION%g
-s%@TK_SRC_DIR@%$TK_SRC_DIR%g
+s%@TK_SRC_DIR@%$tksrcdir%g
 s%@TK_BIN_DIR@%$TK_BIN_DIR%g
 s%@TK_XINCLUDES@%$TK_XINCLUDES%g
 s%@TIX_LD_SEARCH_FLAGS@%$TIX_LD_SEARCH_FLAGS%g
@@ -1738,8 +1740,8 @@
 s%@TIX_SAM_FILE@%$TIX_SAM_FILE%g
 s%@TIX_MAKE_SAM@%$TIX_MAKE_SAM%g
 s%@TIX_DEFS@%$TIX_DEFS%g
-s%@ITCL_BUILD_LIB_SPEC@%$ITCL_BUILD_LIB_SPEC%g
-s%@ITK_BUILD_LIB_SPEC@%$ITK_BUILD_LIB_SPEC%g
+s%@ITCL_LIB_SPEC@%$ITCL_LIB_SPEC%g
+s%@ITK_LIB_SPEC@%$ITK_LIB_SPEC%g
 s%@TCL_SAMEXE_FILE@%$TCL_SAMEXE_FILE%g
 s%@TK_SAMEXE_FILE@%$TK_SAMEXE_FILE%g
 s%@TIX_SAMEXE_FILE@%$TIX_SAMEXE_FILE%g
