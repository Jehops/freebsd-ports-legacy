--- configure.orig	Tue Aug 18 21:10:09 1998
+++ configure	Wed Oct 14 00:04:15 1998
@@ -2298,6 +2298,9 @@
  $blt_ckcmd_tcl_home \
  $blt_ckcmd_tcl_home/lib \
  $blt_cv_tcl_lib \
+ /usr/local/lib/tcl8.0 \
+ /usr/local/lib/tcl7.6 \
+ /usr/local/lib/tcl7.5 \
  /usr/local/tcl/lib \
  /usr/local/tcl/tcl8.0/lib \
  /usr/local/tcl/tcl7.6/lib \
@@ -2337,6 +2340,9 @@
  $blt_ckcmd_tcl_home \
  $blt_ckcmd_tcl_home/lib \
  $blt_cv_tk_lib \
+ /usr/local/lib/tk8.0 \
+ /usr/local/lib/tk4.2 \
+ /usr/local/lib/tk4.1 \
  /usr/local/tcl/lib \
  /usr/local/tcl/tk8.0/lib \
  /usr/local/tcl/tk4.2/lib \
@@ -2432,6 +2438,13 @@
 tclLibDir=${TCL_PREFIX}/lib
 tkLibDir=${TK_PREFIX}/lib
 
+case $target in
+  *-freebsd*)
+    tclIncSpec="-I${TCL_PREFIX}/include/tcl${TCL_MAJOR_VERSION}.${TCL_MINOR_VERSION}"
+    tkIncSpec="-I${TK_PREFIX}/include/tk${TK_MAJOR_VERSION}.${TK_MINOR_VERSION}"
+    ;;
+esac
+
 itclLibSpec=""
 itclIncSpec=""
 itclSuffix=""
@@ -2448,7 +2461,7 @@
 tkLibSpec=${TK_LIB_SPEC}
 
 case $target in
-  *-sunos4*|NetBSD-*|FreeBSD-*|OpenBSD-*)
+  *-freebsd*|*-sunos4*|NetBSD-*|FreeBSD-*|OpenBSD-*)
     tclLib="-ltcl${TCL_MAJOR_VERSION}${TCL_MINOR_VERSION}${itclSuffix}"
     tkLib="-ltk${TK_MAJOR_VERSION}${TK_MINOR_VERSION}${itclSuffix}"
     ;;
@@ -3169,8 +3182,13 @@
     if test "$test_ok" = yes; then
       SHLIB_CFLAGS="-fpic"
       SHLIB_LD="ld"
-      SHLIB_LD_FLAGS="-Bshared -x"
-      SHLIB_SUFFIX=".so"
+      if test `objformat` = "elf"; then
+        SHLIB_LD_FLAGS="-Bshareable -x -soname \$@"
+        SHLIB_SUFFIX=".so.${bltMajor}"
+      else
+        SHLIB_LD_FLAGS="-Bshareable -x"
+        SHLIB_SUFFIX=".so.${bltMajor}.${bltMinor}"
+      fi
     fi
     ;;
 
