--- gtk/gtkrc.c.orig	Wed Dec 16 09:42:10 1998
+++ gtk/gtkrc.c	Sun Dec 27 01:04:11 1998
@@ -26,6 +26,10 @@
 #include <stdio.h>
 #include <stdlib.h>
 
+#ifdef X_LOCALE
+#include <locale.h>
+#endif
+
 #include "gtkrc.h"
 #include "gtkbindings.h"
 #include "gtkthemes.h"
@@ -228,13 +232,13 @@
   var = getenv("GTK_EXE_PREFIX");
   if (var)
     {
-      path = g_malloc(strlen(var) + strlen("/lib/gtk/themes/engines") +1);
-      sprintf(path, "%s%s", var, "/lib/gtk/themes/engines");
+      path = g_malloc(strlen(var) + strlen("/share/themes/engines") +1);
+      sprintf(path, "%s%s", var, "/share/themes/engines");
     }
   else
     {
-      path = g_malloc(strlen(GTK_EXE_PREFIX) + strlen("/lib/gtk/themes/engines") +1);
-      sprintf(path, "%s%s", GTK_EXE_PREFIX, "/lib/gtk/themes/engines");
+      path = g_malloc(strlen(GTK_EXE_PREFIX) + strlen("/share/themes/engines") +1);
+      sprintf(path, "%s%s", GTK_EXE_PREFIX, "/share/themes/engines");
     }
   return path;
 }
@@ -248,13 +252,13 @@
   var = getenv("GTK_DATA_PREFIX");
   if (var)
     {
-      path = g_malloc(strlen(var) + strlen("/share/gtk/themes") +1);
-      sprintf(path, "%s%s", var, "/share/gtk/themes");
+      path = g_malloc(strlen(var) + strlen("/share/themes") +1);
+      sprintf(path, "%s%s", var, "/share/themes");
     }
   else
     {
-      path = g_malloc(strlen(GTK_DATA_PREFIX) + strlen("/share/gtk/themes") +1);
-      sprintf(path, "%s%s", GTK_DATA_PREFIX, "/share/gtk/themes");
+      path = g_malloc(strlen(GTK_DATA_PREFIX) + strlen("/share/themes") +1);
+      sprintf(path, "%s%s", GTK_DATA_PREFIX, "/share/themes");
     }
   
   for (n = 0; pixmap_path[n]; n++) ;
@@ -290,13 +294,13 @@
   var = getenv("GTK_EXE_PREFIX");
   if (var)
     {
-      path = g_malloc(strlen(var) + strlen("/lib/gtk/themes/engines") +1);
-      sprintf(path, "%s%s", var, "/lib/gtk/themes/engines");
+      path = g_malloc(strlen(var) + strlen("/share/themes/engines") +1);
+      sprintf(path, "%s%s", var, "/share/themes/engines");
     }
   else
     {
-      path = g_malloc(strlen(GTK_EXE_PREFIX) + strlen("/lib/gtk/themes/engines") +1);
-      sprintf(path, "%s%s", GTK_EXE_PREFIX, "/lib/gtk/themes/engines");
+      path = g_malloc(strlen(GTK_EXE_PREFIX) + strlen("/share/themes/engines") +1);
+      sprintf(path, "%s%s", GTK_EXE_PREFIX, "/share/themes/engines");
     }
   module_path[n++] = g_strdup(path);
   g_free(path);
