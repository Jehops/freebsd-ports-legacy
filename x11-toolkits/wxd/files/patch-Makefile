--- /home/default/ports/wxd/work/wxd/GNUmakefile	Sat Aug 26 23:30:32 2006
+++ Makefile	Thu Aug 31 19:14:34 2006
@@ -1,26 +1,21 @@
-MAKE=make
-
+#Makefile
+#call: gmake MAKE=gmake WX_CONFIG=wxgtk2-2.6-config (wxgtk2u-2.6-config)
 OS=$(shell uname)
-ARCH=$(shell (arch 2>/dev/null || echo i386) | sed -e s/i.86/x86/ )
+ARCH=$(shell (uname -m) | sed -e s/i.86/x86/ )
 
-ifeq ("$(OS) $(ARCH)","Linux x86")
-COMPILER=DMD
-DMD=dmd
-else
 COMPILER=GDC
-DMD=gdmd
-endif
+DMD=gdc
 
 PLATFORM=$(shell cat wxc/platform 2>/dev/null )
 export PLATFORM
 
 CXX_WXD = $(CXX) -D__$(COMPILER)__
-DMD_WXD = $(DMD) -version=__$(PLATFORM)__
+DMD_WXD = $(DMD) -fversion=__$(PLATFORM)__
 
 all: wxc/platform
 	$(MAKE) CXX="$(CXX_WXD)" -C wxc
 	$(MAKE) DMD="$(DMD_WXD)" -C wx
-	$(MAKE) DMD="$(DMD_WXD)" -C Samples
+#	$(MAKE) DMD="$(DMD_WXD)" -C Samples
 
 install:
 	$(MAKE) CXX="$(CXX_WXD)" install -C wxc
