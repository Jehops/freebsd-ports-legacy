--- src/bin/ibuild/ibcode.c.orig	Fri Jun  4 05:55:09 1993
+++ src/bin/ibuild/ibcode.c	Sun Jan 23 20:12:54 2000
@@ -42,7 +42,10 @@
 #include <InterViews/shape.h>
 #include <InterViews/transformer.h>
 #include <OS/types.h>
+#if __FreeBSD_cc_version < 400002
 #include <osfcn.h>
+#endif
+#include <stdio.h>
 #include <stdlib.h>
 #include <stream.h>
 #include <string.h>
@@ -363,7 +366,7 @@
 	ButtonStateVar* bsVar = intcomp->GetButtonStateVar();
 	const char* bsname = bsVar->GetName();
 	const char* proc = bsVar->GetFuncName();
-        boolean export = bsVar->GetExport();
+        boolean exportval = bsVar->GetExport();
         const char* subclass = bsVar->GetSubclassName();
 
         if (!bsVar->IsSubclass() && !_emitMain) {
@@ -376,7 +379,7 @@
 	if (!_bsinitslist->Search(bsname)) {
 	    _bsinitslist->Append(bsname);
 
-            if (export && !_emitMain) {
+            if (exportval && !_emitMain) {
                 out << "    " << bsname;
             } else {
                 out << "    " << ButtonClass << "* " << bsname;
@@ -385,7 +388,7 @@
             out << bsVar->GetInitial() << ");\n";
 
             if (!_emitMain && proc != nil && *proc != '\0') {
-                if (!export || bsVar->IsSubclass()) {
+                if (!exportval || bsVar->IsSubclass()) {
                     out << "    " << bsname << "->SetCoreClass(this);\n";
                     out <<"    "<< bsname<<"->SetCoreFunc("<< "&" << coreclass;
                     out << "::" << proc << ");\n";
@@ -1599,10 +1602,10 @@
 void CodeView::BeginInstantiate (ostream& out) {
     InteractorComp* icomp = GetIntComp();
     const char* mname = icomp->GetMemberNameVar()->GetName();
-    boolean export = icomp->GetMemberNameVar()->GetExport();
+    boolean exportval = icomp->GetMemberNameVar()->GetExport();
     const char* classname = icomp->GetClassNameVar()->GetName();
 
-    if (export && !_emitMain) {
+    if (exportval && !_emitMain) {
         out << "    " << mname << " = new ";
     } else {
         out << "    " << classname << "* ";
