#
# Makefile for DeFT
#
TARGET = DeFT.exec
FFLAGS += -w
CFLAGS += -w
.if ${MACHINE_ARCH} == "i386"
FFLAGS += -malign-double
CFLAGS += -malign-double
.endif
F2C = f2c
F2CFLAGS += -w -Nn802
.if ${OSVERSION} >= 400005
FC = ftn77
#FC = fc
CFLAGS += -I${PREFIX}/include
.endif
LFLAGS = 
SRCS:sh = ls *.f
OBJS = $(SRCS:.f=.o)

all: ${TARGET}

${TARGET}: ${OBJS}
	${FC} ${LFLAGS} ${OBJS} -o $@

cdgrxx.o:
	${F2C} ${F2CFLAGS} cdgrxx.f
	${CC} ${CFLAGS} -c cdgrxx.c

clean:
	rm -f ${OBJS} ${TARGET}

