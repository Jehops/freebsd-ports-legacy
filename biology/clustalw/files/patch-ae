--- amenu.c.orig	Thu Feb 13 15:19:00 2003
+++ amenu.c	Thu Feb 13 15:21:10 2003
@@ -13,7 +13,8 @@
 static jmp_buf jmpbuf;
 #ifndef VMS
 #ifndef AIX
-#define BADSIG (void (*)())-1
+/* #define BADSIG (void (*)())-1 */
+#define BADSIG SIG_ERR
 #endif
 #endif
 
@@ -184,7 +185,7 @@
 		fprintf(stdout,"     H. HELP\n");
 		fprintf(stdout,"     X. EXIT (leave program)\n\n\n");
 		
-		getstr("Your choice",lin1);
+		getstr("Your choice",lin1,MAXLINE);
 
 		switch(toupper(*lin1)) {
 			case '1': seq_input(FALSE);
@@ -268,7 +269,7 @@
         fprintf(stdout,"    H.  HELP\n");
         fprintf(stdout,"    or press [RETURN] to go back to main menu\n\n\n");
 
-        getstr("Your choice",lin1);
+        getstr("Your choice",lin1,MAXLINE);
         if(*lin1 == EOS) return;
 
         switch(toupper(*lin1))
@@ -361,7 +362,7 @@
         fprintf(stdout,"    H.  HELP\n");
         fprintf(stdout,"    or press [RETURN] to go back to main menu\n\n\n");
 
-        getstr("Your choice",lin1);
+        getstr("Your choice",lin1,MAXLINE);
         if(*lin1 == EOS) return;
 
         switch(toupper(*lin1))
@@ -457,7 +458,7 @@
 		fprintf(stdout,"\n\n");
 		fprintf(stdout,"     H. HELP\n\n\n");
 		
-		getstr("Enter number (or [RETURN] to exit)",lin2);
+		getstr("Enter number (or [RETURN] to exit)",lin2,MAXLINE);
 		if( *lin2 == EOS) { 
 			return;
 		}
@@ -533,7 +534,7 @@
                 fprintf(stdout,"--\n");
 
 
-                getstr("\n\nEnter number (or [RETURN] to exit)",lin2);
+                getstr("\n\nEnter number (or [RETURN] to exit)",lin2,MAXLINE);
                 if(*lin2 == EOS) return(output_struct_penalties);
 
         	switch(toupper(*lin2))
@@ -602,7 +603,7 @@
         fprintf(stdout,"    H.  HELP\n");
         fprintf(stdout,"    or press [RETURN] to go back to main menu\n\n\n");
 
-        getstr("Your choice",lin1);
+        getstr("Your choice",lin1,MAXLINE);
         if(*lin1 == EOS) return;
 
         switch(toupper(*lin1))
@@ -677,7 +678,7 @@
 	fprintf(stdout,"\n");
 	fprintf(stdout,"     H. HELP\n\n\n");	
 	
-		getstr("Enter number (or [RETURN] to exit)",lin2);
+		getstr("Enter number (or [RETURN] to exit)",lin2,MAXLINE);
 		if(*lin2 == EOS) return;
 		
 		switch(toupper(*lin2)) {
@@ -766,7 +767,7 @@
 	fprintf(stdout,"\n");
 	fprintf(stdout,"     H. HELP\n\n\n");	
 	
-		getstr("Enter number (or [RETURN] to exit)",lin2);
+		getstr("Enter number (or [RETURN] to exit)",lin2,MAXLINE);
 		if(*lin2 == EOS) return;
 		
 		switch(toupper(*lin2)) {
@@ -907,7 +908,7 @@
 
 		fprintf(stdout,"     H. HELP\n\n\n");
 		
-		getstr("Enter number (or [RETURN] to exit)",lin2);
+		getstr("Enter number (or [RETURN] to exit)",lin2,MAXLINE);
 		if( *lin2 == EOS) {
                         if(dnaflag) {
                                 dna_pw_go_penalty     = pw_go_penalty;
@@ -1029,7 +1030,7 @@
                 fprintf(stdout,"     8. Protein Gap Parameters\n\n");
 		fprintf(stdout,"     H. HELP\n\n\n");		
 
-		getstr("Enter number (or [RETURN] to exit)",lin2);
+		getstr("Enter number (or [RETURN] to exit)",lin2,MAXLINE);
 
 		if(*lin2 == EOS) {
 			if(dnaflag) {
@@ -1122,7 +1123,7 @@
 		fprintf(stdout,"     5. Toggle End Gap Separation         :%s\n\n",(!use_endgaps) ? "OFF" : "ON");
 		fprintf(stdout,"     H. HELP\n\n\n");		
 
-		getstr("Enter number (or [RETURN] to exit)",lin2);
+		getstr("Enter number (or [RETURN] to exit)",lin2,MAXLINE);
 
 		if(*lin2 == EOS) return;
 		
@@ -1136,7 +1137,7 @@
 			case '3':
 				fprintf(stdout,"Hydrophilic Residues Currently: %s\n",hyd_residues);
 
-				getstr("Enter residues (or [RETURN] to quit)",lin1);
+				getstr("Enter residues (or [RETURN] to quit)",lin1,MAXLINE);
                                 if (*lin1 != EOS) {
                                         for (i=0;i<strlen(hyd_residues) && i<26;i++) {
                                         c = lin1[i];
@@ -1188,7 +1189,7 @@
                 fprintf(stdout,"--\n");
 
 
-                getstr("\n\nEnter number (or [RETURN] to exit)",lin2);
+                getstr("\n\nEnter number (or [RETURN] to exit)",lin2,MAXLINE);
                 if(*lin2 == EOS) return(matn);
 
                 i=toupper(*lin2)-'0';
@@ -1223,7 +1224,7 @@
 	fprintf(stdout,"\n%s\n",title);
 	strcpy(line,prompt);
 	strcat(line, "(y/n) ? [y]");
-	getstr(line,lin2);
+	getstr(line,lin2,80);
 	if ((*lin2 != 'n') && (*lin2 != 'N'))
 		return('y');
 	else
