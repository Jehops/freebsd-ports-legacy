--- daemon.c.orig	Mon Oct  6 16:32:28 2003
+++ daemon.c	Mon Oct  6 16:37:02 2003
@@ -10,8 +10,10 @@
 #ifdef	SETPGRP_VOID
 #define SYSV
 #else
+#ifndef BSD
 #define	BSD
 #endif
+#endif
 
 extern int	errno;
 
@@ -30,7 +32,7 @@
 #ifdef	BSD
 
 	int	pid;
-	union	wait	status;
+	int	status;
 	while ( (pid = wait3(&status, WNOHANG, (struct rusage *) 0)) > 0 ) ;
 
 #endif
@@ -105,7 +107,7 @@
 #ifdef	BSD
 		RETSIGTYPE sig_child();
 
-		signal(SIGCLD, sig_child);
+		signal(SIGCHLD, sig_child);
 #else
 		signal(SIGCLD,SIG_IGN);
 #endif
