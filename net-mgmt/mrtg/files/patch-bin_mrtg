--- bin/mrtg.old	Fri Aug 18 13:02:42 2006
+++ bin/mrtg	Fri Aug 18 13:04:08 2006
@@ -174,11 +174,17 @@
     my $gid = $(;
 
     if (defined $opts{group}) {
-        $gid = getgrnam($opts{group}) or die "$NOW: ERROR: Unknown Group: $opts{group})\n";
+	$gid = getgrnam($opts{group});
+	if( $gid =~ /^$/ ) {
+		die "ERROR: Unknown Group: $opts{group}\n";
+	}
     }
 
     if (defined $opts{user}) {
-        $uid = getpwnam($opts{user}) or die "$NOW: ERROR: Unknown User: $opts{user})\n";
+	$uid = getpwnam($opts{user});
+	if( $uid =~ /^$/ ) {
+		die "ERROR: Unknown User: $opts{user}\n";
+	}
     }
 
     # If we've specified using FHS (http://www.pathname.com/fhs/) on the command line,
