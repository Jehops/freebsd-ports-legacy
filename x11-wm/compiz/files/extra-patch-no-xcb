--- configure.orig	2008-07-13 13:43:53.000000000 -0400
+++ configure	2008-07-13 13:44:58.000000000 -0400
@@ -23100,8 +23100,7 @@
 metadatadir=$datadir/compiz
 
 
-COMPIZ_REQUIRES="x11-xcb    \
-		 xcomposite \
+COMPIZ_REQUIRES="xcomposite \
 		 xfixes	    \
 		 xdamage    \
 		 xrandr	    \
--- include/compiz-core.h.orig	2008-05-29 07:58:33.000000000 -0400
+++ include/compiz-core.h	2008-07-12 14:12:53.000000000 -0400
@@ -33,7 +33,7 @@
 #include <stdio.h>
 #include <sys/time.h>
 
-#include <X11/Xlib-xcb.h>
+#include <X11/Xlib.h>
 #include <X11/Xutil.h>
 #include <X11/extensions/Xdamage.h>
 #include <X11/extensions/Xcomposite.h>
@@ -896,8 +896,6 @@
 
     CompDisplay *next;
 
-    xcb_connection_t *connection;
-
     Display    *display;
     CompScreen *screens;
 
--- src/display.c.orig	2008-05-29 07:58:33.000000000 -0400
+++ src/display.c	2008-07-12 14:13:01.000000000 -0400
@@ -2054,8 +2054,6 @@
 	return FALSE;
     }
 
-    d->connection = XGetXCBConnection (dpy);
-
     if (!compInitDisplayOptionsFromMetadata (d,
 					     &coreMetadata,
 					     coreDisplayOptionInfo,
