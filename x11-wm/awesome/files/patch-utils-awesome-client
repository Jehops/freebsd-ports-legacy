--- utils/awesome-client.orig
+++ utils/awesome-client
@@ -1,4 +1,4 @@
-#!/bin/bash
+#!/bin/sh
 
 # rlwrap provides readline to stuff which doesn't know readline by itself
 RLWRAP=`which rlwrap 2>/dev/null`
@@ -15,9 +15,11 @@ fi
 
 DBUS_SEND=dbus-send
 
-if ! which ${DBUS_SEND} >/dev/null 2>&1
+which ${DBUS_SEND} > /dev/null
+if test $? = 1
 then
     echo "E: Unable to find" ${DBUS_SEND}
+    exit 1
 fi
 
 DBUS_METHOD=org.awesome.Remote.Eval
