--- ./dist/configure.orig	2011-03-21 18:22:00.000000000 +0100
+++ ./dist/configure	2011-03-21 18:22:00.000000000 +0100
@@ -7002,7 +7002,7 @@
   ;;
 
 freebsd*)
-  objformat=`test -x /usr/bin/objformat && /usr/bin/objformat || echo aout`
+  objformat=`test -x /usr/bin/objformat && /usr/bin/objformat || echo elf`
   version_type=freebsd-$objformat
   case $version_type in
     freebsd-elf*)
@@ -8449,7 +8449,7 @@
 MAKEFILE_CCLINK="\$(LIBTOOL) --mode=link ${SAVE_CC}"
 MAKEFILE_CXXLINK="\$(LIBTOOL) --mode=link ${SAVE_CXX}"
 
-SOLINK="\$(LIBTOOL) --mode=link ${SAVE_CC} -avoid-version"
+SOLINK="\$(LIBTOOL) --mode=link ${SAVE_CC} -version-info ${DB_VERSION_MINOR}"
 INSTALLER="\$(LIBTOOL) --mode=install cp"
 
 # Configure for shared libraries, static libraries, or both.  If both are
@@ -8728,7 +8728,7 @@
 	done
 	JTOPDIR=`echo "$JAVACABS" | sed -e 's://*:/:g' -e 's:/[^/]*$::'`
 	case "$host_os" in
-		darwin*)	JTOPDIR=`echo "$JTOPDIR" | sed -e s:/[^/]*$::'`
+		darwin*)	JTOPDIR=`echo "$JTOPDIR" | sed -e 's:/[^/]*$::'`
 				JNIHEADERDIR="$JTOPDIR/Headers";;
 		*)		JNIHEADERDIR="$JTOPDIR/include";;
 	esac
@@ -9100,7 +9100,7 @@
 
 # Optional utilities.
 if test "$db_cv_dump185" = "yes"; then
-	ADDITIONAL_PROGS="db_dump185 $ADDITIONAL_PROGS"
+	ADDITIONAL_PROGS="db3_dump185 $ADDITIONAL_PROGS"
 fi
 
 # test servers, example programs.
