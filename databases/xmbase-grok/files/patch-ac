--- Imakefile.orig	Fri Nov 12 03:28:53 1999
+++ Imakefile	Tue Mar 14 21:48:50 2000
@@ -10,11 +10,8 @@
  * GLIB. The documentation (Manual.ps) is not installed, that's up to you.
  */
 
-GBIN = /usr/local/bin
-GLIB = /usr/local/lib
-
-CDEBUGFLAGS = -O2
-
+GBIN = $(BINDIR)
+GLIB = $(LIBDIR)/xmbase-grok
 
 /*
  * Do not change anyhting below.
@@ -23,7 +20,7 @@
 #ifdef sgi
 LIB  =	-lSgm -lXm $(XTOOLLIB) $(XLIB) $(SYSLIBS) $(XMEXTRA_LIBS) -lm
 #else
-LIB  =	-lXm $(XTOOLLIB) $(XLIB) $(SYSLIBS) $(XMEXTRA_LIBS) -lm
+LIB  =	$(MOTIFLIB) $(XTOOLLIB) $(XLIB) $(SYSLIBS) $(XMEXTRA_LIBS) -lm
 #endif
 
 SRC  =	canvdraw.c cardwin.c chart.c chartdrw.c convert.c dbase.c\
@@ -37,17 +34,14 @@
 DOC  =	doc/files.tex doc/formedit.tex doc/grammar.tex doc/intro.tex\
 	doc/macro.tex doc/main.tex doc/export.tex
 
-DEMO =	grokdir/*
-
 EXTRA_DEFINES = -DPATH=\"$(GBIN):$(GLIB)\" -DLIB=\"$(GLIB)\"
 EXTRA_LIBS=-lXpm
 AllTarget(grok)
 NormalProgramTarget(grok,y.tab.o $(SRC:.c=.o),,,$(LIB))
 InstallProgram(grok,$(GBIN))
-InstallProgram(grok.hlp,$(GLIB))
+InstallNonExecFile(grok.hlp,$(GLIB))
 InstallMultiple(Manual.ps grok.hlp,$(GLIB)/grokdir)
-InstallMultiple($(DEMO),$(GLIB)/grokdir)
-InstallNonExec(grok.xpm,$(LIBDIR)/pixmaps)
+InstallNonExec(grok.xpm,$(INCDIR)/X11/pixmaps)
 
 
 $(SRC:.c=.o): config.h grok.h proto.h form.h
@@ -79,14 +73,18 @@
 
 
 #---------------------------------------------------------------
-Manual.ps: doc/main.dvi
-	dvips -f doc/main.dvi >Manual.ps
-	-rm -f doc/jobname.cont doc/main.cont doc/main.log
-
-
-doc/main.dvi: $(DOC)
-	cd doc; tex main.tex; tex main.tex
-	-rm -f doc/jobname.cont doc/main.cont doc/main.log
+#
+# Don't want the need to have TeX installed for the make install target !
+# -Andreas
+#
+#Manual.ps: doc/main.dvi
+#	dvips -f doc/main.dvi >Manual.ps
+#	-rm -f doc/jobname.cont doc/main.cont doc/main.log
+#
+#
+#doc/main.dvi: $(DOC)
+#	cd doc; tex main.tex; tex main.tex
+#	-rm -f doc/jobname.cont doc/main.cont doc/main.log
 
 clean::
 	-rm -f y.tab.h y.tab.c lex.yy.c grok y.output *.shar*
