--- configure.orig	2012-05-19 23:39:42.000000000 -0500
+++ configure	2012-05-19 23:42:47.000000000 -0500
@@ -14174,6 +14174,14 @@
 $as_echo "#define _WIN32_WINNT 0x501" >>confdefs.h
 
 	;;
+*freebsd*)
+	os_win32=no
+	NO_UNDEFINED=''
+	SOCKET_LIBS=''
+	DL_LIB=''
+	SOFTOKN3_LIB='-lsoftokn3'
+	LIBEXECDIR_IN_SERVER_FILE="$libexecdir"
+	;;
 *)
 	os_win32='no'
 	NO_UNDEFINED=''
@@ -16196,6 +16204,8 @@
 
 
 	ac_fn_c_check_header_compile "$LINENO" "et/com_err.h" "ac_cv_header_et_com_err_h" "	#if HAVE_ET_COM_ERR_H
+			#include <stdio.h>
+			#include <stdarg.h>
 			#include <com_err.h>
 			#endif
 
@@ -16208,6 +16218,8 @@
 
 
 	ac_fn_c_check_header_compile "$LINENO" "com_err.h" "ac_cv_header_com_err_h" "	#if HAVE_COM_ERR_H
+			#include <stdio.h>
+			#include <stdarg.h>
 			#include <com_err.h>
 			#endif
 
