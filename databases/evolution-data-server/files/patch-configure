--- configure.orig	Sun Dec 25 01:57:35 2005
+++ configure	Sun Dec 25 01:58:23 2005
@@ -23542,6 +23542,14 @@
     SOFTOKN3_LIB=''
     LIBEXECDIR_IN_SERVER_FILE='../../../libexec'
     ;;
+*freebsd*)
+    os_win32=no
+    NO_UNDEFINED=''
+    SOCKET_LIBS=''
+    DL_LIB=''
+    SOFTOKN3_LIB='-lsoftokn3'
+    LIBEXECDIR_IN_SERVER_FILE="$libexecdir"
+    ;;
 *)  os_win32=no
     NO_UNDEFINED=''
     SOCKET_LIBS=''
@@ -27317,7 +27325,7 @@
 		#include <sys/socket.h>
 		#include <netinet/in.h>
 		#include <netdb.h>
-
+		#include <stdio.h>
 
 int
 main ()
@@ -27565,7 +27573,7 @@
 	LDFLAGS_save="$LDFLAGS"
 
 	mitlibs="-lkrb5 -lk5crypto -lcom_err -lgssapi_krb5"
-	heimlibs="-lkrb5 -lcrypto -lasn1 -lcom_err -lroken -lgssapi"
+	heimlibs="-lkrb5 -lcrypto -lasn1 -lcom_err -lroken -lgssapi -lcrypt"
 	echo "$as_me:$LINENO: checking for Kerberos 5" >&5
 echo $ECHO_N "checking for Kerberos 5... $ECHO_C" >&6
 if test "${ac_cv_lib_kerberos5+set}" = set; then
@@ -31483,7 +31491,7 @@
 imagesdir="$datadir/pixmaps/evolution-data-server-$BASE_VERSION"
 
 
-serverdir="$libdir/bonobo/servers"
+serverdir="$prefix/libdata/bonobo/servers"
 
 
 extensiondir='${libdir}'/evolution-data-server-$API_VERSION/extensions
