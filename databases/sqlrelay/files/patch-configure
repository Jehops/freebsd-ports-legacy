--- configure.orig	Mon Apr 15 14:23:31 2002
+++ configure	Thu Nov 21 19:00:36 2002
@@ -1705,7 +1705,7 @@
 fi
 if eval "test \"`echo '$ac_cv_file_'$ac_safe`\" = yes"; then
   echo "$ac_t""yes" 1>&6
-  HAVE_GNOME_XML="yes"; XMLINCLUDES="-I$LIBXMLPATH"
+  HAVE_GNOME_XML="yes"; XMLINCLUDES="-I$LIBXMLPATH/include"
 else
   echo "$ac_t""no" 1>&6
 
@@ -1784,7 +1784,7 @@
 fi
 if eval "test \"`echo '$ac_cv_file_'$ac_safe`\" = yes"; then
   echo "$ac_t""yes" 1>&6
-  HAVE_LIBXML="yes"; HAVE_GNOME_XML=""; XMLINCLUDES="-I$LIBXMLPATH"
+  HAVE_LIBXML="yes"; HAVE_GNOME_XML=""; XMLINCLUDES="-I$LIBXMLPATH/include"
 else
   echo "$ac_t""no" 1>&6
 
@@ -7314,7 +7314,7 @@
 fi
 if eval "test \"`echo '$ac_cv_file_'$ac_safe`\" = yes"; then
   echo "$ac_t""yes" 1>&6
-  INTERBASELIBSPATH="$INTERBASPATH/lib"; INTERBASELIBS="-L$INTERBASEPATH/lib -lgds -lcrypt"
+  INTERBASELIBSPATH="$INTERBASEPATH/lib"; INTERBASELIBS="-L$INTERBASEPATH/lib -lgds -lcrypt"
 else
   echo "$ac_t""no" 1>&6
 
@@ -7403,8 +7403,8 @@
 
 LINKFAIL=""
 if ( test -n "$INTERBASESTATIC" -a -n "$INTERBASELIBS" ); then
-	echo $ac_n "checking if Interbase can be statically linked without $DLLIB""... $ac_c" 1>&6
-echo "configure:7408: checking if Interbase can be statically linked without $DLLIB" >&5
+	echo $ac_n "checking if Interbase can be statically linked without -lcrypt""... $ac_c" 1>&6
+echo "configure:7408: checking if Interbase can be statically linked without -lcrypt" >&5
 	TEMPCPPFLAGS="$CPPFLAGS"
 	CPPFLAGS="$INTERBASESTATIC $INTERBASEINCLUDES"
 	LIBS="$INTERBASELIBS $SOCKETLIB"
@@ -7429,12 +7429,12 @@
 rm -f conftest*
 	LIBS=""
 	CPPFLAGS="$TEMPCPPFLAGS"
-	if ( test -n "$LINKFAIL" -a -n "$DLLIB" ); then
-		echo $ac_n "checking if Interbase can be statically linked with $DLLIB""... $ac_c" 1>&6
-echo "configure:7435: checking if Interbase can be statically linked with $DLLIB" >&5
+	if ( test -n "$LINKFAIL" ); then
+		echo $ac_n "checking if Interbase can be statically linked with -lcrypt""... $ac_c" 1>&6
+echo "configure:7435: checking if Interbase can be statically linked with -lcrypt" >&5
 		TEMPCPPFLAGS="$CPPFLAGS"
 		CPPFLAGS="$INTERBASESTATIC $INTERBASEINCLUDES"
-		LIBS="$INTERBASELIBS $SOCKETLIB $DLLIB"
+		LIBS="$INTERBASELIBS $SOCKETLIB -lcrypt"
 		cat > conftest.$ac_ext <<EOF
 #line 7440 "configure"
 #include "confdefs.h"
@@ -7446,7 +7446,7 @@
 EOF
 if { (eval echo configure:7448: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
-  echo "$ac_t""yes" 1>&6; INTERBASELIBS="$INTERBASELIBS $DLLIB"; LINKFAIL="";
+  echo "$ac_t""yes" 1>&6; INTERBASELIBS="$INTERBASELIBS -lcrypt"; LINKFAIL="";
 else
   echo "configure: failed program was:" >&5
   cat conftest.$ac_ext >&5
@@ -7463,8 +7463,8 @@
 	if ( test -n "$RPATHFLAG" -a -n "$INTERBASELIBSPATH" ); then
 		INTERBASELIBS="-Wl,-rpath $INTERBASELIBSPATH $INTERBASELIBS"
 	fi
-	echo $ac_n "checking if Interbase can be dynamically linked without $DLLIB""... $ac_c" 1>&6
-echo "configure:7468: checking if Interbase can be dynamically linked without $DLLIB" >&5
+	echo $ac_n "checking if Interbase can be dynamically linked without -lcrypt""... $ac_c" 1>&6
+echo "configure:7468: checking if Interbase can be dynamically linked without -lcrypt" >&5
 	TEMPCPPFLAGS="$CPPFLAGS"
 	CPPFLAGS="$INTERBASEINCLUDES"
 	LIBS="$INTERBASELIBS $SOCKETLIB"
@@ -7489,12 +7489,12 @@
 rm -f conftest*
 	LIBS=""
 	CPPFLAGS="$TEMPCPPFLAGS"
-	if ( test -n "$LINKFAIL" -a -n "$DLLIB" ); then
-		echo $ac_n "checking if Interbase can be dynamically linked with $DLLIB""... $ac_c" 1>&6
-echo "configure:7495: checking if Interbase can be dynamically linked with $DLLIB" >&5
+	if ( test -n "$LINKFAIL" ); then
+		echo $ac_n "checking if Interbase can be dynamically linked with -lcrypt""... $ac_c" 1>&6
+echo "configure:7495: checking if Interbase can be dynamically linked with -lcrypt" >&5
 		TEMPCPPFLAGS="$CPPFLAGS"
 		CPPFLAGS="$INTERBASEINCLUDES"
-		LIBS="$INTERBASELIBS $SOCKETLIB $DLLIB"
+		LIBS="$INTERBASELIBS $SOCKETLIB -lcrypt"
 		cat > conftest.$ac_ext <<EOF
 #line 7500 "configure"
 #include "confdefs.h"
@@ -7506,7 +7506,7 @@
 EOF
 if { (eval echo configure:7508: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
-  echo "$ac_t""yes" 1>&6; INTERBASELIBS="$INTERBASELIBS $DLLIB"; LINKFAIL=""
+  echo "$ac_t""yes" 1>&6; INTERBASELIBS="$INTERBASELIBS -lcrypt"; LINKFAIL=""
 else
   echo "configure: failed program was:" >&5
   cat conftest.$ac_ext >&5
@@ -8122,10 +8122,7 @@
 fi
 
 	if ( test -n "$JAVAINCLUDES"); then
-		for i in `ls -l $JAVAPATH/include | grep drw | awk '{print $9}'`
-		do
-			JAVAINCLUDES="$JAVAINCLUDES -I$JAVAPATH/include/$i"
-		done
+		JAVAINCLUDES="$JAVAINCLUDES -I`dirname $JAVAPATH/include/*/jni_md.h`"
 	fi
 fi
 
