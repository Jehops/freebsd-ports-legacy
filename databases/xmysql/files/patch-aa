--- Makefile.orig	Sun Nov 16 03:23:08 1997
+++ Makefile	Thu Jan 29 13:23:58 1998
@@ -36,24 +36,24 @@
 PROGRAM = 	xmysql
 
 # PROGRAM install path
-INSTALLPATH = /xmysql-1.7
+INSTALLPATH = ${PREFIX}/bin
 
 # pixmap location
-XMYSQL_XPMPATH = /xmysql-1.7
+XMYSQL_XPMPATH = ${X11BASE}/include/X11/pixmaps
 
 # help path
-XMYSQL_HELPPATH = /xmysql-1.7
+XMYSQL_HELPPATH = ${X11BASE}/lib/X11/xmysql
 
 # Compilation Details
-CC = gcc
-STDCFLAGS = -g -c -O2 -Wall -DXMYSQL_XPMPATH=\"$(XMYSQL_XPMPATH)\" -DXMYSQL_HELPPATH=\"$(XMYSQL_HELPPATH)\"
+#CC = gcc
+STDCFLAGS = $(CFLAGS) -DXMYSQL_XPMPATH=\"$(XMYSQL_XPMPATH)\" -DXMYSQL_HELPPATH=\"$(XMYSQL_HELPPATH)\"
 STDLFLAGS = 
 MYSQLINC = -I/usr/local/include/mysql
 MYSQLLOAD = -L/usr/local/lib/mysql -lmysqlclient -lmysys -ldbug -lmystrings
-XFORMLIBDIR = -L/usr/lib
-XFORMINCDIR = -I/usr/include
+XFORMLIBDIR = -L${X11BASE}/lib
+XFORMINCDIR = -I${X11BASE}/include
 XINC = 
-XLOAD = -L/usr/X11R6/lib  -lX11
+XLOAD = -L${X11BASE}/lib  -lX11
 
 # objects needed for the program
 OBJS =  Xmysql.o \
@@ -61,20 +61,22 @@
 	Xmysql_cb.o \
 	XmysqlDB.o \
 	XmysqlErr.o
+
+all: ${PROGRAM}
  
 ${PROGRAM}: $(OBJS)
 	$(CC) -o ${PROGRAM} $(OBJS) $(MYSQLINC) $(XFORMINCDIR) \
 	$(XINC) $(STDLFLAGS) $(MYSQLLOAD) \
-	$(XLOAD) $(XFORMLIBDIR) -lforms -lXpm -lm
+	$(XLOAD) $(XFORMLIBDIR) -lxforms -lXpm -lm
 
 .c.o:
-	$(CC) $*.c $(STDCFLAGS) $(XFORMINCDIR) $(MYSQLINC) $(XINC)
+	$(CC) -c $*.c $(STDCFLAGS) $(XFORMINCDIR) $(MYSQLINC) $(XINC)
 
 clean:
 	rm -f ${PROGRAM} $(OBJS) 
 
 install:
-	install --mode=711 $(PROGRAM) $(INSTALLPATH)
-	install --mode=744 mysql.xpm $(XPMPATH)
-	install --mode=744 sqlhelp.txt $(HELPPATH) 
-
+	install -s -m 511 $(PROGRAM) $(INSTALLPATH)
+	install -m 444 mysql.xpm $(XMYSQL_XPMPATH)
+	install -d -m 755 $(XMYSQL_HELPPATH)
+	install -m 444 sqlhelp.txt $(XMYSQL_HELPPATH)
