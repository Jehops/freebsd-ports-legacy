--- src/mysql/Makefile.orig	Thu May  3 12:20:10 2001
+++ src/mysql/Makefile	Thu May  3 12:24:04 2001
@@ -7,17 +7,17 @@
 
 ####### Compiler, tools and options
 
-CC	=	gcc
-CXX	=	g++
-CFLAGS	=	-pipe -Wall -W -O2 -fPIC -DNO_DEBUG
-CXXFLAGS=	-pipe -Wall -W -O2 -fPIC -DNO_DEBUG
-INCPATH	=	-I../../pics -I../../include -I/usr/local/mysql/include/mysql -I$(QTDIR)/include
+CC	?=	gcc
+CXX	?=	g++
+CFLAGS	?=	-pipe -Wall -W -O2 -fPIC -DNO_DEBUG
+CXXFLAGS?=	-pipe -Wall -W -O2 -fPIC -DNO_DEBUG
+INCPATH	=	-I../../pics -I../../include -I${LOCALBASE}/include/mysql -I${X11BASE}/include/qt2
 LINK	=	g++
 LFLAGS	=	-shared -Wl,-soname,libmysqlui.so.1
-LIBS	=	-L$(QTDIR)/lib -L/usr/X11R6/lib -lmysqlclient -lqt -lXext -lX11 -lm
+LIBS	=	-L${LOCALBASE}/lib/mysql -L${X11BASE}/lib -lmysqlclient -lqt2 -lXext -lX11 -lm
 AR	=	ar cqs
 RANLIB	=	
-MOC	=	$(QTDIR)/bin/moc
+MOC	=	$(X11BASE)/bin/moc2
 
 TAR	=	tar -cf
 GZIP	=	gzip -9f
@@ -225,12 +225,10 @@
 		../../include/moc_popupcombobox.o \
 		../../include/moc_field.o
 DIST	=	
-TARGET	=	libmysqlui.so.1.0.0
+TARGET	=	libmysqlui.so.1
 TARGETA	=	../../lib/libmysqlui.a
-TARGETD	=	libmysqlui.so.1.0.0
+TARGETD	=	libmysqlui.so.1
 TARGET0	=	libmysqlui.so
-TARGET1	=	libmysqlui.so.1
-TARGET2	=	libmysqlui.so.1.0
 
 ####### Implicit rules
 
@@ -253,19 +251,15 @@
 
 ####### Build rules
 
-all: ../../lib/libmysqlui.so.1.0.0
+all: ../../lib/libmysqlui.so.1
 
-../../lib/libmysqlui.so.1.0.0: $(OBJECTS) $(OBJMOC) 
-	-rm -f $(TARGET) $(TARGET0) $(TARGET1) $(TARGET2)
+../../lib/libmysqlui.so.1: $(OBJECTS) $(OBJMOC) 
+	-rm -f $(TARGET) $(TARGET0)
 	$(LINK) $(LFLAGS) -o $(TARGETD) $(OBJECTS) $(OBJMOC) $(LIBS)
 	-ln -s $(TARGET) $(TARGET0)
-	-ln -s $(TARGET) $(TARGET1)
-	-ln -s $(TARGET) $(TARGET2)
 	-rm -f ../../lib/$(TARGET)
 	-rm -f ../../lib/$(TARGET0)
-	-rm -f ../../lib/$(TARGET1)
-	-rm -f ../../lib/$(TARGET2)
-	-mv $(TARGET) $(TARGET0) $(TARGET1) $(TARGET2) ../../lib/
+	-mv $(TARGET) $(TARGET0) ../../lib/
 
 staticlib: $(TARGETA)
 
