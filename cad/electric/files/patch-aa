This patch teaches it to respect our CFLAGS, the install
program and where to find the X11 header files. Besides,
it tells it a little bit about hier(7)

--- Makefile.in.orig	Tue Mar 21 19:44:46 2000
+++ Makefile.in	Thu May  4 02:16:35 2000
@@ -356,18 +356,19 @@
 BUILDOPTS = $(DEBUG)
 BUILDDIR = obj
 HDS = src/include
-EXTRA_CFLAGS = $(LANGCFLAGS) $(PROJCFLAGS) $(CADENCECFLAGS)
-CFLAGS = $(EXTRA_CFLAGS) $(DEBUG) -I$(HDS) $(MULTIPROCESSORCFLAGS)
+EXTRA_CFLAGS = $(LANGCFLAGS) $(PROJCFLAGS) $(CADENCECFLAGS) @CFLAGS@ -I$(X11BASE)/include
+CFLAGS = $(EXTRA_CFLAGS) $(DEBUG) -I$(HDS) $(MULTIPROCESSORCFLAGS) 
 XCFLAGS = @X_CFLAGS@ $(CFLAGS) $(TIFFLAGS) $(XPOWER)
 INSTALL = cp
-INSTALL_PROGRAM = $(INSTALL)
-INSTALL_DATA = $(INSTALL)
+INSTALL_PROGRAM = $(BSD_INSTALL_PROGRAM)
+INSTALL_DATA = $(BSD_INSTALL_DATA)
+INSTALL_DIR = $(HACK_INSTALL_DIR)
 prefix = @prefix@
 exec_prefix = @exec_prefix@
 LIBS = @X_PRE_LIBS@ @X_LIBS@ $(XTLIBS) -lX11 -lm @X_EXTRA_LIBS@
 
 # the target of the build
-electric: $(CORE_OBJS)
+all: $(CORE_OBJS)
 	$(COMPILER) $(BUILDOPTS) -o electric $(CORE_OBJS) $(LIBS)
  
 clean:
@@ -422,15 +423,17 @@
 	rm -f src/usr/*~ src/usr/"#"*"#"
 	rm -f src/vhdl/*~ src/vhdl/"#"*"#"
 
-install: all $(prefix)/electric $(prefix)/electric/lib
+install: all @datadir@/electric @datadir@/electric/lib
 	$(INSTALL_PROGRAM) electric @bindir@/electric
-	$(INSTALL_DATA) lib/* $(prefix)/electric/lib
-	$(INSTALL_DATA) lib/.cadrc $(prefix)/electric/lib
+	$(INSTALL_DATA) lib/*.help @datadir@/electric/lib
+	$(INSTALL_DATA) lib/*.mac @datadir@/electric/lib
+	$(INSTALL_DATA) lib/*.txt @datadir@/electric/lib
+	$(INSTALL_DATA) lib/.cadrc @datadir@/electric/lib
 
-$(prefix)/electric:
-	mkdir $(prefix)/electric
-$(prefix)/electric/lib:
-	mkdir $(prefix)/electric/lib
+@datadir@/electric:
+	$(INSTALL_DIR) @datadir@/electric
+@datadir@/electric/lib:
+	$(INSTALL_DIR) @datadir@/electric/lib
 
 uninstall:
 	rm -f @bindir@/electric
