--- Makefile.orig	Sun Jan 25 22:33:34 2004
+++ Makefile	Tue Sep  6 13:50:01 2005
@@ -43,28 +43,28 @@
 
 DEPEND = .depend-
 DEPFILES = $(SOURCES1:%.cpp=$(DEPEND)%.dep)
-CXX = g++
+CXX ?= g++
 CXXF = -Wall -O2 -g
-CXXFLAGS = -fno-rtti -fno-exceptions $(CXXF) $(INCLUDES)
+CXXFLAGS ?= -fno-rtti -fno-exceptions $(CXXF) $(INCLUDES)
 LIBS = -lz
 
 $(TARGET1): $(OBJECTS1)
-	$(CXX) -o $@ $^ $(LIBS)
+	$(CXX) $(CXXFLAGS) -o $@ $^ $(LIBS)
 
 $(OBJECTS1): %.o: $(SRCDIR)%.cpp $(DEPEND)%.dep
 	$(CXX) $(CXXFLAGS) -o $@ -c $<
 
 $(DEPFILES): $(DEPEND)%.dep: $(SRCDIR)%.cpp
-	$(CXX) $(INCLUDES) -M $< > $@
+	$(CXX) $(CXXFLAGS) $(INCLUDES) -M $< > $@
 
 -include $(DEPFILES)
 
 clean:
 	rm -f $(TARGETS) $(OBJECTS1) $(DEPFILES)
 
-all: install
+all: $(TARGET1) fig2sxd.1
 
-install: $(TARGET1) fig2sxd.1
+install:
 	install -d $(DESTDIR)/bin $(DESTDIR)/share/man/man1
 	install -m755 $(TARGET1) $(DESTDIR)/bin
 	install -m644 fig2sxd.1  $(DESTDIR)/share/man/man1
