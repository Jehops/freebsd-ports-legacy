#!/bin/sh
#
# $FreeBSD$

export JAVA_VERSION
export JAVA_OS

# java
JAVA_VERSION="%%JAVA_VERSION%%"
JAVA_OS="%%JAVA_OS%%"

ECLIPSE_BASE=%%LOCALBASE%%/eclipse
ECLIPSE_SWT=`find "${ECLIPSE_BASE}" -name '*swt.*' -type d | grep -e "plugins/org.eclipse.swt.[motif|gtk]" | head -n 1`
ECLIPSE_WS=`echo "${ECLIPSE_SWT}" | sed -e "s+^${ECLIPSE_BASE}/plugins/org.eclipse.swt.++" -e "s+_.*$++"`
ECLIPSE_SWT_JAR=${ECLIPSE_SWT}/ws/${ECLIPSE_WS}
LIB_PATH=${ECLIPSE_SWT}/os/freebsd/x86/

CLASS_PATH=:%%JAVAJARDIR%%/%%JARFILE%%:${ECLIPSE_SWT_JAR}/swt-pi.jar:${ECLIPSE_SWT_JAR}/swt.jar

if [ "${DEBUG}" ]
then
	echo "ECLIPSE_BASE = ${ECLIPSE_BASE}"
	echo "ECLIPSE_WS = ${ECLIPSE_WS}"
	echo "ECLIPSE_SWT = ${ECLIPSE_SWT}"
	echo "ECLIPSE_SWT_JAR = ${ECLIPSE_SWT_JAR}"
	echo "CLASS_PATH = ${CLASS_PATH}"
	echo "LIB_PATH = ${LIB_PATH}"
fi

exec "%%JAVA%%" -cp "${CLASS_PATH}" "-Djava.library.path=${LIB_PATH}" "-Dos.name=Linux" org.gudy.azureus2.ui.swt.Main "${@}"
