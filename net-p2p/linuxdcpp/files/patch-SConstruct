--- SConstruct.orig	Sat Mar 24 13:33:17 2007
+++ SConstruct	Sat Mar 24 18:13:16 2007
@@ -74,12 +74,24 @@
 	conf_dir = 'build/sconf',
 	log_file = 'build/sconf/config.log')
 
+if os.environ.has_key('CC'):
+	env['CC'] = os.environ['CC']
+
 if os.environ.has_key('CXX'):
 	env['CXX'] = os.environ['CXX']
 
+if os.environ.has_key('CCFLAGS'):
+	env['CCFLAGS'] = os.environ['CCFLAGS'].split()
+
 if os.environ.has_key('CXXFLAGS'):
 	env['CXXFLAGS'] = os.environ['CXXFLAGS'].split()
 
+if os.environ.has_key('CPPPATH'):
+	env['CPPPATH'] = os.environ['CPPPATH'].split()
+
+if os.environ.has_key('LIBPATH'):
+	env['LIBPATH'] = os.environ['LIBPATH'].split()
+
 env.SConsignFile('build/sconf/.sconsign')
 opts.Save('build/sconf/scache.conf', env)
 Help(opts.GenerateHelpText(env))
@@ -125,11 +137,6 @@
 		Exit(1)
 
 	if not conf.CheckHeader('unistd.h'):
-		Exit(1)
-
-	if not conf.CheckLibWithHeader('pthread', 'pthread.h', 'c'):
-		print '\tpthread library not found'
-		print '\tNote: You might have the lib but not the headers'
 		Exit(1)
 
 	if not conf.CheckLibWithHeader('z', 'zlib.h', 'c'):
