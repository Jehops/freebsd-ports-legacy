--- scripts/deluge.orig	2007-12-29 23:24:53.000000000 -0600
+++ scripts/deluge	2007-12-29 23:27:45.000000000 -0600
@@ -62,6 +62,12 @@
                 os.environ["LD_LIBRARY_PATH"] = "/usr/lib/firefox"
                 os.system("/usr/bin/deluge %s &" % arguments)
                 raise SystemExit
+    if platform.system() == "FreeBSD":
+        if os.environ.get("MOZILLA_FIVE_HOME") != "%%GECKO_LIB%%":
+            os.environ["MOZILLA_FIVE_HOME"] = "%%GECKO_LIB%%"
+            os.environ["LD_LIBRARY_PATH"] = "%%GECKO_LIB%%"
+            os.system("%%PREFIX%%/bin/deluge %s &" % arguments)
+            raise SystemExit
 
 parser = OptionParser(usage="%prog [options] [torrents to add]", 
                       version=deluge.common.PROGRAM_VERSION)
