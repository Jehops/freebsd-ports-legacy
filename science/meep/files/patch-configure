--- configure.orig	2012-07-20 08:29:15.000000000 +0700
+++ configure	2013-04-18 23:46:39.000000000 +0700
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /usr/local/bin/bash
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by GNU Autoconf 2.69 for meep 1.2.
 #
@@ -772,6 +772,7 @@
 datadir
 datarootdir
 libexecdir
+libdatadir
 sbindir
 bindir
 program_transform_name
@@ -856,6 +857,7 @@
 bindir='${exec_prefix}/bin'
 sbindir='${exec_prefix}/sbin'
 libexecdir='${exec_prefix}/libexec'
+libdatadir='${exec_prefix}/libdata'
 datarootdir='${prefix}/share'
 datadir='${datarootdir}'
 sysconfdir='${prefix}/etc'
@@ -1247,7 +1249,7 @@
 fi
 
 # Check all directory arguments for consistency.
-for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
+for ac_var in	exec_prefix prefix bindir sbindir libexecdir libdatadir datarootdir \
 		datadir sysconfdir sharedstatedir localstatedir includedir \
 		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
 		libdir localedir mandir
@@ -9622,7 +9624,7 @@
 LIBTOOL_DEPS="$ltmain"
 
 # Always use our own libtool.
-LIBTOOL='$(SHELL) $(top_builddir)/libtool'
+LIBTOOL='/usr/local/bin/bash $(top_builddir)/libtool'
 
 
 
@@ -25552,7 +25554,7 @@
 	ACTIVATE_READLINE="$ractivate"
 else
 	ractivate="(use-modules (ice-9 readline)) (activate-readline)"
-	if guile -c "$ractivate" >& /dev/null; then
+	if guile -c "$ractivate" > /dev/null 2>&1; then
 	        { $as_echo "$as_me:${as_lineno-$LINENO}: result: ice-9 readline" >&5
 $as_echo "ice-9 readline" >&6; }
 	        ACTIVATE_READLINE="$ractivate"
