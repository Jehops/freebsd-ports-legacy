--- bin/cs_profile.orig	2007-11-23 18:35:59.000000000 +0100
+++ bin/cs_profile	2007-12-30 22:01:54.000000000 +0100
@@ -58,18 +58,33 @@
 
   if [ "$NOM_ARCH" = "OSF1" -o "$NOM_ARCH" = "Linux_CCRT" -o "$NOM_ARCH" = "Linux_IA64" ] ; then 
     PATHCS=/home/saturne/Saturne
+  elif [ "$NOM_ARCH" = "FreeBSD" ] ; then
+    PATHCS=%%LOCALBASE%%/Saturne
   elif [ "$NOM_ARCH" = "Blue_Gene_L" ] ; then 
     PATHCS=/gpfs2/home/saturne
   else
     PATHCS=/home/saturne
   fi
-  CS_HOME=${PATHCS}/Noyau/ncs-1.3.1
-  ECS_HOME=${PATHCS}/Enveloppe/ecs-1.3.1
-  CSGUI_HOME=${PATHCS}/Interface/ics-1.3.1
-  SYRCS_HOME=${PATHCS}/opt/syr_cs-2.0.1
+  if [ "$NOM_ARCH" = "FreeBSD" ] ; then
+    CS_HOME=${PATHCS}/Noyau/ncs
+    ECS_HOME=${PATHCS}/Enveloppe/ecs
+    CSGUI_HOME=${PATHCS}/Interface/ics
+    SYRCS_HOME=${PATHCS}/opt/syr_cs
+#   Variables specifiques a passer au Makefile FreeBSD par lance
+    LOCALBASE=%%LOCALBASE%% ; export LOCALBASE
+    FC=%%FC%% ; export FC
+    PTHREAD_LIBS=%%PTHREAD_LIBS%% ; export PTHREAD_LIBS
+  else
+    CS_HOME=${PATHCS}/Noyau/ncs-1.3.1
+    ECS_HOME=${PATHCS}/Enveloppe/ecs-1.3.1
+    CSGUI_HOME=${PATHCS}/Interface/ics-1.3.l
+    SYRCS_HOME=${PATHCS}/opt/syr_cs-2.0.1
+  fi
 #
   if [ "$NOM_ARCH" = "Linux" -a -d /home/prevalcs/HOMARD ] ; then
     CSHOMARD_HOME=/home/prevalcs/HOMARD
+  elif [ "$NOM_ARCH" = "FreeBSD" ] ; then
+    CSHOMARD_HOME=%%LOCALBASE%%/apps/homard
   else
     CSHOMARD_HOME=
   fi
@@ -93,6 +108,10 @@
     CS_MPI_PATH=/home/saturne/opt/openmpi-1.2.4/arch/Linux/bin
   elif [ "$NOM_ARCH" = "Linux_Ch" ] ; then
     CS_MPI_PATH=/usr/local/mpichgm-1.2.6.14b-64b/bin
+  elif [ "$NOM_ARCH" = "FreeBSD" ] ; then
+    MPI_HOME=%%MPI_HOME%% ; export MPI_HOME
+    MPI_LIBS=%%MPI_LIBS%% ; export MPI_LIBS
+    CS_MPI_PATH=${MPI_HOME}/bin
   else
     CS_MPI_PATH=
   fi
