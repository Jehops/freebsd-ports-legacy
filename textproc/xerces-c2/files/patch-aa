--- samples/runConfigure.orig	Mon May 12 09:44:18 2003
+++ samples/runConfigure	Tue Feb 17 20:26:46 2004
@@ -262,8 +262,13 @@ else
                ;;
         esac
     elif test $platform = "freebsd"; then
-        threadingLibs="-pthread -lc_r"
-        threadingDefines="-D_THREAD_SAFE -DXML_USE_PTHREADS"
+      if test -n "${PTHREAD_LIBS}" ; then
+        threadingLibs="${PTHREAD_LIBS}"
+        threadingDefines="${PTHREAD_CFLAGS} -DXML_USE_PTHREADS"
+      else
+        threadingLibs="-lpthread"
+        threadingDefines="-DXML_USE_PTHREADS"
+      fi
     elif test $platform = "netbsd"; then
         threadingLibs="-pthread"
         threadingDefines="-D_THREAD_SAFE -DXML_USE_PTHREADS"
--- src/xercesc/runConfigure.orig	Tue Feb 17 20:05:09 2004
+++ src/xercesc/runConfigure	Tue Feb 17 20:27:13 2004
@@ -303,8 +303,13 @@ else
                ;;
         esac
     elif test $platform = "freebsd"; then
-        threadingLibs="-pthread -lc_r"
+      if test -n "${PTHREAD_LIBS}" ; then
+        threadingLibs="${PTHREAD_LIBS}"
+        threadingDefines="${PTHREAD_CFLAGS} -DXML_USE_PTHREADS"
+      else
+        threadingLibs="-lpthread"
         threadingDefines="-D_THREAD_SAFE -DXML_USE_PTHREADS"
+      fi
     elif test $platform = "netbsd"; then
         threadingLibs="-pthread -lpthread"
         threadingDefines="-D_THREAD_SAFE -DXML_USE_PTHREADS"
