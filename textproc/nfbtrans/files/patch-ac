--- nfbpatch.c.orig	Thu May 24 08:41:34 2001
+++ nfbpatch.c	Mon May  9 17:48:33 2005
@@ -21,7 +21,9 @@
 #include <unistd.h>
 
 #define CASE_SHIFT 32   /* diference between upper and lower case */
+#ifndef freebsd
 #define SYSVR4     /* use with gcc and solaris 2.1 see getpgrp. */
+#endif
 #ifdef ultrix
 #define ECHOCTL TCTLECH
 #endif
@@ -88,7 +90,7 @@
   int i;
 
   i = tcgetpgrp(0);/* Use stdin as the file descriptor */
-#ifdef SYSVR4
+#if defined(SYSVR4) || defined(freebsd)
   if (i == getpgrp())
     return (1);
 #else
