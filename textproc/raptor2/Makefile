# ex:ts=8
# New ports collection makefile for:	raptor
# Date created:			Nov 22, 2001
# Whom:				ijliao
#
# $FreeBSD$
#

PORTNAME=	raptor
PORTVERSION=	0.9.9
PORTREVISION=	0
CATEGORIES=	textproc
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE} \
		http://www.redland.opensource.ac.uk/dist/source/
MASTER_SITE_SUBDIR=	librdf

MAINTAINER=	ports@FreeBSD.org
COMMENT=	RDF Parser Toolkit for Redland

LIB_DEPENDS=	xml2.5:${PORTSDIR}/textproc/libxml2 \
		xmlparse.1:${PORTSDIR}/www/libwww \
		curl.2:${PORTSDIR}/ftp/curl

LIBWWW_CONFIG=	${LOCALBASE}/bin/libwww-config

USE_LIBTOOL=	yes
CONFIGURE_ENV=	CPPFLAGS="${CPPFLAGS}" LDFLAGS="${LDFLAGS}"
CONFIGURE_ARGS=	--with-xml-parser=libxml
INSTALLS_SHLIB=	yes

MAN1=		rapper.1 raptor-config.1
MAN3=		libraptor.3

CPPFLAGS=	-I${LOCALBASE}/include `${LIBWWW_CONFIG} --cflags`
LDFLAGS=	-L${LOCALBASE}/lib `${LIBWWW_CONFIG} --libs`

.if !exists(/usr/include/getopt.h)
LIB_DEPENDS+=	gnugetopt.1:${PORTSDIR}/devel/libgnugetopt
LDFLAGS+=	-lgnugetopt
.endif

.include <bsd.port.mk>
