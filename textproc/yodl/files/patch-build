--- build.orig	2007-02-12 20:01:56.000000000 +0100
+++ build	2009-03-04 19:27:30.000000000 +0100
@@ -28,11 +28,15 @@
     buildIn("macros",   "std", "");     // and the std conversions
     
     buildIn("manual",   "docmacros", "");// macrolist for the manual
-    buildIn("manual",   "manual", "");  // create the manual
 
     buildIn("man",      "man", "");     // create the manpages
 }
 
+void doc()
+{
+    buildIn("manual",   "manual", "");  // create the manual
+}
+
 void install(string where)
 {
     system("mkdir -p " + where);
@@ -40,6 +44,10 @@
     buildIn("src",      "install",  where + "/bin");
     buildIn("macros",   "install",  where + "/share/yodl");
     buildIn("man",      "install",  where + "/share/man");
+}
+
+void install_doc(string where)
+{
     buildIn("manual",   "install",  where + "/share/doc");
 
     exec("cp", "-r", 
@@ -74,8 +82,12 @@
         cleanup();
     else if (arg1 == "install")
         install(element(2, argv));
+    else if (arg1 == "install_doc")
+	install_doc(element(2, argv));
     else if (arg1 == "package")
         package();
+    else if (arg1 == "doc")
+	doc();
     else
     {
         printf("request `", arg1, "' not yet available\n");
