*** main.c.orig	Sat Mar 14 16:22:10 1992
--- main.c	Fri Jan 14 09:56:45 2000
***************
*** 16,24 ****
  #include <signal.h>
  #include <setjmp.h>
  #include <math.h>
! #ifdef VMS
  #include <stdlib.h>
  #endif
  #include "astro.h"
  #include "circum.h"
  #include "screen.h"
--- 16,25 ----
  #include <signal.h>
  #include <setjmp.h>
  #include <math.h>
! #if defined(VMS) || defined(unix)
  #include <stdlib.h>
  #endif
+ #include <time.h>
  #include "astro.h"
  #include "circum.h"
  #include "screen.h"
***************
*** 51,57 ****
--- 52,62 ----
  
  static jmp_buf fpe_err_jmp;	/* used to recover from SIGFPE */
  static char *cfgfile;		/* !0 if -c used */
+ #ifdef unix
+ static char cfgdef[] = PREFIX "/share/ephem/ephem.cfg"; /* default configuration file name */
+ #else
  static char cfgdef[] = "ephem.cfg"; /* default configuration file name */
+ #endif
  static Now now;		/* where when and how, right now */
  static double tminc;	/* hrs to inc time by each loop; RTC means use clock */
  static int nstep;	/* steps to go before stopping */
***************
*** 1006,1012 ****
   */
  slp_sync()
  {
! 	extern long time();
  
  	if (spause > 0 && !plot_ison() && !srch_ison() && !listing_ison()) {
  	    int n;
--- 1011,1017 ----
   */
  slp_sync()
  {
! 	/*extern long time();*/
  
  	if (spause > 0 && !plot_ison() && !srch_ison() && !listing_ison()) {
  	    int n;
