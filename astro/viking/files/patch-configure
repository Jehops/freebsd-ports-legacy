--- configure.orig	2011-03-22 22:22:02.000000000 +0300
+++ configure	2011-03-22 22:22:13.000000000 +0300
@@ -8239,9 +8239,9 @@
 $as_echo "$ac_cv_enable_realtimegpstracking" >&6; }
 case $ac_cv_enable_realtimegpstracking in
   yes)
-    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for gps_poll in -lgps" >&5
-$as_echo_n "checking for gps_poll in -lgps... " >&6; }
-if test "${ac_cv_lib_gps_gps_poll+set}" = set; then :
+    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for gps_read in -lgps" >&5
+$as_echo_n "checking for gps_read in -lgps... " >&6; }
+if test "${ac_cv_lib_gps_gps_read+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -8255,27 +8255,27 @@
 #ifdef __cplusplus
 extern "C"
 #endif
-char gps_poll ();
+char gps_read ();
 int
 main ()
 {
-return gps_poll ();
+return gps_read ();
   ;
   return 0;
 }
 _ACEOF
 if ac_fn_c_try_link "$LINENO"; then :
-  ac_cv_lib_gps_gps_poll=yes
+  ac_cv_lib_gps_gps_read=yes
 else
-  ac_cv_lib_gps_gps_poll=no
+  ac_cv_lib_gps_gps_read=no
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gps_gps_poll" >&5
-$as_echo "$ac_cv_lib_gps_gps_poll" >&6; }
-if test "x$ac_cv_lib_gps_gps_poll" = x""yes; then :
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gps_gps_read" >&5
+$as_echo "$ac_cv_lib_gps_gps_read" >&6; }
+if test "x$ac_cv_lib_gps_gps_read" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBGPS 1
 _ACEOF
