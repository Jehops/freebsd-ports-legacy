--- src/pedit.c.orig	Thu Oct  5 11:50:50 1995
+++ src/pedit.c	Sun Nov 19 16:54:27 1995
@@ -394,38 +394,34 @@
     }
 }
 
-#define MAX_REFS	8
 static int print_references_header(FILE *fp, ARTICLE *art)
 {
-    ARTICLE	*arts[MAX_REFS + 2];
-    int		i = MAX_REFS + 1, col, rows;
+    ARTICLE	**arts, *a;
+    int		i, j;
 
+    j = 0;
+    a = art;
     do {
-	arts[i--] = art;
-	art = A_PARENT(art);
-    } while (i > 0 && art);
-
-    if (art) {
-	while (A_PARENT(art))
-	    art = A_PARENT(art);
-	arts[i] = art;
-    } else {
-	i++;
-    }
-
-    rows = 1;
-    col = 11 + fprintf(fp, " <%s>", arts[i++]->msgid);
-    while (i < MAX_REFS + 2) {
-	if (col + arts[i]->hash_len > 75) {
-	    rows++;
-	    fprintf(fp, "\n ");
-	    col = 1;
-	}
-	col += fprintf(fp, " <%s>", arts[i++]->msgid);
-    }
-    fprintf(fp, "\n");
+	a = A_PARENT(a);
+	j++;
+    } while (a);
 
-    return rows;
+    arts = (ARTICLE **)XtMalloc(sizeof(ARTICLE *) * j);
+
+    a = art;
+    i = j;
+    do {
+	arts[--i] = a;
+	a = A_PARENT(a);
+    } while(i);
+
+    for (i = 0; i < j; i++)
+	(void)fprintf(fp, " <%s>", arts[i]->msgid);
+    (void)fprintf(fp, "\n");
+
+    XtFree((char *)arts);
+
+    return 1;
 }
 
 static void print_attribution(FILE *fp, char *attr, ARTICLE *art)
