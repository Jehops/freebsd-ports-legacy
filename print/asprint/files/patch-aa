--- makefile.orig	Fri Mar 14 04:34:48 1997
+++ makefile	Mon Oct 12 19:17:11 1998
@@ -2,17 +2,18 @@
 
 CFLAGS = -O2
 CC = gcc
-XLIB = -L/usr/X11/lib  -lXaw3d -lXmu -lXt
-
+XLIB = -L$(X11BASE)/lib  -lXaw -lXmu -lXt
+.if $(PORTOBJFORMAT) == "elf"
+XLIB+= -Wl,-rpath,$(X11BASE)/lib
+.endif
 OBJS = asprint.o
-INCS = 
-
-default : asprint  ./makefile
-clean:
-	rm -f $(OBJS) *~ asprint core
+INCS = -I$(X11BASE)/include
 
 asprint: $(OBJS)
 	$(CC) -o asprint $(CFLAGS) $(OBJS) $(XLIB)
 
+clean:
+	rm -f $(OBJS) *~ asprint core
+
 .c.o: 
-	$(CC) $(CFLAGS) -c $<
+	$(CC) $(CFLAGS) -c $(INCS) $<
