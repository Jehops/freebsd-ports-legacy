--- Makefile.orig	Thu Jan 24 18:55:33 2002
+++ Makefile	Mon Apr  8 04:08:24 2002
@@ -10,7 +10,7 @@
 ##----------------------------------------------------------------------
 
 # Where local software is found
-prefix=/usr/local
+prefix = ${PREFIX}
 
 # Where info files go.
 infodir = $(prefix)/info
@@ -22,7 +22,7 @@
 aucdir=$(lispdir)/auctex
 
 # Name of your emacs binary
-EMACS=emacs
+EMACS ?= emacs
 
 ##----------------------------------------------------------------------
 ## YOU MAY NEED TO EDIT THESE
@@ -48,10 +48,13 @@
 AUTOC= $(ELC)
 
 # How to move the byte compiled files to their destination.  
-MV = mv
+MV = ${BSD_INSTALL_DATA}
 
-# How to copy the lisp files to their distination.
-CP = cp -p
+# How to copy the lisp files to their destination.
+CP = ${BSD_INSTALL_DATA}
+
+# How to create destination directories.
+MKDIR = mkdir -p -m 755
 
 ##----------------------------------------------------------------------
 ##  BELOW THIS LINE ON YOUR OWN RISK!
@@ -120,7 +123,7 @@
 # 	$(ELC) hilit-LaTeX.el         # Doesn't compile without X
 
 install-lisp:	some
-	if [ ! -d $(lispdir) ]; then mkdir $(lispdir); else true; fi ;
+	if [ ! -d $(lispdir) ]; then $(MKDIR) $(lispdir); else true; fi ;
 	if [ -f $(lispdir)/tex-site.el ]; \
 	then \
 	    echo "Leaving old tex-site.el alone."; \
@@ -128,17 +131,17 @@
 	    sed -e 's#@AUCDIR#$(aucdir)/#' tex-site.el \
 	    > $(lispdir)/tex-site.el ; \
         fi
-	if [ ! -d $(aucdir) ]; then mkdir $(aucdir); else true; fi ; 
+	if [ ! -d $(aucdir) ]; then $(MKDIR) $(aucdir); else true; fi ; 
 	if [ `/bin/pwd` != `(cd $(aucdir) && /bin/pwd)` ] ; \
 	then \
-	    if [ ! -d $(aucdir)/style ]; then mkdir $(aucdir)/style; \
+	    if [ ! -d $(aucdir)/style ]; then $(MKDIR) $(aucdir)/style; \
 	                                 else true; fi ; \
 	    $(MV) $(AUCELC) $(aucdir) ; \
 	    $(MV) style/*.elc $(aucdir)/style ; \
 	    $(CP) $(AUCSRC) $(aucdir) ; \
 	    $(CP) style/*.el $(aucdir)/style ; \
 	    touch $(aucdir)/style/.nosearch ; \
-	    if [ ! -d $(aucdir)/auto ]; then mkdir $(aucdir)/auto; \
+	    if [ ! -d $(aucdir)/auto ]; then $(MKDIR) $(aucdir)/auto; \
 	                                else true; fi ; \
 	    touch $(aucdir)/auto/.nosearch ; \
 	else \
@@ -198,9 +201,9 @@
 	-(cd style; auc add `echo $(STYLESRC) | sed -e s@style/@@g` )
 	cvs commit -m 'Release_$(TAG)'
 	cvs tag release_`echo $(TAG) | sed -e 's/[.]/_/g'`
-	mkdir auctex-$(TAG) 
-	mkdir auctex-$(TAG)/style
-	mkdir auctex-$(TAG)/doc 
+	$(MKDIR) auctex-$(TAG) 
+	$(MKDIR) auctex-$(TAG)/style
+	$(MKDIR) auctex-$(TAG)/doc 
 	cp $(AUCSRC) $(EXTRAFILES) auctex-$(TAG)
 	cp $(STYLESRC) auctex-$(TAG)/style
 	touch auctex-$(TAG)/style/.nosearch
