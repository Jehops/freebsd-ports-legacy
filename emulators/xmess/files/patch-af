$NetBSD: patch-af,v 1.2 1998/08/07 10:40:38 agc Exp $

--- src/unix/devices.c.orig	Wed Jun 17 05:48:00 1998
+++ src/unix/devices.c	Sat Jul  4 07:42:07 1998
@@ -60,7 +60,7 @@
 #elif  I386_JOYSTICK
 void i386_poll_joystick (void);
 /* specific joystick for PC clones */
-#ifdef netbsd_i386
+#ifdef __FreeBSD__
 #include <machine/joystick.h>
 extern struct joystick joy_data,joy_orig;
 #else
@@ -658,7 +658,7 @@
 {
 #if ( defined USE_JOYSTICK ) && ( defined  I386_JOYSTICK )
         int res;
-#ifdef netbsd_i386
+#ifdef __FreeBSD__
 	res = read(joy_fd,&joy_data,sizeof(struct joystick) );
 	if (res == sizeof(struct joystick )) {
 #else
@@ -666,7 +666,7 @@
 	if (res == sizeof(struct JS_DATA_TYPE )) {
 #endif
 	/* get value of buttons */
-#ifdef netbsd_i386
+#ifdef __FreeBSD__
 	    joy_b1 = joy_data.b1;
 	    joy_b2 = joy_data.b2;
 #else
