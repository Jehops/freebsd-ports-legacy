--- dlxsim/sim.c.orig	Sun Sep 22 09:32:12 2002
+++ dlxsim/sim.c	Sun Sep 22 10:20:30 2002
@@ -22,7 +22,7 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
-#include <values.h>
+#include <limits.h>
 #include <tcl.h>
 #include "asm.h"
 #include "dlx.h"
@@ -2522,7 +2522,7 @@
     break;
   }
     
-  for (i = 0, soonest = MAXINT; i < num_units; i++) {
+  for (i = 0, soonest = INT_MAX; i < num_units; i++) {
     if (!(j = machPtr->fp_units[unitType][i])) break;
     else if (j < soonest) soonest = j;
   }
@@ -2832,8 +2832,11 @@
 
 static char *errstring()
 {
+/*
 	extern int errno, sys_nerr;
 	extern char *sys_errlist[];
+*/
+	extern int errno;
 	static char msgbuf[64];
 
 	if( !errno )
@@ -2842,7 +2845,7 @@
 		sprintf( msgbuf, "unknown error %d", errno );
 		return msgbuf;
 	}
-	return sys_errlist[ errno ];
+	return (char *)(sys_errlist[ errno ]);
 }
 
 /*
