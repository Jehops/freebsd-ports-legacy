--- configure.orig	Mon Oct  3 00:50:43 2005
+++ configure	Tue Oct 25 11:03:40 2005
@@ -11670,7 +11670,8 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lesd $SOUND_LIBS $LIBS"
+LIBS="`esd-config --libs` $SOUND_LIBS $LIBS"
+CPPFLAGS="`esd-config --cflags` $CPPFLAGS"
 cat >conftest.$ac_ext <<_ACEOF
 #line $LINENO "configure"
 /* confdefs.h.  */
@@ -11720,7 +11721,7 @@
 echo "${ECHO_T}$ac_cv_lib_esd_esd_open_sound" >&6
 if test $ac_cv_lib_esd_esd_open_sound = yes; then
   SOUND_DRIVERS="$SOUND_DRIVERS soundesd.o";
-                      SOUND_LIBS="$SOUND_LIBS -lesd"; break
+                      SOUND_LIBS="$SOUND_LIBS `esd-config --libs`"; break
 fi
 
 fi
@@ -11735,7 +11736,7 @@
     CFLAGS="$CFLAGS `sdl-config --cflags`"
     LIBS="$LIBS `sdl-config --libs`"
 
-for ac_header in SDL/SDL_audio.h
+for ac_header in SDL/SDL_audio.h SDL_audio.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
@@ -11877,7 +11878,8 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lSDL $SOUND_LIBS $LIBS"
+LIBS="`sdl-config --libs` $SOUND_LIBS $LIBS"
+CFLAGS="`sdl-config --cflags` $CFLAGS"
 cat >conftest.$ac_ext <<_ACEOF
 #line $LINENO "configure"
 /* confdefs.h.  */
--- src/sounddrv/soundsdl.c.orig	Sat Jan 12 21:35:58 2002
+++ src/sounddrv/soundsdl.c	Fri Feb 14 03:13:41 2003
@@ -26,7 +26,7 @@
 
 /* XXX: includes */
 
-#include <SDL/SDL_audio.h>
+#include <SDL_audio.h>
 #include <unistd.h>
 
 #include "vice.h"
