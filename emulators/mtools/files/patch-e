--- floppyd.c.orig	Sat Jun  5 15:54:11 1999
+++ floppyd.c	Sat Jun  5 15:55:41 1999
@@ -668,7 +668,7 @@
 	/*
 	 * Ignore dead servers so no zombies should be left hanging.
 	 */
-	signal(SIGCLD, SIG_IGN);
+	signal(SIGCHLD, SIG_IGN);
 
 	for (;;) {
 		int					new_sock;
@@ -972,7 +972,7 @@
 							 * Start a new session and group.
 							 */
 							setsid();
-							setpgrp();
+							setpgrp(0, 0);
 #ifndef DEBUG
 							close(2);
 							open("/dev/null", O_WRONLY);
