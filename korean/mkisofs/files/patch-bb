--- mkisofs/tree.c.orig	Thu Apr 27 11:44:57 2000
+++ mkisofs/tree.c	Sat Apr 29 11:34:23 2000
@@ -538,8 +538,8 @@
 			table->de_flags |= INHIBIT_JOLIET_ENTRY;
 /*      	table->name = strdup("<translation table>");*/
 		table->name = strdup(trans_tbl);
-		table->table = (char *) e_malloc(ISO_ROUND_UP(tablesize));
-		memset(table->table, 0, ISO_ROUND_UP(tablesize));
+		table->table = (char *) e_malloc(ISO_ROUND_UP(tablesize+1));
+		memset(table->table, 0, ISO_ROUND_UP(tablesize+1));
 		iso9660_file_length(trans_tbl, table, 0);
 
 		if (use_RockRidge) {
