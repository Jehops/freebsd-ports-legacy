--- unix-gcc.mak.orig	Sun Oct 11 23:43:16 1998
+++ unix-gcc.mak	Sun Oct 11 23:46:51 1998
@@ -135,7 +135,7 @@
 # You may need to change this if the IJG library version changes.
 # See jpeg.mak for more information.
 
-JSRCDIR=jpeg-6a
+JSRCDIR=jpeg-6b
 JVERSION=6
 
 # Define the directory where the PNG library sources are stored,
@@ -156,7 +156,7 @@
 # Define the directory where the zlib sources are stored.
 # See zlib.mak for more information.
 
-ZSRCDIR=zlib
+ZSRCDIR=.
 
 # Choose whether to use a shared version of the zlib library, and if so,
 # what its name is (usually libz, but sometimes libgz).
@@ -181,7 +181,7 @@
 
 # Define the name of the C compiler.
 
-CC=gcc
+CC=cc
 
 # Define the name of the linker for the final link step.
 # Normally this is the same as the C compiler.
@@ -206,14 +206,14 @@
 # We don't include -ansi, because this gets in the way of the platform-
 #   specific stuff that <math.h> typically needs; nevertheless, we expect
 #   gcc to accept ANSI-style function prototypes and function definitions.
-XCFLAGS=
+XCFLAGS= -I$(prefix)/include
 
 CFLAGS=-O $(GCFLAGS) $(XCFLAGS)
 
 # Define platform flags for ld.
 # SunOS 4.n may need -Bstatic.
 # XLDFLAGS can be set from the command line.
-XLDFLAGS=
+XLDFLAGS= -L$(prefix)/lib
 
 LDFLAGS=$(XLDFLAGS)
 
@@ -223,7 +223,7 @@
 # SVR4 may need -lnsl.
 # (Libraries required by individual drivers are handled automatically.)
 
-EXTRALIBS=
+EXTRALIBS=-lz
 
 # Define the include switch(es) for the X11 header files.
 # This can be null if handled in some other way (e.g., the files are
@@ -233,7 +233,7 @@
 # Note that x_.h expects to find the header files in $(XINCLUDE)/X11,
 # not in $(XINCLUDE).
 
-XINCLUDE=-I/usr/local/X/include
+XINCLUDE=-I/usr/X11R6/include
 
 # Define the directory/ies and library names for the X11 library files.
 # XLIBDIRS is for ld and should include -L; XLIBDIR is for LD_RUN_PATH
@@ -248,8 +248,8 @@
 #XLIBS=Xt SM ICE Xext X11
 
 #XLIBDIRS=-L/usr/local/X/lib
-XLIBDIRS=-L/usr/X11/lib
-XLIBDIR=
+XLIBDIRS=-L/usr/X11R6/lib
+XLIBDIR=/usr/X11R6/lib
 XLIBS=Xt Xext X11
 
 # Define whether this platform has floating point hardware:
@@ -292,22 +292,22 @@
 
 # Choose the device(s) to include.  See devs.mak for details.
 
-DEVICE_DEVS=x11.dev x11alpha.dev x11cmyk.dev x11gray2.dev x11mono.dev
-DEVICE_DEVS1=
-DEVICE_DEVS2=
-DEVICE_DEVS3=deskjet.dev djet500.dev laserjet.dev ljetplus.dev ljet2p.dev ljet3.dev ljet4.dev
-DEVICE_DEVS4=cdeskjet.dev cdjcolor.dev cdjmono.dev cdj550.dev pj.dev pjxl.dev pjxl300.dev
-DEVICE_DEVS5=uniprint.dev
-DEVICE_DEVS6=bj10e.dev bj200.dev bjc600.dev bjc800.dev
-DEVICE_DEVS7=faxg3.dev faxg32d.dev faxg4.dev
-DEVICE_DEVS8=pcxmono.dev pcxgray.dev pcx16.dev pcx256.dev pcx24b.dev pcxcmyk.dev
-DEVICE_DEVS9=pbm.dev pbmraw.dev pgm.dev pgmraw.dev pgnm.dev pgnmraw.dev pnm.dev pnmraw.dev ppm.dev ppmraw.dev
-DEVICE_DEVS10=tiffcrle.dev tiffg3.dev tiffg32d.dev tiffg4.dev tifflzw.dev tiffpack.dev
-DEVICE_DEVS11=tiff12nc.dev tiff24nc.dev
-DEVICE_DEVS12=psmono.dev psgray.dev bit.dev bitrgb.dev bitcmyk.dev
-DEVICE_DEVS13=pngmono.dev pnggray.dev png16.dev png256.dev png16m.dev
-DEVICE_DEVS14=jpeg.dev jpeggray.dev
-DEVICE_DEVS15=pdfwrite.dev pswrite.dev epswrite.dev pxlmono.dev pxlcolor.dev
+#DEVICE_DEVS=x11.dev x11alpha.dev x11cmyk.dev x11gray2.dev x11mono.dev
+#DEVICE_DEVS1=
+#DEVICE_DEVS2=
+#DEVICE_DEVS3=deskjet.dev djet500.dev laserjet.dev ljetplus.dev ljet2p.dev ljet3.dev ljet4.dev
+#DEVICE_DEVS4=cdeskjet.dev cdjcolor.dev cdjmono.dev cdj550.dev pj.dev pjxl.dev pjxl300.dev
+#DEVICE_DEVS5=uniprint.dev
+#DEVICE_DEVS6=bj10e.dev bj200.dev bjc600.dev bjc800.dev
+#DEVICE_DEVS7=faxg3.dev faxg32d.dev faxg4.dev
+#DEVICE_DEVS8=pcxmono.dev pcxgray.dev pcx16.dev pcx256.dev pcx24b.dev pcxcmyk.dev
+#DEVICE_DEVS9=pbm.dev pbmraw.dev pgm.dev pgmraw.dev pgnm.dev pgnmraw.dev pnm.dev pnmraw.dev ppm.dev ppmraw.dev
+#DEVICE_DEVS10=tiffcrle.dev tiffg3.dev tiffg32d.dev tiffg4.dev tifflzw.dev tiffpack.dev
+#DEVICE_DEVS11=tiff12nc.dev tiff24nc.dev
+#DEVICE_DEVS12=psmono.dev psgray.dev bit.dev bitrgb.dev bitcmyk.dev
+#DEVICE_DEVS13=pngmono.dev pnggray.dev png16.dev png256.dev png16m.dev
+#DEVICE_DEVS14=jpeg.dev jpeggray.dev
+#DEVICE_DEVS15=pdfwrite.dev pswrite.dev epswrite.dev pxlmono.dev pxlcolor.dev
 
 # ---------------------------- End of options --------------------------- #
 
@@ -3681,8 +3681,8 @@
 libpng95.dev: $(LIBPNG_MAK) $(ECHOGS_XE) pngwio.$(OBJ) crc32.dev
 	$(SETMOD) libpng95 pngwio.$(OBJ) -include crc32
 
-libpng96.dev: $(LIBPNG_MAK) $(ECHOGS_XE) pngwio.$(OBJ) crc32.dev
-	$(SETMOD) libpng96 pngwio.$(OBJ) -include crc32
+libpng96.dev: $(LIBPNG_MAK) $(ECHOGS_XE) pngwio.$(OBJ)
+	$(SETMOD) libpng96 pngwio.$(OBJ)
 #    Copyright (C) 1995, 1996, 1997 Aladdin Enterprises.  All rights reserved.
 # 
 # This file is part of Aladdin Ghostscript.
@@ -3763,7 +3763,7 @@
 zlibe_1.dev: $(MAKEFILE) $(ZLIB_MAK) $(ECHOGS_XE)
 	$(SETMOD) zlibe_1 -lib $(ZLIB_NAME)
 
-zlibe_=adler32.$(OBJ) deflate.$(OBJ) trees.$(OBJ)
+zlibe_=
 zlibe_0.dev: $(ZLIB_MAK) $(ECHOGS_XE) zlibc.dev $(zlibe_)
 	$(SETMOD) zlibe_0 $(zlibe_)
 	$(ADDMOD) zlibe_0 -include zlibc
@@ -3810,11 +3810,11 @@
 
 zlibd1_=infblock.$(OBJ) infcodes.$(OBJ) inffast.$(OBJ)
 zlibd2_=inflate.$(OBJ) inftrees.$(OBJ) infutil.$(OBJ)
-zlibd_ = $(zlibd1_) $(zlibd2_)
-zlibd_0.dev: $(ZLIB_MAK) $(ECHOGS_XE) zlibc.dev $(zlibd_)
-	$(SETMOD) zlibd_0 $(zlibd1_)
-	$(ADDMOD) zlibd_0 -obj $(zlibd2_)
-	$(ADDMOD) zlibd_0 -include zlibc
+zlibd_ =
+zlibd_0.dev: $(ZLIB_MAK) $(ECHOGS_XE) zlibc.dev
+	$(SETMOD) zlibd_0
+	$(ADDMOD) zlibd_0
+	$(ADDMOD) zlibd_0
 
 infblock.$(OBJ): $(ZSRC)infblock.c $(ZDEP) zutil.h
 	$(CP_) $(ZSRC)infblock.c .
@@ -4589,8 +4589,22 @@
 
 cdeskjet_=gdevcdj.$(OBJ) $(HPPCL)
 
+cdeskjet8_=gdevcd8.$(OBJ) $(HPPCL)
+
 cdeskjet.dev: $(cdeskjet_) page.dev
 	$(SETPDEV) cdeskjet $(cdeskjet_)
+
+cdj670.dev: $(cdeskjet8_) page.dev
+	$(SETPDEV) cdj670 $(cdeskjet8_)
+
+cdj850.dev: $(cdeskjet8_) page.dev
+	$(SETPDEV) cdj850 $(cdeskjet8_)
+
+cdj890.dev: $(cdeskjet8_) page.dev
+	$(SETPDEV) cdj890 $(cdeskjet8_)
+
+cdj1600.dev: $(cdeskjet8_) page.dev
+	$(SETPDEV) cdj1600 $(cdeskjet8_)
 
 cdjcolor.dev: $(cdeskjet_) page.dev
 	$(SETPDEV) cdjcolor $(cdeskjet_)
