--- johabcode2.c	2003-01-27 08:26:03.000000000 +0900
+++ johabcode2.c	2006-01-05 12:12:48.066094100 +0900
@@ -40,9 +40,10 @@ static iconv_t johab_to_utf8_cd = (iconv
 int
 johab_to_wansung(char *s, int johab)
 {
-    int in_len, out_len;
+    size_t in_len, out_len;
     char in[2];
-    char *in_p, *out_p;
+    const char *in_p;
+    char *out_p;
     if (johab < 128) {
 	*s = johab;
 	return 1;
@@ -67,9 +68,9 @@ int
 johab_to_wansung_str(char *s, char *johab, int len)
 {
     char *out_p = s;
-    char *in_p = johab;
-    int in_len = len;
-    int out_len = len;
+    const char *in_p = johab;
+    size_t in_len = len;
+    size_t out_len = len;
     if (johab_to_wan_cd == (iconv_t) -1) {
 	johab_to_wan_cd = iconv_open(CD_EUC_KR, CD_JOHAB);
 	if (johab_to_wan_cd == (iconv_t) -1) {
@@ -84,9 +85,10 @@ johab_to_wansung_str(char *s, char *joha
 int
 johab_from_wansung(char *s, int wansung)
 {
-    int in_len, out_len;
+    size_t in_len, out_len;
     char in[2];
-    char *in_p, *out_p;
+    const char *in_p;
+    char *out_p;
     if (wansung < 128) {
 	*s = wansung;
 	return 1;
@@ -111,9 +113,9 @@ int
 johab_from_wansung_str(char *s, char *wansung, int len)
 {
     char *out_p = s;
-    char *in_p = wansung;
-    int in_len = len;
-    int out_len = len;
+    const char *in_p = wansung;
+    size_t in_len = len;
+    size_t out_len = len;
     if (wan_to_johab_cd == (iconv_t) -1) {
 	wan_to_johab_cd = iconv_open(CD_JOHAB, CD_EUC_KR);
 	if (wan_to_johab_cd == (iconv_t) -1) {
@@ -155,9 +157,10 @@ johab_from_3(int cho, int jung, int jong
 int
 johab_to_utf8(char *s, int johab)
 {
-    int in_len, out_len;
+    size_t in_len, out_len;
     char in[2];
-    char *in_p, *out_p;
+    const char *in_p;
+    char *out_p;
     if (johab < 128) {
 	*s = johab;
 	return 1;
