--- Makefile.orig	Wed Dec 29 01:12:01 1999
+++ Makefile	Thu Mar  1 18:12:40 2001
@@ -9,8 +9,8 @@
 #
 
 # --- commands & flags
-CC	 = gcc
-CFLAGS	 = -O2
+#CC	 = gcc
+#CFLAGS	 = -O2
 CCOUT    = 
 LDFLAGS  =
 RM       = rm -f
@@ -19,8 +19,8 @@
 
 # --- installation files and directories
 CHASEN = chasen
-BINDIR = /usr/local/bin
-LIBDIR = /usr/local/lib/chasen
+BINDIR = $(PREFIX)/bin
+LIBDIR = $(PREFIX)/share/chasen
 MKDICDIR = $(LIBDIR)/mkchadic
 DICDIR = $(LIBDIR)/dic
 
@@ -42,7 +42,7 @@
 SHELL    = /bin/sh
 DEFS     = $(KOCHA) $(VGRAM) $(SJIS) $(NO_MMAP)
 MAKE     = make
-MFLAGS   = CC="$(CC)" CFLAGS="$(CFLAGS)" LDFLAGS="$(LDFLAGS)" RM="$(RM)" \
+MFLAGS   = CC="$(CC)" CFLAGS="$(CFLAGS) $(DEFS)" LDFLAGS="$(LDFLAGS)" RM="$(RM)" \
 	   YACC="$(YACC)" CHASEN="$(CHASEN)" CCOUT="$(CCOUT)" \
 	   NETLIBS="$(NETLIBS)" CHASEN_PORT="$(CHASEN_PORT)" \
 	   RANLIB="$(RANLIB)"
@@ -74,17 +74,17 @@
 	$(MAKE) VGRAM=
 
 chasen::
-	cd lib;      $(MAKE) $(MFLAGS) DEFS="$(DEFS)"
-	cd mkchadic; $(MAKE) $(MFLAGS) DEFS="$(DEFS)"
-	cd chasen;   $(MAKE) $(MFLAGS) DEFS="$(DEFS)"
+	cd lib;      $(MAKE) $(MFLAGS)
+	cd mkchadic; $(MAKE) $(MFLAGS)
+	cd chasen;   $(MAKE) $(MFLAGS)
 
 chasen.win::
 	cd lib
-	$(MAKE) $(MFLAGS) DEFS="$(DEFS)" win
+	$(MAKE) $(MFLAGS) win
 	cd ..\mkchadic
-	$(MAKE) $(MFLAGS) DEFS="$(DEFS)" win
+	$(MAKE) $(MFLAGS) win
 	cd ..\chasen
-	$(MAKE) $(MFLAGS) DEFS="$(DEFS)" win
+	$(MAKE) $(MFLAGS) win
 	cd ..
 
 dic::
