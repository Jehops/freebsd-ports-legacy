--- gs.c.orig	Mon May 24 17:17:30 1993
+++ gs.c	Mon May 31 17:55:14 1999
@@ -42,6 +42,15 @@
 #include "ostack.h"
 #include "store.h"
 #include "files.h"				/* requires stream.h */
+
+#ifdef _HAVE_PARAM_H
+#include <sys/param.h>
+#endif
+#if (defined(BSD) && (BSD>=199103))
+#include <floatingpoint.h>
+#endif
+
+
   
 #ifndef GS_LIB
 #  define GS_LIB "GS_LIB"
@@ -111,6 +120,10 @@
 main(int argc, const char *argv[])
 {	int argi;
 	char cstr[128];
+#if (defined(BSD) && (BSD>=199103))
+	fpsetmask(fpgetmask() & ~FP_X_INV);
+/* epag600 driver in gdevep82.c sometimes down with Floating exception. sorry..*/
+#endif
 	get_real();
 	gs_init0(real_stdin, real_stdout, real_stderr, argc);
 	   {	char *lib = getenv(GS_LIB);
@@ -356,6 +369,14 @@
 		   }
 		break;
 	   }
+#if (defined(BSD) && (BSD>=199103))
+#if defined(__FreeBSD__) && defined(i386)
+	fpresetsticky(FP_X_INV);
+#else
+	fpsetsticky(0);
+#endif
+	fpsetmask(fpgetmask() & FP_X_INV);
+#endif
 	return 0;
 }
 
