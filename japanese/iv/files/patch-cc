--- src/bin/ibuild/ibdialog.c.orig	Wed Oct 28 10:19:27 1992
+++ src/bin/ibuild/ibdialog.c	Wed Jul  9 23:23:46 2003
@@ -35,9 +35,20 @@
 #include <Unidraw/unidraw.h>
 #include <Unidraw/viewer.h>
 #include <Unidraw/catalog.h>
+#if __FreeBSD__ >= 2
+#include <osreldate.h>
+#if __FreeBSD_cc_version >= 400003
+#include <stdio.h>
+#endif
+#endif
 #include <stream.h>
 #include <string.h>
 
+#if (__FreeBSD_version > 500000)
+extern "C" {
+	extern int      sprintf(char * __restrict, const char * __restrict, ...);
+}
+#endif
 /*****************************************************************************/
 
 DialogClass::DialogClass (IBGraphic* gr) : MonoSceneClass(gr) {
@@ -380,7 +391,7 @@
     strcat(ButtonClass, "_Button");
     const char* proc = bsVar->GetFuncName();
     
-    boolean export = bsVar->GetExport();
+    boolean getexport = bsVar->GetExport();
     CodeView* kidview = GetKidView();
     MemberNameVar* kidname;
     if (kidview != nil) {
@@ -407,7 +418,7 @@
 
     out << "Interactor*" << coreclass;
     out << "::Interior() {\n";
-    if (export) {
+    if (getexport) {
         out << "    " << bsVar->GetName() << " = state;\n";
     } else {
         out << "    ButtonState* ";
