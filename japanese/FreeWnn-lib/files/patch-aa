diff -arcN ../Xsi.org/Wnn/jlib/js.c ./Wnn/jlib/js.c
*** ../Xsi.org/Wnn/jlib/js.c	Fri Aug 19 10:30:48 1994
--- ./Wnn/jlib/js.c	Tue Aug 20 21:39:15 1996
***************
*** 221,227 ****
  #endif
  	return -1;
      }
!     if (connect(sd,(caddr_t)&saddr,strlen(saddr.sun_path)+sizeof(saddr.sun_family)) == ERROR) {
  
  #if DEBUG
  	xerror("jslib:Can't connect socket.\n");
--- 221,227 ----
  #endif
  	return -1;
      }
!     if (connect(sd,(caddr_t)&saddr,SUN_LEN(&saddr)) == ERROR) {
  
  #if DEBUG
  	xerror("jslib:Can't connect socket.\n");
diff -arcN ../Xsi.org/Wnn/pubdic/Imakefile ./Wnn/pubdic/Imakefile
*** ../Xsi.org/Wnn/pubdic/Imakefile	Tue Aug 23 11:21:30 1994
--- ./Wnn/pubdic/Imakefile	Wed Aug 21 20:13:36 1996
***************
*** 96,106 ****
  instserver:: install
  
  WnnMakeDirectories(install,$(JWNNDICDIR))
! #if WnnInstallDicForcibly
  InstallMultiple($(DIC),$(JWNNPUBDICDIR))
  
  install::
! 	@for i in $(DICS); \
  	do \
  		$(WNNTOUCH) $(DESTDIR)$(JWNNPUBDICDIR)/$$i ;\
  	done
--- 96,112 ----
  instserver:: install
  
  WnnMakeDirectories(install,$(JWNNDICDIR))
! /*
!  * Bugfix.
!  * Because "NO" is same to "YES"!!
!  * And some additional bugfix.
!  * Patched by Hidekazu Kuroki(hidekazu@cs.titech.ac.jp)		1996/8/20
!  */
! #if (WnnInstallDicForcibly == YES)
  InstallMultiple($(DIC),$(JWNNPUBDICDIR))
  
  install::
! 	@for i in $(DIC); \
  	do \
  		$(WNNTOUCH) $(DESTDIR)$(JWNNPUBDICDIR)/$$i ;\
  	done
***************
*** 108,114 ****
--- 114,133 ----
  #else
  WnnInstallDicMultiple($(DIC),$(JWNNPUBDICDIR))
  #endif
+ 
+ #if (WnnInstallDicForcibly == YES)
  InstallMultiple($(FZKDATA),$(JWNNPUBDICDIR))
+ 
+ install::
+ 	@for i in $(FZKDATA); \
+ 	do \
+ 		$(WNNTOUCH) $(DESTDIR)$(JWNNPUBDICDIR)/$$i ;\
+ 	done
+ 
+ #else
+ WnnInstallDicMultiple($(FZKDATA),$(JWNNPUBDICDIR))
+ #endif
+ 
  InstallMultiple($(FZK_SRC),$(JWNNFZKSRCDIR))
  
  depend::
diff -arcN ../Xsi.org/Wnn/uum/jhlp.c ./Wnn/uum/jhlp.c
*** ../Xsi.org/Wnn/uum/jhlp.c	Fri Aug 19 10:32:12 1994
--- ./Wnn/uum/jhlp.c	Wed Aug 21 20:19:26 1996
***************
*** 771,777 ****
  #endif
      int pid;
  
!     if ((pid = wait3(&status, WNOHANG | WUNTRACED, NULL)) == child_id) {
  	if (WIFSTOPPED(status)) {
  #ifdef SIGCONT
  	    kill(pid, SIGCONT);
--- 771,782 ----
  #endif
      int pid;
  
! /*
!  * Remove warning.
!  * Patched by Hidekazu Kuroki(hidekazu@cs.titech.ac.jp)		1996/8/20
!  */
! /*  if ((pid = wait3(&status, WNOHANG | WUNTRACED, NULL)) == child_id) { */
!     if ((pid = wait3((int *)&status, WNOHANG | WUNTRACED, NULL)) == child_id) {
  	if (WIFSTOPPED(status)) {
  #ifdef SIGCONT
  	    kill(pid, SIGCONT);
***************
*** 1636,1642 ****
--- 1641,1656 ----
  char *b, *pty;
  int no;
  {
+ /*
+  * Change pseudo-devices.
+  * Because FreeBSD's master pseudo-devices are pty[p-sP-S][0-9a-v].
+  * Patched by Hidekazu Kuroki(hidekazu@cs.titech.ac.jp)		1996/8/20
+  */
+ #ifdef __FreeBSD__
+     sprintf(b, "%s%1c%1c", pty, "pqrsPQRS"[(no >> 5)], ((no & 0x1f > 9)? 'a' : '0') + (no & 0x1f));
+ #else /* ! __FreeBSD__ */
      sprintf(b, "%s%1c%1x", pty, 'p' + (no >> 4), no & 0x0f);
+ #endif /* ! __FreeBSD__ */
  }
  #endif /* !sgi */
  
diff -arcN ../Xsi.org/config/Project.tmpl ./config/Project.tmpl
*** ../Xsi.org/config/Project.tmpl	Mon Aug 29 17:40:17 1994
--- ./config/Project.tmpl	Wed Aug 21 20:07:05 1996
***************
*** 389,394 ****
--- 389,396 ----
  XCOMM -----------------------------------------------------------------------
  XCOMM X Window System make variables; these need to be coordinated with rules
  
+     SYS_LIBRARIES = -lcrypt		/* For FreeBSD */
+ 
  /*
   * This list must be reflected in the DIRS_TO_BUILD list in the top-level
   * Makefile.
***************
*** 413,418 ****
--- 415,423 ----
        XAPPLOADDIR = XAppLoadDir		/* application default resource dir */
         FONTCFLAGS = FontCompilerFlags
  
+      INSTINCFLAGS = InstIncFlags -c     /* XXX - dirty hack by */
+      INSTDATFLAGS = InstDatFlags -c     /* XXX -  Satoshi */
+      INSTBINFLAGS = InstBinFlags -c     /* XXX -   Asami */
       INSTAPPFLAGS = $(INSTDATFLAGS)	/* XXX - this should go away - XXX */
  
  #ifdef UseInstalled
***************
*** 1117,1126 ****
  #undef ImakeSubCmdHelper
  #endif 
  
  #ifdef UseInstalled
! #define ImakeSubCmdHelper $(IMAKE) -DUseInstalled -I$$imakeprefix$(IMIRULESRC) -I$(IRULESRC) $(IMAKE_DEFINES)
  #else
! #define ImakeSubCmdHelper $$imakeprefix$(IMAKE) -I$$imakeprefix$(IMIRULESRC) -I$$imakeprefix$(IRULESRC) $(IMAKE_DEFINES)
  #endif
  
  #define WnnInstallDicMultiple(list,dest)				@@\
--- 1122,1137 ----
  #undef ImakeSubCmdHelper
  #endif 
  
+ /*
+  * Change a variavle's name from "$imakeprefix" to "$(IMAKEPREFIX)".
+  * Because it caused a error on XFree86 3.1.2S and 3.1.2E.
+  * The Imake rule of XFree86 3.1.2S and 3.1.2E FreeBSD was changed.
+  * Patched by Hidekazu Kuroki(hidekazu@cs.titech.ac.jp)		1996/8/20
+  */
  #ifdef UseInstalled
! #define ImakeSubCmdHelper $(IMAKE) -DUseInstalled -I$(IMAKEPREFIX)$(IMIRULESRC) -I$(IRULESRC) $(IMAKE_DEFINES)
  #else
! #define ImakeSubCmdHelper $(IMAKEPREFIX)$(IMAKE) -I$(IMAKEPREFIX)$(IMIRULESRC) -I$(IMAKEPREFIX)$(IRULESRC) $(IMAKE_DEFINES)
  #endif
  
  #define WnnInstallDicMultiple(list,dest)				@@\
***************
*** 1134,1150 ****
  		$(WNNTOUCH) $(DESTDIR)dest/$$i); fi \			@@\
  	done
  
  #ifndef BuildWnn
  #define BuildWnn	YES
  #endif
  #ifndef BuildCWnn
! #define BuildCWnn	YES
  #endif
  #ifndef BuildKWnn
! #define BuildKWnn	YES
  #endif
  #ifndef BuildXwnmo
! #define BuildXwnmo	YES
  #endif
  
  #ifndef BuildJserver
--- 1145,1165 ----
  		$(WNNTOUCH) $(DESTDIR)dest/$$i); fi \			@@\
  	done
  
+ /*
+  *  Only Japanese
+  *    - Satoshi
+  */
  #ifndef BuildWnn
  #define BuildWnn	YES
  #endif
  #ifndef BuildCWnn
! #define BuildCWnn	NO
  #endif
  #ifndef BuildKWnn
! #define BuildKWnn	NO
  #endif
  #ifndef BuildXwnmo
! #define BuildXwnmo	NO
  #endif
  
  #ifndef BuildJserver
