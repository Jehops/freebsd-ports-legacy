*** imap/ANSI/c-client/mh.c.orig	Thu May 16 03:49:54 1996
--- imap/ANSI/c-client/mh.c	Fri Sep 20 13:44:42 1996
***************
*** 807,813 ****
    stat (LOCAL->dir,&sbuf);
    if (sbuf.st_ctime != LOCAL->scantime) {
      struct direct **names = NIL;
!     long nfiles = scandir (LOCAL->dir,&names,mh_select,mh_numsort);
      old = nmsgs ? mail_elt (stream,nmsgs)->data1 : 0;
  				/* note scanned now */
      LOCAL->scantime = sbuf.st_ctime;
--- 807,813 ----
    stat (LOCAL->dir,&sbuf);
    if (sbuf.st_ctime != LOCAL->scantime) {
      struct direct **names = NIL;
!     long nfiles = scandir (LOCAL->dir,&names,mh_select,(void*)mh_numsort);
      old = nmsgs ? mail_elt (stream,nmsgs)->data1 : 0;
  				/* note scanned now */
      LOCAL->scantime = sbuf.st_ctime;
***************
*** 1049,1055 ****
      return NIL;
    }
    mh_file (tmp,mailbox);	/* build file name we will use */
!   if (nfiles = scandir (tmp,&names,mh_select,mh_numsort)) {
  				/* largest number */
      last = atoi (names[nfiles-1]->d_name);    
      for (i = 0; i < nfiles; ++i) /* free directory */
--- 1049,1055 ----
      return NIL;
    }
    mh_file (tmp,mailbox);	/* build file name we will use */
!   if (nfiles = scandir (tmp,&names,mh_select,(void*)mh_numsort)) {
  				/* largest number */
      last = atoi (names[nfiles-1]->d_name);    
      for (i = 0; i < nfiles; ++i) /* free directory */
