#!/bin/sh
# $FreeBSD$

X_FONTSDIR=%%X_FONTSDIR%%

catfontsdir ()
{
    while read _IN
    do
      case "${_IN}" in
      *-ipa-*|[0-9]*|"") ;;
      *)       echo ${_IN} ;;
      esac
    done
}

addentries ()
{
    (while read _IN; do echo ${_IN}; done) <<EOT
ipag.ttf -ipa-IPAGothic-medium-r-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ipag.ttf -ipa-IPAGothic-bold-r-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.15:ipag.ttf -ipa-IPAGothic-medium-i-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.15:ipag.ttf -ipa-IPAGothic-bold-i-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.15:ipag.ttf -ipa-IPAGothic-medium-o-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.15:ipag.ttf -ipa-IPAGothic-bold-o-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.08:ipag.ttf -ipa-IPAGothic-medium-ri-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.08:ipag.ttf -ipa-IPAGothic-bold-ri-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.08:ipag.ttf -ipa-IPAGothic-medium-ro-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.08:ipag.ttf -ipa-IPAGothic-bold-ro-normal--0-0-0-0-c-0-jisx0208.1983-0
bw=0.5:ipag.ttf -ipa-IPAGothic-medium-r-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ipag.ttf -ipa-IPAGothic-bold-r-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.15:ipag.ttf -ipa-IPAGothic-medium-i-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.15:ipag.ttf -ipa-IPAGothic-bold-i-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.15:ipag.ttf -ipa-IPAGothic-medium-o-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.15:ipag.ttf -ipa-IPAGothic-bold-o-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.08:ipag.ttf -ipa-IPAGothic-medium-ri-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.08:ipag.ttf -ipa-IPAGothic-bold-ri-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.08:ipag.ttf -ipa-IPAGothic-medium-ro-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.08:ipag.ttf -ipa-IPAGothic-bold-ro-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ipag.ttf -ipa-IPAGothic-medium-r-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.15:ipag.ttf -ipa-IPAGothic-medium-i-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.15:ipag.ttf -ipa-IPAGothic-medium-o-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.08:ipag.ttf -ipa-IPAGothic-medium-ri-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.08:ipag.ttf -ipa-IPAGothic-medium-ro-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ipag.ttf -ipa-IPAGothic-bold-r-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.15:ipag.ttf -ipa-IPAGothic-bold-i-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.15:ipag.ttf -ipa-IPAGothic-bold-o-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.08:ipag.ttf -ipa-IPAGothic-bold-ri-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.08:ipag.ttf -ipa-IPAGothic-bold-ro-normal--0-0-0-0-c-0-iso8859-1
ipagp.ttf -ipa-IPAPGothic-medium-r-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ipagp.ttf -ipa-IPAPGothic-bold-r-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.15:ipagp.ttf -ipa-IPAPGothic-medium-i-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.15:ipagp.ttf -ipa-IPAPGothic-bold-i-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.15:ipagp.ttf -ipa-IPAPGothic-medium-o-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.15:ipagp.ttf -ipa-IPAPGothic-bold-o-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.08:ipagp.ttf -ipa-IPAPGothic-medium-ri-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.08:ipagp.ttf -ipa-IPAPGothic-bold-ri-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.08:ipagp.ttf -ipa-IPAPGothic-medium-ro-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.08:ipagp.ttf -ipa-IPAPGothic-bold-ro-normal--0-0-0-0-c-0-jisx0208.1983-0
bw=0.5:ipagp.ttf -ipa-IPAPGothic-medium-r-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ipagp.ttf -ipa-IPAPGothic-bold-r-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.15:ipagp.ttf -ipa-IPAPGothic-medium-i-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.15:ipagp.ttf -ipa-IPAPGothic-bold-i-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.15:ipagp.ttf -ipa-IPAPGothic-medium-o-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.15:ipagp.ttf -ipa-IPAPGothic-bold-o-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.08:ipagp.ttf -ipa-IPAPGothic-medium-ri-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.08:ipagp.ttf -ipa-IPAPGothic-bold-ri-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.08:ipagp.ttf -ipa-IPAPGothic-medium-ro-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.08:ipagp.ttf -ipa-IPAPGothic-bold-ro-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ipagp.ttf -ipa-IPAPGothic-medium-r-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.15:ipagp.ttf -ipa-IPAPGothic-medium-i-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.15:ipagp.ttf -ipa-IPAPGothic-medium-o-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.08:ipagp.ttf -ipa-IPAPGothic-medium-ri-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.08:ipagp.ttf -ipa-IPAPGothic-medium-ro-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ipagp.ttf -ipa-IPAPGothic-bold-r-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.15:ipagp.ttf -ipa-IPAPGothic-bold-i-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.15:ipagp.ttf -ipa-IPAPGothic-bold-o-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.08:ipagp.ttf -ipa-IPAPGothic-bold-ri-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.08:ipagp.ttf -ipa-IPAPGothic-bold-ro-normal--0-0-0-0-c-0-iso8859-1
ipagui.ttf -ipa-IPAUIGothic-medium-r-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ipagui.ttf -ipa-IPAUIGothic-bold-r-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.15:ipagui.ttf -ipa-IPAUIGothic-medium-i-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.15:ipagui.ttf -ipa-IPAUIGothic-bold-i-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.15:ipagui.ttf -ipa-IPAUIGothic-medium-o-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.15:ipagui.ttf -ipa-IPAUIGothic-bold-o-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.08:ipagui.ttf -ipa-IPAUIGothic-medium-ri-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.08:ipagui.ttf -ipa-IPAUIGothic-bold-ri-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.08:ipagui.ttf -ipa-IPAUIGothic-medium-ro-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.08:ipagui.ttf -ipa-IPAUIGothic-bold-ro-normal--0-0-0-0-c-0-jisx0208.1983-0
bw=0.5:ipagui.ttf -ipa-IPAUIGothic-medium-r-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ipagui.ttf -ipa-IPAUIGothic-bold-r-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.15:ipagui.ttf -ipa-IPAUIGothic-medium-i-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.15:ipagui.ttf -ipa-IPAUIGothic-bold-i-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.15:ipagui.ttf -ipa-IPAUIGothic-medium-o-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.15:ipagui.ttf -ipa-IPAUIGothic-bold-o-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.08:ipagui.ttf -ipa-IPAUIGothic-medium-ri-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.08:ipagui.ttf -ipa-IPAUIGothic-bold-ri-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.08:ipagui.ttf -ipa-IPAUIGothic-medium-ro-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.08:ipagui.ttf -ipa-IPAUIGothic-bold-ro-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ipagui.ttf -ipa-IPAUIGothic-medium-r-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.15:ipagui.ttf -ipa-IPAUIGothic-medium-i-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.15:ipagui.ttf -ipa-IPAUIGothic-medium-o-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.08:ipagui.ttf -ipa-IPAUIGothic-medium-ri-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.08:ipagui.ttf -ipa-IPAUIGothic-medium-ro-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ipagui.ttf -ipa-IPAUIGothic-bold-r-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.15:ipagui.ttf -ipa-IPAUIGothic-bold-i-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.15:ipagui.ttf -ipa-IPAUIGothic-bold-o-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.08:ipagui.ttf -ipa-IPAUIGothic-bold-ri-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.08:ipagui.ttf -ipa-IPAUIGothic-bold-ro-normal--0-0-0-0-c-0-iso8859-1
ipam.ttf -ipa-IPAMincho-medium-r-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ipam.ttf -ipa-IPAMincho-bold-r-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.15:ipam.ttf -ipa-IPAMincho-medium-i-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.15:ipam.ttf -ipa-IPAMincho-bold-i-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.15:ipam.ttf -ipa-IPAMincho-medium-o-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.15:ipam.ttf -ipa-IPAMincho-bold-o-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.08:ipam.ttf -ipa-IPAMincho-medium-ri-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.08:ipam.ttf -ipa-IPAMincho-bold-ri-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.08:ipam.ttf -ipa-IPAMincho-medium-ro-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.08:ipam.ttf -ipa-IPAMincho-bold-ro-normal--0-0-0-0-c-0-jisx0208.1983-0
bw=0.5:ipam.ttf -ipa-IPAMincho-medium-r-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ipam.ttf -ipa-IPAMincho-bold-r-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.15:ipam.ttf -ipa-IPAMincho-medium-i-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.15:ipam.ttf -ipa-IPAMincho-bold-i-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.15:ipam.ttf -ipa-IPAMincho-medium-o-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.15:ipam.ttf -ipa-IPAMincho-bold-o-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.08:ipam.ttf -ipa-IPAMincho-medium-ri-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.08:ipam.ttf -ipa-IPAMincho-bold-ri-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.08:ipam.ttf -ipa-IPAMincho-medium-ro-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.08:ipam.ttf -ipa-IPAMincho-bold-ro-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ipam.ttf -ipa-IPAMincho-medium-r-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.15:ipam.ttf -ipa-IPAMincho-medium-i-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.15:ipam.ttf -ipa-IPAMincho-medium-o-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.08:ipam.ttf -ipa-IPAMincho-medium-ri-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.08:ipam.ttf -ipa-IPAMincho-medium-ro-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ipam.ttf -ipa-IPAMincho-bold-r-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.15:ipam.ttf -ipa-IPAMincho-bold-i-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.15:ipam.ttf -ipa-IPAMincho-bold-o-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.08:ipam.ttf -ipa-IPAMincho-bold-ri-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.08:ipam.ttf -ipa-IPAMincho-bold-ro-normal--0-0-0-0-c-0-iso8859-1
ipamp.ttf -ipa-IPAPMincho-medium-r-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ipamp.ttf -ipa-IPAPMincho-bold-r-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.15:ipamp.ttf -ipa-IPAPMincho-medium-i-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.15:ipamp.ttf -ipa-IPAPMincho-bold-i-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.15:ipamp.ttf -ipa-IPAPMincho-medium-o-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.15:ipamp.ttf -ipa-IPAPMincho-bold-o-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.08:ipamp.ttf -ipa-IPAPMincho-medium-ri-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.08:ipamp.ttf -ipa-IPAPMincho-bold-ri-normal--0-0-0-0-c-0-jisx0208.1983-0
ai=0.08:ipamp.ttf -ipa-IPAPMincho-medium-ro-normal--0-0-0-0-c-0-jisx0208.1983-0
ds=y:ai=0.08:ipamp.ttf -ipa-IPAPMincho-bold-ro-normal--0-0-0-0-c-0-jisx0208.1983-0
bw=0.5:ipamp.ttf -ipa-IPAPMincho-medium-r-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ipamp.ttf -ipa-IPAPMincho-bold-r-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.15:ipamp.ttf -ipa-IPAPMincho-medium-i-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.15:ipamp.ttf -ipa-IPAPMincho-bold-i-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.15:ipamp.ttf -ipa-IPAPMincho-medium-o-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.15:ipamp.ttf -ipa-IPAPMincho-bold-o-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.08:ipamp.ttf -ipa-IPAPMincho-medium-ri-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.08:ipamp.ttf -ipa-IPAPMincho-bold-ri-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ai=0.08:ipamp.ttf -ipa-IPAPMincho-medium-ro-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ds=y:ai=0.08:ipamp.ttf -ipa-IPAPMincho-bold-ro-normal--0-0-0-0-c-0-jisx0201.1976-0
bw=0.5:ipamp.ttf -ipa-IPAPMincho-medium-r-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.15:ipamp.ttf -ipa-IPAPMincho-medium-i-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.15:ipamp.ttf -ipa-IPAPMincho-medium-o-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.08:ipamp.ttf -ipa-IPAPMincho-medium-ri-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ai=0.08:ipamp.ttf -ipa-IPAPMincho-medium-ro-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ipamp.ttf -ipa-IPAPMincho-bold-r-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.15:ipamp.ttf -ipa-IPAPMincho-bold-i-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.15:ipamp.ttf -ipa-IPAPMincho-bold-o-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.08:ipamp.ttf -ipa-IPAPMincho-bold-ri-normal--0-0-0-0-c-0-iso8859-1
bw=0.5:ds=y:ai=0.08:ipamp.ttf -ipa-IPAPMincho-bold-ro-normal--0-0-0-0-c-0-iso8859-1
EOT
}

nfonts ()
{
    _L=0; while read _IN; do _L=$((${_L}+1)); done; echo ${_L}
}

case "$2" in
POST-INSTALL)
	cd ${X_FONTSDIR}
	touch fonts.dir
	(catfontsdir < fonts.dir; addentries) > fonts.dir.tmp
	nfonts < fonts.dir.tmp > fonts.dir
	cat fonts.dir.tmp >> fonts.dir
	rm -f fonts.dir.tmp
	;;
DEINSTALL)
	cd ${X_FONTSDIR}
	catfontsdir < fonts.dir > fonts.dir.tmp
	nfonts < fonts.dir.tmp > fonts.dir
	cat fonts.dir.tmp >> fonts.dir
	rm -f fonts.dir.tmp
	;;
esac
