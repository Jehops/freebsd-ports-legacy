*** canna/protodefs.h.orig	Wed Mar  9 16:01:53 1994
--- canna/protodefs.h	Sun Aug 11 06:54:35 1996
***************
*** 77,82 ****
--- 77,83 ----
  #define I16toI32(x) (x)
  #define I8toI32(x) (((x) & 0x80) ? ((x) | 0xffffff80) : (x))
  
+ #if 0
  #ifdef HTONS			/* hir, 1993.1.2 */
  #undef HTONS
  #endif
***************
*** 85,90 ****
--- 86,92 ----
  	work = htons( (len) ) ; \
  	bcopy( (char *)&work, (char *)(data), sizeof( short ) ) ; \
  }
+ #endif
  
  #ifndef MIN
  #define MIN( n, m )	( ((unsigned)(n) > (unsigned)(m)) ? (m) : (n) )
*** canna/widedef.h.orig	Mon Jul  5 20:11:01 1993
--- canna/widedef.h	Sun Aug 11 06:54:35 1996
***************
*** 27,32 ****
--- 27,36 ----
  #ifndef _WIDEDEF_H_
  #define _WIDEDEF_H_
       
+ #if defined(__FreeBSD__) || defined(__NetBSD__)
+ # include <machine/ansi.h>
+ #endif
+ 
  #if __STDC__ || defined(SVR4) || defined(sun) /* This may be wrong. */
  # if !defined(WCHAR16) && !defined(CANNA_WCHAR)
  #  define HAVE_WCHAR_OPERATION
***************
*** 40,45 ****
--- 44,61 ----
  #endif
  #endif /* HAVE_WCHAR_OPERATION */
  
+ #if defined(__FreeBSD__) || defined(__NetBSD__)
+ # ifdef _BSD_WCHAR_T_
+ #  undef _BSD_WCHAR_T_
+ #  ifdef WCHAR16
+ #   define _BSD_WCHAR_T_ unsigned short
+ #  else
+ #   define _BSD_WCHAR_T_ unsigned long
+ #  endif
+ #  include <stddef.h>
+ #  define _WCHAR_T
+ # endif
+ #else
  #if !defined(WCHAR_T) && !defined(_WCHAR_T) && !defined(_WCHAR_T_) \
   && !defined(__WCHAR_T) && !defined(_GCC_WCHAR_T)
  # ifdef WCHAR16
***************
*** 54,58 ****
--- 70,75 ----
  # define __WCHAR_T
  # define _GCC_WCHAR_T
  #endif
+ #endif /* __FreeBSD__ || __NetBSD__ */
  
  #endif /* _WIDEDEF_H_ */
