#!/bin/sh

if [ "x$1" = "x" ]; then
	exit 1;
fi
if [ "x$2" != "xINSTALL" -a "x$2" != "xDEINSTALL" ]; then
	exit 1;
fi

export FONTDIR; FONTDIR=${PKG_PREFIX}/lib/X11/fonts/local

if [ "$2x" = "INSTALLx" -a ! -d ${FONTDIR} ]; then
	echo '**********************************************************************'
	echo "****** ${FONTDIR}/ doesn't exist."
	echo "****** Creating ${FONTDIR}/"
	echo '****** Please upgrade your XFree86 to 3.3.3 or upper,'
	echo "****** or add this directory to your /etc/XF86Config's FontPath entry."
	echo '**********************************************************************'
	mkdir ${FONTDIR}
fi

# font alias entry here!
TMPFILE=/tmp/install-fonts-alias-$$
cat << EOF > ${TMPFILE}
-kappa-mincho-bold-r-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-bold-r-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-minchou-bold-r-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-bold-r-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-minchou-bold-r-normal--20-190-75-75-c-200-jisx0208.1990-0 -kappa-mincho-bold-r-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-fixed-bold-r-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-bold-r-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-fixed-bold-r-normal--20-190-75-75-c-200-jisx0208.1990-0 -kappa-mincho-bold-r-normal--20-190-75-75-c-200-jisx0208.1990-0
k20b -kappa-fixed-bold-r-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-mincho-medium-r-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-medium-r-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-minchou-medium-r-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-medium-r-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-minchou-medium-r-normal--20-190-75-75-c-200-jisx0208.1990-0 -kappa-mincho-medium-r-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-fixed-medium-r-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-medium-r-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-fixed-medium-r-normal--20-190-75-75-c-200-jisx0208.1990-0 -kappa-mincho-medium-r-normal--20-190-75-75-c-200-jisx0208.1990-0
k20m -kappa-fixed-medium-r-normal--20-190-75-75-c-200-jisx0208.1990-0
10x20b -kappa-fixed-bold-r-normal--20-190-75-75-c-100-iso8859-1
a20b -kappa-fixed-bold-r-normal--20-190-75-75-c-100-iso8859-1
10x20m -kappa-fixed-medium-r-normal--20-190-75-75-c-100-iso8859-1
a20m -kappa-fixed-medium-r-normal--20-190-75-75-c-100-iso8859-1
10x20rkb -kappa-fixed-bold-r-normal--20-190-75-75-c-100-jisx0201.1976-0
r20b -kappa-fixed-bold-r-normal--20-190-75-75-c-100-jisx0201.1976-0
10x20rkm -kappa-fixed-medium-r-normal--20-190-75-75-c-100-jisx0201.1976-0
r20m -kappa-fixed-medium-r-normal--20-190-75-75-c-100-jisx0201.1976-0
-kappa-mincho-bold-r-normal--20-190-75-75-vc-200-jisx0208.1983-0 -kappa-mincho-bold-r-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-minchou-bold-r-normal--20-190-75-75-vc-200-jisx0208.1983-0 -kappa-mincho-bold-r-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-minchou-bold-r-normal--20-190-75-75-vc-200-jisx0208.1990-0 -kappa-mincho-bold-r-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-fixed-bold-r-normal--20-190-75-75-vc-200-jisx0208.1983-0 -kappa-mincho-bold-r-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-fixed-bold-r-normal--20-190-75-75-vc-200-jisx0208.1990-0 -kappa-mincho-bold-r-normal--20-190-75-75-vc-200-jisx0208.1990-0
vk20b -kappa-fixed-bold-r-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-mincho-medium-r-normal--20-190-75-75-vc-200-jisx0208.1983-0 -kappa-mincho-medium-r-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-minchou-medium-r-normal--20-190-75-75-vc-200-jisx0208.1983-0 -kappa-mincho-medium-r-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-minchou-medium-r-normal--20-190-75-75-vc-200-jisx0208.1990-0 -kappa-mincho-medium-r-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-fixed-medium-r-normal--20-190-75-75-vc-200-jisx0208.1983-0 -kappa-mincho-medium-r-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-fixed-medium-r-normal--20-190-75-75-vc-200-jisx0208.1990-0 -kappa-mincho-medium-r-normal--20-190-75-75-vc-200-jisx0208.1990-0
vk20m -kappa-fixed-medium-r-normal--20-190-75-75-vc-200-jisx0208.1990-0
ipa-10x20m  -kappa-fixed-medium-r-normal--20-190-75-75-c-100-muleipa-1
ipa-10x20b  -kappa-fixed-bold-r-normal--20-190-75-75-c-100-muleipa-1
10x20L2m -kappa-fixed-medium-r-normal--20-190-75-75-c-100-iso8859-2
10x20L2b -kappa-fixed-bold-r-normal--20-190-75-75-c-100-iso8859-2
10x20L3m -kappa-fixed-medium-r-normal--20-190-75-75-c-100-iso8859-3
10x20L3b -kappa-fixed-bold-r-normal--20-190-75-75-c-100-iso8859-3
10x20L4m -kappa-fixed-medium-r-normal--20-190-75-75-c-100-iso8859-4
10x20L4b -kappa-fixed-bold-r-normal--20-190-75-75-c-100-iso8859-4
10x20L5m -kappa-fixed-medium-r-normal--20-190-75-75-c-100-iso8859-9
10x20L5b -kappa-fixed-bold-r-normal--20-190-75-75-c-100-iso8859-9
10x20L6m -kappa-fixed-medium-r-normal--20-190-75-75-c-100-iso8859-10
10x20L6b -kappa-fixed-bold-r-normal--20-190-75-75-c-100-iso8859-10
10x20L7m -kappa-fixed-medium-r-normal--20-190-75-75-c-100-iso8859-13
10x20L7b -kappa-fixed-bold-r-normal--20-190-75-75-c-100-iso8859-13
10x20L8m -kappa-fixed-medium-r-normal--20-190-75-75-c-100-iso8859-14
10x20L8b -kappa-fixed-bold-r-normal--20-190-75-75-c-100-iso8859-14
10x20L9m -kappa-fixed-medium-r-normal--20-190-75-75-c-100-iso8859-15
10x20L9b -kappa-fixed-bold-r-normal--20-190-75-75-c-100-iso8859-15
10x20L10m -kappa-fixed-medium-r-normal--20-190-75-75-c-100-iso8859-16
10x20L10b -kappa-fixed-bold-r-normal--20-190-75-75-c-100-iso8859-16
-kappa-mincho-bold-i-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-bold-i-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-minchou-bold-i-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-bold-i-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-minchou-bold-i-normal--20-190-75-75-c-200-jisx0208.1990-0 -kappa-mincho-bold-i-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-fixed-bold-i-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-bold-i-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-fixed-bold-i-normal--20-190-75-75-c-200-jisx0208.1990-0 -kappa-mincho-bold-i-normal--20-190-75-75-c-200-jisx0208.1990-0
k20bi -kappa-fixed-bold-i-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-mincho-medium-i-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-medium-i-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-minchou-medium-i-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-medium-i-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-minchou-medium-i-normal--20-190-75-75-c-200-jisx0208.1990-0 -kappa-mincho-medium-i-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-fixed-medium-i-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-medium-i-normal--20-190-75-75-c-200-jisx0208.1990-0
-kappa-fixed-medium-i-normal--20-190-75-75-c-200-jisx0208.1990-0 -kappa-mincho-medium-i-normal--20-190-75-75-c-200-jisx0208.1990-0
k20mi -kappa-fixed-medium-i-normal--20-190-75-75-c-200-jisx0208.1990-0
10x20bi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-iso8859-1
a20bi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-iso8859-1
10x20mi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-iso8859-1
a20mi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-iso8859-1
10x20rkbi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-jisx0201.1976-0
r20bi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-jisx0201.1976-0
10x20rkmi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-jisx0201.1976-0
r20mi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-jisx0201.1976-0
-kappa-mincho-bold-i-normal--20-190-75-75-vc-200-jisx0208.1983-0 -kappa-mincho-bold-i-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-minchou-bold-i-normal--20-190-75-75-vc-200-jisx0208.1983-0 -kappa-mincho-bold-i-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-minchou-bold-i-normal--20-190-75-75-vc-200-jisx0208.1990-0 -kappa-mincho-bold-i-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-fixed-bold-i-normal--20-190-75-75-vc-200-jisx0208.1983-0 -kappa-mincho-bold-i-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-fixed-bold-i-normal--20-190-75-75-vc-200-jisx0208.1990-0 -kappa-mincho-bold-i-normal--20-190-75-75-vc-200-jisx0208.1990-0
vk20bi -kappa-fixed-bold-i-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-mincho-medium-i-normal--20-190-75-75-vc-200-jisx0208.1983-0 -kappa-mincho-medium-i-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-minchou-medium-i-normal--20-190-75-75-vc-200-jisx0208.1983-0 -kappa-mincho-medium-i-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-minchou-medium-i-normal--20-190-75-75-vc-200-jisx0208.1990-0 -kappa-mincho-medium-i-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-fixed-medium-i-normal--20-190-75-75-vc-200-jisx0208.1983-0 -kappa-mincho-medium-i-normal--20-190-75-75-vc-200-jisx0208.1990-0
-kappa-fixed-medium-i-normal--20-190-75-75-vc-200-jisx0208.1990-0 -kappa-mincho-medium-i-normal--20-190-75-75-vc-200-jisx0208.1990-0
vk20mi -kappa-fixed-medium-i-normal--20-190-75-75-vc-200-jisx0208.1990-0
ipa-10x20mi  -kappa-fixed-medium-i-normal--20-190-75-75-c-100-muleipa-1
ipa-10x20bi  -kappa-fixed-bold-i-normal--20-190-75-75-c-100-muleipa-1
10x20L2mi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-iso8859-2
10x20L2bi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-iso8859-2
10x20L3mi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-iso8859-3
10x20L3bi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-iso8859-3
10x20L4mi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-iso8859-4
10x20L4bi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-iso8859-4
10x20L5mi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-iso8859-9
10x20L5bi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-iso8859-9
10x20L6mi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-iso8859-10
10x20L6bi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-iso8859-10
10x20L7mi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-iso8859-13
10x20L7bi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-iso8859-13
10x20L8mi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-iso8859-14
10x20L8bi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-iso8859-14
10x20L9mi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-iso8859-15
10x20L9bi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-iso8859-15
10x20L10mi -kappa-fixed-medium-i-normal--20-190-75-75-c-100-iso8859-16
10x20L10bi -kappa-fixed-bold-i-normal--20-190-75-75-c-100-iso8859-16
10x20gm		-ayu-gothic-medium-r-normal--20-190-75-75-c-100-iso8859-1
10x20gmi	-ayu-gothic-medium-i-normal--20-190-75-75-c-100-iso8859-1
10x20grkm	-ayu-gothic-medium-r-normal--20-190-75-75-c-100-jisx0201.1976-0
10x20grkmi	-ayu-gothic-medium-i-normal--20-190-75-75-c-100-jisx0201.1976-0
k20gm		-ayu-gothic-medium-r-normal--20-190-75-75-c-200-jisx0208.1990-0
k20gmi		-ayu-gothic-medium-i-normal--20-190-75-75-c-200-jisx0208.1990-0
EOF

echo "Updating ${FONTDIR}/fonts.alias"
cd ${FONTDIR}
touch fonts.alias
cp fonts.alias fonts.alias.orig
if [ "$2" = "INSTALL" ] ; then
	(grep -v -e "`cat ${TMPFILE}`" fonts.alias.orig ; \
	 cat ${TMPFILE}) > fonts.alias
elif [ "$2" = "DEINSTALL" ] ; then
	grep -v -- "`cat ${TMPFILE}`" fonts.alias.orig > fonts.alias
fi
rm -f fonts.alias.orig ${TMPFILE}

echo "**********************************************************"
echo "You should restart X server or do 'xset fp rehash' command"
echo "to enable this update."
echo "**********************************************************"

exit 0;
