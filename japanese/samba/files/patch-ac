--- lib/pidfile.c.orig	Fri Jan 15 22:40:47 1999
+++ lib/pidfile.c	Fri Jan 15 22:41:05 1999
@@ -37,7 +37,7 @@
 	unsigned ret;
 	pstring pidFile;
 
-	slprintf(pidFile, sizeof(pidFile)-1, "%s/%s.pid", lp_lockdir(), name);
+	slprintf(pidFile, sizeof(pidFile)-1, "%s/%s.pid", lp_piddir(), name);
 
 	fd = sys_open(pidFile, O_NONBLOCK | O_RDWR, 0644);
 	if (fd == -1) {
@@ -78,7 +78,7 @@
 	pstring pidFile;
 	int pid;
 
-	slprintf(pidFile, sizeof(pidFile)-1, "%s/%s.pid", lp_lockdir(), name);
+	slprintf(pidFile, sizeof(pidFile)-1, "%s/%s.pid", lp_piddir(), name);
 
 	pid = pidfile_pid(name);
 	if (pid != 0) {
