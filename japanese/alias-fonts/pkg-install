#!/usr/bin/perl
$prefix = $ENV{'PKG_PREFIX'};
$dir = "$prefix/lib/X11/fonts/misc";
$to =  "$dir/fonts.alias";
$from = "$to.orig";
$option = $ARGV[1];
exit 0 if $option ne 'POST-INSTALL';
rename($to, $from) || die("Can't rename: $!");
open(IN, $from) || die("Can't open $from: $!");
open(OUT, ">$to") || die("Can't open $to: $!");
while (<IN>) {
	chop;
	if (/^\s*!/ || /^\s*$/) {
		print OUT "$_\n";
	}
	else {
		@line = split(/\s+/, $_);
		@elm = split(/-+/, $line[0]);
		if ($elm[1] ne 'netscape' && $elm[1] ne 'netscape.k10') {
			print OUT "$_\n";
		}
	}
}
for (split(/\n/, <<"END"))
-netscape-fixed-medium-r-normal--24-234-75-75-c-120-jisx0201.1976-0 -sony-fixed-medium-r-normal--24-170-100-100-c-120-jisx0201.1976-0
-netscape-fixed-medium-r-normal--20-190-75-75-c-200-jisx0201.1976-0 -kappa-fixed-medium-r-normal--20-190-75-75-c-100-jisx0201.1976-0
-netscape-fixed-medium-r-normal--16-156-75-75-c-80-jisx0201.1976-0 -sony-fixed-medium-r-normal--16-120-100-100-c-80-jisx0201.1976-0
-netscape-fixed-medium-r-normal--14-130-75-75-c-70-jisx0201.1976-0 -misc-fixed-medium-r-normal--14-130-75-75-c-70-jisx0201.1976-0
-netscape-fixed-medium-r-normal--12-104-75-75-c-60-jisx0201.1976-0 -mnkaname-fixed-medium-r-normal--12-110-75-75-c-60-jisx0201.1976-0
-netscape-fixed-medium-r-normal--10-78-75-75-c-100-jisx0201.1976-0 -misc-fixed-medium-r-normal--10-90-75-75-c-50-jisx0201.1976-0
-netscape-fixed-medium-r-normal--8-70-75-75-c-120-jisx0201.1976-0 -hiro-fixed-medium-r-normal--8-70-75-75-c-40-jisx0201.1976-0
-netscape-fixed-medium-r-normal--24-234-75-75-c-240-jisx0208.1983-0 -jis-fixed-medium-r-normal--24-230-75-75-c-240-jisx0208.1983-0
-netscape-fixed-medium-r-normal--20-190-75-75-c-200-jisx0208.1983-0 -kappa-mincho-bold-r-normal--20-190-75-75-c-200-jisx0208.1990-0
-netscape-fixed-medium-r-normal--16-156-75-75-c-160-jisx0208.1983-0 -jis-fixed-medium-r-normal--16-150-75-75-c-160-jisx0208.1983-0
-netscape-fixed-medium-r-normal--14-130-75-75-c-140-jisx0208.1983-0 -misc-fixed-medium-r-normal--14-130-75-75-c-140-jisx0208.1983-0
-netscape-fixed-medium-r-normal--12-104-75-75-c-120-jisx0208.1983-0 -mnkaname-fixed-medium-r-normal--12-110-75-75-c-120-jisx0208.1983-0
-netscape-fixed-medium-r-normal--10-78-75-75-c-100-jisx0208.1983-0 -misc-fixed-medium-r-normal--10-90-75-75-c-100-jisx0208.1983-0
-netscape-fixed-medium-r-normal--8-70-75-75-c-120-jisx0208.1983-0 -elisa100-fixed-medium-r-normal--8-70-75-75-c-80-jisx0208.1983-0
-netscape-fixed-medium-r-normal--24-234-75-75-c-240-jisx0212.1990-0 -wadalab-mincho-medium-r-normal--24-231-75-75-c-240-jisx0212.1990-30
-netscape-fixed-medium-r-normal--16-156-75-75-c-160-jisx0212.1990-0 -misc-fixed-medium-r-normal--16-150-75-75-c-160-jisx0212.1990-0
-netscape-fixed-medium-r-normal--14-130-75-75-c-140-jisx0212.1990-0 -misc-fixed-medium-r-normal--14-132-75-75-c-140-jisx0212.1990-0
END
{
	print OUT "$_\n";
}
