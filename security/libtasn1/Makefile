# New ports collection makefile for:	libtasn1
# Date created:		15 Nov 2002
# Whom:			Sergei Kolobov <sergei@kolobov.com>
#
# $FreeBSD$
#

PORTNAME=	libtasn1
PORTVERSION=	0.2.18
PORTREVISION=	1
CATEGORIES=	security
MASTER_SITES=	${MASTER_SITE_GNUPG} \
	http://www.mirrors.wiretapped.net/security/network-security/gnutls/libtasn1/ \
	ftp://ftp.mirrors.wiretapped.net/security/network-security/gnutls/libtasn1/ \
	ftp://ftp.gnutls.org/pub/gnutls/libtasn1/
MASTER_SITE_SUBDIR=	alpha/gnutls/libtasn1

MAINTAINER=	novel@FreeBSD.org
COMMENT=	ASN.1 structure parser library

INSTALLS_SHLIB=	yes
USE_GNOME=	pkgconfig
GNU_CONFIGURE=	yes
USE_REINPLACE=	yes
USE_GETOPT_LONG=	yes
CONFIGURE_TARGET=	--build=${MACHINE_ARCH}-portbld-freebsd${OSREL}

DOCS=		AUTHORS NEWS README THANKS doc/TODO \
		doc/libtasn1.html doc/libtasn1.pdf doc/libtasn1.ps
INFO=		libtasn1
MAN3=		\
		asn1_array2tree.3 \
		asn1_check_version.3 \
		asn1_create_element.3 \
		asn1_delete_element.3 \
		asn1_delete_structure.3 \
		asn1_der_coding.3 \
		asn1_der_decoding.3 \
		asn1_der_decoding_element.3 \
		asn1_der_decoding_startEnd.3 \
		asn1_expand_any_defined_by.3 \
		asn1_expand_octet_string.3 \
		asn1_find_structure_from_oid.3 \
		asn1_number_of_elements.3 \
		asn1_parser2array.3 \
		asn1_parser2tree.3 \
		asn1_print_structure.3 \
		asn1_read_tag.3 \
		asn1_read_value.3 \
		asn1_write_value.3 \
		libtasn1_perror.3 \
		libtasn1_strerror.3

post-patch:
	@${REINPLACE_CMD} -e 's,(libdir)/pkgconfig,(prefix)/libdata/pkgconfig,' \
		${WRKSRC}/lib/Makefile.in

.if !defined(NOPORTDOCS)
post-install:
	@${MKDIR} ${DOCSDIR}
	cd ${WRKSRC} && ${INSTALL_DATA} ${DOCS} ${DOCSDIR}
.endif

.include <bsd.port.mk>
