--- src/db_file.c.orig	Thu Apr 20 05:44:56 2000
+++ src/db_file.c	Thu Jun  6 16:56:48 2002
@@ -212,7 +212,7 @@
 	if((retval=fork())==0){
 	  /* The child process */
 	  close(pipefd[0]);
-	  conf->db_gzin=gzdopen(fileno(conf->db_in),"rb");
+	  conf->db_gzin=gzdopen(fileno((FILE *)conf->db_in),"rb");
 	  /* WARNING This causes weird problems. Don't do it.
 	     fclose(conf->db_in);
 	  */
@@ -447,7 +447,7 @@
   }
 
   if(tmpstr){
-    retval=fprintf(file,tmpstr);
+    retval=fprintf(file,"%s",tmpstr);
     free(tmpstr);
     return retval;
   }else {
@@ -484,7 +484,7 @@
 
 
   tmpstr=encode_base64(ptr,strlen(ptr));
-  retval=fprintf(file,tmpstr);
+  retval=fprintf(file,"%s",tmpstr);
   free(tmpstr);
   free(ptr);
 
