--- gnio.build.patch.orig	2008-09-16 08:20:43.000000000 -0300
+++ gnio.build.patch	2008-09-16 11:08:44.000000000 -0300
@@ -31,3 +31,43 @@
  	bld.install_files('PREFIX', 'include/gnio', 'gnio/gi*.h')
  	bld.install_files('PREFIX', 'include/gnio', 'gnio/gn*.h')
  	bld.install_files('PREFIX', 'include/gnio', 'gnio/gr*.h')
+--- gnio/gnio/ginet4address.c.orig	2008-06-16 09:00:35.000000000 -0300
++++ gnio/gnio/ginet4address.c	2008-09-16 09:39:55.000000000 -0300
+@@ -23,6 +23,7 @@
+ 
+ #include <config.h>
+ #include <glib.h>
++#include <sys/types.h>
+ 
+ #ifndef G_OS_WIN32
+ # include <netinet/in.h>
+--- gnio/gnio/ginet6address.c.orig	2008-06-16 09:00:35.000000000 -0300
++++ gnio/gnio/ginet6address.c	2008-09-16 09:39:55.000000000 -0300
+@@ -27,6 +27,7 @@
+ 
+ #include <netinet/in.h>
+ #include <arpa/inet.h>
++#include <sys/socket.h>
+ 
+ #include "ginet6address.h"
+ 
+--- gnio/gnio/gresolver.c.orig	2008-07-09 18:15:16.000000000 -0300
++++ gnio/gnio/gresolver.c	2008-09-16 09:39:55.000000000 -0300
+@@ -24,6 +24,7 @@
+ #include <config.h>
+ #include <glib.h>
+ #include <gio/gio.h>
++#include <sys/socket.h>
+ 
+ #include <string.h>
+ #ifndef G_OS_WIN32
+--- gnio/gnio/gsocket.c.orig	2008-07-09 18:15:16.000000000 -0300
++++ gnio/gnio/gsocket.c	2008-09-16 09:39:55.000000000 -0300
+@@ -27,6 +27,7 @@
+ #include <gnio/gnio.h>
+ #include "gasynchelper.h"
+ #include "gnioenums.h"
++#include <sys/socket.h>
+ 
+ #include <string.h>
+ #ifndef G_OS_WIN32
