--- config.orig	Sun May 23 18:04:11 1999
+++ config	Fri May 28 18:45:26 1999
@@ -122,23 +122,12 @@
 	echo "${MACHINE}-whatever-bsdi"; exit 0
 	;;
 
-    FreeBSD:3*:*:*)
-	echo "${MACHINE}-whatever-freebsd3"; exit 0
-	;;
-
-    FreeBSD:*:*:*386*)
-        case `sysctl -n hw.model` in
-	    Pentium*)
-                echo "i586-whatever-freebsd"; exit 0
-                ;;
-            *)
-                echo "i386-whatever-freebsd"; exit 0
-                ;;
-            esac;
+    FreeBSD:[12]*:*:*)
+	echo "${MACHINE}-whatever-freebsd"; exit 0
 	;;
 
     FreeBSD:*)
-	echo "${MACHINE}-whatever-freebsd"; exit 0
+	echo "${MACHINE}-whatever-freebsd3"; exit 0
 	;;
 
     NetBSD:*:*:*386*)
@@ -276,23 +265,6 @@
 esac
 done
 
-# figure out if gcc is available and if so we use it otherwise
-# we fallback to whatever cc does on the system
-GCCVER=`(gcc -v) 2>&1`
-if [ $? = "0" ]; then
-  CC=gcc
-else
-  CC=cc
-  if [ "$SYSTEM" = "SunOS" ]
-  then
-   case `cc -V 2>&1` in
-    *4*) CC=cc;;
-    *5*) CC=cc;;
-    *) CC=sc3;;
-   esac
-  fi
-fi
-
 # read the output of the embedded GuessOS 
 read GUESSOS
 
@@ -331,18 +303,6 @@
   # *-dgux) OUT="dgux" ;;
   *) OUT=`echo $GUESSOS | awk -F- '{print $3}'`;;
 esac
-
-# gcc < 2.8 does not support -mcpu=ultrasparc
-if [ "$OUT" = solaris-usparc-gcc ]
-then
- GCCVERMAJOR="`echo $GCCVER | sed 's/.*version \([^.]*\).*/\1/`"
- GCCVERMINOR="`echo $GCCVER | sed 's/.*version[^.]*\.\([^.]*\).*/\1/`"
- echo "gcc version $GCCVERMAJOR.$GCCVERMINOR.x"
- if [ $GCCVERMAJOR$GCCVERMINOR -lt 28 ]
- then
-  OUT=solaris-usparc-oldgcc
- fi
-fi
 
 case "$GUESSOS" in
   i386-*) options="$options 386" ;;
