--- Makefile.orig	Sun Feb 24 07:15:21 2002
+++ Makefile	Wed Mar 13 05:04:51 2002
@@ -1,10 +1,10 @@
 # $Id: Makefile,v 1.56 2002/02/24 12:15:21 bw Exp $
 
 # Linux
-CC = gcc
-CFLAGS = -pipe -O2 -Wall #-pedantic -Wpointer-arith #-g #-p
-LDFLAGS = #-g #-static -p
-LIBS = -lcrypt -lz #-lc_p
+#CC = gcc
+#CFLAGS = -pipe -O2 -Wall #-pedantic -Wpointer-arith #-g #-p
+#LDFLAGS = #-g #-static -p
+#LIBS = -lcrypt -lz #-lc_p
 
 # Solaris
 #LIBS = -lnsl -lsocket -lz -lcrypt
@@ -23,8 +23,8 @@
 
 # FreeBSD
 #CC = gcc
-#CFLAGS = -pipe -O2 -Wall -I/usr/local/include
-#LIBS = -L/usr/local/lib -lintl -lcrypt -lz
+CFLAGS += -I%%LOCALBASE%%/include
+LIBS = -L%%LOCALBASE%%/lib -lintl -lcrypt -lz
 
 # You might want to add -DSHORT_NAMES to CFLAGS if you only intend to
 # analyze log formats with short list/chain/branch/interface names like
@@ -35,10 +35,9 @@
 LEX = flex
 LFLAGS = -B #-f #-p -p -d
 
-INSTALL = install
-INSTALL_PROGRAM = $(INSTALL) -s -m 0755
-INSTALL_SCRIPT = $(INSTALL) -m 0755
-INSTALL_DATA = $(INSTALL) -m 0644
+INSTALL_PROGRAM= ${BSD_INSTALL_PROGRAM}
+INSTALL_DATA= ${BSD_INSTALL_DATA}
+INSTALL_SCRIPT= ${BSD_INSTALL_SCRIPT}
 
 OBJS = cisco_ios.o cisco_pix.o compare.o ipchains.o ipfilter.o \
        main.o modes.o net.o netfilter.o output.o parser.o \
@@ -82,10 +81,15 @@
 
 install-i18n:
 	cd po; make
+	${MKDIR} ${PREFIX}/share/locale/de/LC_MESSAGES
 	$(INSTALL_DATA) po/de.mo /usr/share/locale/de/LC_MESSAGES/fwlogwatch.mo
+	${MKDIR} ${PREFIX}/share/locale/pt_BR/LC_MESSAGES
 	$(INSTALL_DATA) po/pt_BR.mo /usr/share/locale/pt_BR/LC_MESSAGES/fwlogwatch.mo
+	${MKDIR} ${PREFIX}/share/locale/sv/LC_MESSAGES
 	$(INSTALL_DATA) po/sv.mo /usr/share/locale/sv/LC_MESSAGES/fwlogwatch.mo
+	${MKDIR} ${PREFIX}/share/locale/zh_CN/LC_MESSAGES
 	$(INSTALL_DATA) po/zh_CN.mo /usr/share/locale/zh_CN/LC_MESSAGES/fwlogwatch.mo
+	${MKDIR} ${PREFIX}/share/locale/zh_TW/LC_MESSAGES
 	$(INSTALL_DATA) po/zh_TW.mo /usr/share/locale/zh_TW/LC_MESSAGES/fwlogwatch.mo
 
 uninstall:
