*** Makefile.orig	Mon Oct 31 14:50:32 1994
--- Makefile	Mon Oct 31 14:57:06 1994
***************
*** 1,5 ****
--- 1,7 ----
  # @(#) Makefile 1.12 94/03/23 16:51:32
  
+ default: freebsd
+ 
  what:
  	@echo
  	@echo "Usage: edit the REAL_DAEMON_DIR definition in the Makefile then:"
***************
*** 46,52 ****
  #REAL_DAEMON_DIR=/usr/sbin
  #
  # BSD 4.4
! #REAL_DAEMON_DIR=/usr/libexec
  #
  # HP-UX SCO
  #REAL_DAEMON_DIR=/etc
--- 48,54 ----
  #REAL_DAEMON_DIR=/usr/sbin
  #
  # BSD 4.4
! REAL_DAEMON_DIR=/usr/libexec
  #
  # HP-UX SCO
  #REAL_DAEMON_DIR=/etc
***************
*** 120,126 ****
  # Free bsd and linux by default have no NIS.
  386bsd netbsd freebsd:
  	@make REAL_DAEMON_DIR=$(REAL_DAEMON_DIR) STYLE=$(STYLE) \
! 	LIBS= RANLIB=ranlib ARFLAGS=rv AUX_OBJ= NETGROUP= TLI= all
  
  linux:
  	@make REAL_DAEMON_DIR=$(REAL_DAEMON_DIR) STYLE=$(STYLE) \
--- 122,129 ----
  # Free bsd and linux by default have no NIS.
  386bsd netbsd freebsd:
  	@make REAL_DAEMON_DIR=$(REAL_DAEMON_DIR) STYLE=$(STYLE) \
! 	LIBS= RANLIB=ranlib ARFLAGS=rv AUX_OBJ= NETGROUP= TLI= \
! 	EXTRA_CFLAGS="-D_HAVE_PARAM_H" all
  
  linux:
  	@make REAL_DAEMON_DIR=$(REAL_DAEMON_DIR) STYLE=$(STYLE) \
***************
*** 318,324 ****
  # instead of a long integer. Compile with -DINET_ADDR_BUG to work around
  # this mutant behavour.
  
! BUGS = -DGETPEERNAME_BUG -DBROKEN_FGETS
  #BUGS = -DGETPEERNAME_BUG -DBROKEN_FGETS -DINET_ADDR_BUG
  
  ##########################################################################
--- 321,327 ----
  # instead of a long integer. Compile with -DINET_ADDR_BUG to work around
  # this mutant behavour.
  
! #BUGS = -DGETPEERNAME_BUG -DBROKEN_FGETS
  #BUGS = -DGETPEERNAME_BUG -DBROKEN_FGETS -DINET_ADDR_BUG
  
  ##########################################################################
***************
*** 345,351 ****
  # module, which also gives hints on how to add your own extensions.
  # Uncomment the next definition to turn on the language extensions.
  # 
! #STYLE	= -DPROCESS_OPTIONS	# Enable language extensions.
  
  ################################################################
  # Optional: Changing the default disposition of logfile records
--- 348,354 ----
  # module, which also gives hints on how to add your own extensions.
  # Uncomment the next definition to turn on the language extensions.
  # 
! STYLE	= -DPROCESS_OPTIONS	# Enable language extensions.
  
  ################################################################
  # Optional: Changing the default disposition of logfile records
***************
*** 368,374 ****
  #
  # The LOG_XXX names below are taken from the /usr/include/syslog.h file.
  
! FACILITY= LOG_MAIL	# LOG_MAIL is what most sendmail daemons use
  
  # The syslog priority at which successful connections are logged.
  
--- 371,377 ----
  #
  # The LOG_XXX names below are taken from the /usr/include/syslog.h file.
  
! FACILITY= LOG_AUTH	# LOG_MAIL is what most sendmail daemons use
  
  # The syslog priority at which successful connections are logged.
  
***************
*** 445,451 ****
  # look for access control information. Watch out for the quotes and
  # backslashes when you make changes.
  
! TABLES	= -DHOSTS_DENY=\"/etc/hosts.deny\" -DHOSTS_ALLOW=\"/etc/hosts.allow\"
  
  ###########################################
  # Optional: Turning off host NAME checking
--- 448,454 ----
  # look for access control information. Watch out for the quotes and
  # backslashes when you make changes.
  
! TABLES	= -DHOSTS_DENY=\"${PREFIX}/etc/hosts.deny\" -DHOSTS_ALLOW=\"${PREFIX}/etc/hosts.allow\"
  
  ###########################################
  # Optional: Turning off host NAME checking
***************
*** 463,469 ****
  # daemon wrappers will use only the host address, but your daemons may
  # still use the host name.
  
! PARANOID= -DPARANOID
  
  #############################################
  # Optional: Turning on host ADDRESS checking
--- 466,472 ----
  # daemon wrappers will use only the host address, but your daemons may
  # still use the host name.
  
! #PARANOID= -DPARANOID
  
  #############################################
  # Optional: Turning on host ADDRESS checking
***************
*** 522,527 ****
--- 525,538 ----
  LIB	= libwrap.a
  
  all other: config-check tcpd try try-from safe_finger
+ 
+ install:
+ 	install -c libwrap.a ${PREFIX}/lib/libwrap.a
+ 	install -c tcpd ${PREFIX}/sbin/tcpd
+ 	install -c hosts_access.3 ${PREFIX}/man/man3/hosts_access.3
+ 	install -c hosts_access.5 ${PREFIX}/man/man5/hosts_access.5
+ 	install -c hosts_options.5 ${PREFIX}/man/man5/hosts_options.5
+ 	install -c tcpd.8 ${PREFIX}/man/man8/tcpd.8
  
  config-check:
  	@set +e; test -n "$(REAL_DAEMON_DIR)" || { make; exit 1; }
