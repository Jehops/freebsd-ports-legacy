*** Makefile.orig	Mon Jan  9 23:41:06 1995
--- Makefile	Tue Jan 10 00:05:59 1995
***************
*** 46,52 ****
  #REAL_DAEMON_DIR=/usr/sbin
  #
  # BSD 4.4
! #REAL_DAEMON_DIR=/usr/libexec
  #
  # HP-UX SCO
  #REAL_DAEMON_DIR=/etc
--- 48,54 ----
  #REAL_DAEMON_DIR=/usr/sbin
  #
  # BSD 4.4
! REAL_DAEMON_DIR=/usr/libexec
  #
  # HP-UX SCO
  #REAL_DAEMON_DIR=/etc
***************
*** 315,321 ****
  # the ones provided with this source distribution. The environ.c module
  # implements setenv(), getenv(), and putenv().
  
! AUX_OBJ= setenv.o
  #AUX_OBJ= environ.o
  #AUX_OBJ= environ.o strcasecmp.o
  
--- 317,323 ----
  # the ones provided with this source distribution. The environ.c module
  # implements setenv(), getenv(), and putenv().
  
! #AUX_OBJ= setenv.o
  #AUX_OBJ= environ.o
  #AUX_OBJ= environ.o strcasecmp.o
  
***************
*** 372,378 ****
  # host name aliases. Compile with -DSOLARIS_24_GETHOSTBYNAME_BUG to work
  # around this. The workaround does no harm on other Solaris versions.
  
! BUGS = -DGETPEERNAME_BUG -DBROKEN_FGETS
  #BUGS = -DGETPEERNAME_BUG -DBROKEN_FGETS -DINET_ADDR_BUG
  #BUGS = -DGETPEERNAME_BUG -DBROKEN_FGETS -DSOLARIS_24_GETHOSTBYNAME_BUG
  
--- 374,380 ----
  # host name aliases. Compile with -DSOLARIS_24_GETHOSTBYNAME_BUG to work
  # around this. The workaround does no harm on other Solaris versions.
  
! #BUGS = -DGETPEERNAME_BUG -DBROKEN_FGETS
  #BUGS = -DGETPEERNAME_BUG -DBROKEN_FGETS -DINET_ADDR_BUG
  #BUGS = -DGETPEERNAME_BUG -DBROKEN_FGETS -DSOLARIS_24_GETHOSTBYNAME_BUG
  
***************
*** 390,396 ****
  # If your system supports vsyslog(), comment out the following definition.
  # If in doubt leave it in, it won't harm.
  
! VSYSLOG	= -Dvsyslog=myvsyslog
  
  # End of the system dependencies.
  #################################
--- 392,398 ----
  # If your system supports vsyslog(), comment out the following definition.
  # If in doubt leave it in, it won't harm.
  
! #VSYSLOG	= -Dvsyslog=myvsyslog
  
  # End of the system dependencies.
  #################################
***************
*** 409,415 ****
  # Uncomment the next definition to turn on the language extensions
  # (examples: allow, deny, banners, twist and spawn).
  # 
! #STYLE	= -DPROCESS_OPTIONS	# Enable language extensions.
  
  ################################################################
  # Optional: Changing the default disposition of logfile records
--- 411,417 ----
  # Uncomment the next definition to turn on the language extensions
  # (examples: allow, deny, banners, twist and spawn).
  # 
! STYLE	= -DPROCESS_OPTIONS	# Enable language extensions.
  
  ################################################################
  # Optional: Changing the default disposition of logfile records
***************
*** 432,438 ****
  #
  # The LOG_XXX names below are taken from the /usr/include/syslog.h file.
  
! FACILITY= LOG_MAIL	# LOG_MAIL is what most sendmail daemons use
  
  # The syslog priority at which successful connections are logged.
  
--- 434,441 ----
  #
  # The LOG_XXX names below are taken from the /usr/include/syslog.h file.
  
! #FACILITY= LOG_MAIL	# LOG_MAIL is what most sendmail daemons use
! FACILITY= LOG_AUTH
  
  # The syslog priority at which successful connections are logged.
  
***************
*** 507,513 ****
  # look for access control information. Watch out for the quotes and
  # backslashes when you make changes.
  
! TABLES	= -DHOSTS_DENY=\"/etc/hosts.deny\" -DHOSTS_ALLOW=\"/etc/hosts.allow\"
  
  ####################################################
  # Optional: dealing with host name/address conflicts
--- 510,516 ----
  # look for access control information. Watch out for the quotes and
  # backslashes when you make changes.
  
! TABLES	= -DHOSTS_DENY=\"${PREFIX}/etc/hosts.deny\" -DHOSTS_ALLOW=\"${PREFIX}/etc/hosts.allow\"
  
  ####################################################
  # Optional: dealing with host name/address conflicts
***************
*** 524,530 ****
  # requests. When paranoid mode is off and a host name double check fails,
  # the client can be matched with the PARANOID access control pattern.
  
! PARANOID= -DPARANOID
  
  #############################################
  # Optional: Turning on host ADDRESS checking
--- 527,533 ----
  # requests. When paranoid mode is off and a host name double check fails,
  # the client can be matched with the PARANOID access control pattern.
  
! #PARANOID= -DPARANOID
  
  #############################################
  # Optional: Turning on host ADDRESS checking
***************
*** 587,592 ****
--- 590,610 ----
  LIB	= libwrap.a
  
  all other: config-check tcpd tcpdmatch try-from safe_finger tcpdchk
+ 
+ install:
+ 	install -c libwrap.a ${PREFIX}/lib/libwrap.a
+ 	install -c tcpd ${PREFIX}/libexec/tcpd
+ 	install -c tcpdchk ${PREFIX}/sbin/tcpdchk
+ 	install -c tcpdmatch ${PREFIX}/sbin/tcpdmatch
+ 	install -c safe_finger ${PREFIX}/bin/safe_finger
+ 	install -c tcpd.8 ${PREFIX}/man/man8/tcpd.8
+ 	install -c tcpdchk.8 ${PREFIX}/man/man8/tcpdchk.8
+ 	install -c tcpdmatch.8 ${PREFIX}/man/man8/tcpdmatch.8
+ 	install -c hosts_access.3 ${PREFIX}/man/man3/hosts_access.3
+ 	install -c hosts_access.5 ${PREFIX}/man/man5/hosts_access.5
+ 	install -c hosts_options.5 ${PREFIX}/man/man5/hosts_options.5
+ 	
+ 
  
  # Invalidate all object files when the compiler options (CFLAGS) have changed.
  
