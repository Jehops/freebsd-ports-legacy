--- Makefile.orig	Fri Jan 21 13:47:17 2000
+++ Makefile	Sat Feb  5 23:59:19 2000
@@ -3,7 +3,7 @@
 #
 # $Id: Makefile,v 1.10 2000/01/21 21:46:41 nwinton Exp nwinton $
 
-OS =
+OS = freebsd
 
 ###
 ### Locations of tools, libraries and installation directories.
@@ -17,33 +17,34 @@
 CC_win32 = /gcc-2.95/bin/gcc
 CC_linux = gcc
 CC_solaris = gcc
-CC = $(CC_$(OS))
+CC_freebsd = cc
+CC ?= $(CC_$(OS))
 
 # Optimise/debug compilation
 
 #OPTIM = -Wall -g
-OPTIM = -Wall -O
+OPTIM = -Wall
 
 # Location of gmp include and library
 
-GMPINC = -I../gmp-2.0.2
-GMPLIB = ../gmp-2.0.2/libgmp.a
+GMPINC =
+GMPLIB = -lgmp
 
 # Location of Blowfish include and library
 
-BFINC = -I../blowfish
-BFLIB = ../blowfish/libblowfish.a
+BFINC = -I${OPENSSLINC} -I${OPENSSLINC}/openssl
+BFLIB = ${OPENSSLLIB}/libcrypto.a
 
 # Location of zlib include and library
 
-ZINC = -I../zlib-1.1.3
-ZLIB = ../zlib-1.1.3/libz.a
+ZINC =
+ZLIB = -lz
 
 # Location of bzlib include and library
 # Set these empty if you don't want bzib2 support
 
-BZINC = -I../bzip2-0.9.5d
-BZLIB = ../bzip2-0.9.5d/libbz2.a
+BZINC = -I${LOCALBASE}/include
+BZLIB = ${LOCALBASE}/lib/libbz2.a
 #
 # Tools needed for Perl "POD"-format documentation conversion.
 #
@@ -90,6 +91,7 @@
 DEFINES_win32 = 				# Win32
 DEFINES_linux = -D_REENTRANT -DHAVE_PTHREADS	# Linux
 DEFINES_solaris = -D_REENTRANT -DHAVE_PTHREADS	# Solaris
+DEFINES_freebsd = -D_REENTRANT			# FreeBSD
 DEFINES = $(DEFINES_$(OS))
 
 # Suffix for executables
@@ -101,6 +103,7 @@
 
 OSLIBS_win32 = -lwsock32 -lwinmm		# Win32
 OSLIBS_linux = -lpthread			# Linux
+OSLIBS_freebsd =				# FreeBSD
 OSLIBS_solaris = -lsocket -lnsl -lthread	# Solaris
 OSLIBS = $(OSLIBS_$(OS))
 
@@ -116,7 +119,8 @@
 #### You REALLY shouldn't have to modify anything beyond here ...
 ####
 
-CFLAGS = $(OPTIM) $(DEFINES) -I. $(GMPINC) $(BFINC) $(ZINC) $(BZINC)
+CFLAGS ?= -O
+CFLAGS += $(OPTIM) $(DEFINES) -I. $(GMPINC) $(BFINC) $(ZINC) $(BZINC)
 
 LIBS = $(GMPLIB) $(BFLIB) $(ZLIB) $(BZLIB) $(OSLIBS)
 
