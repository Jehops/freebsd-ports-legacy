--- src/Makefile.orig	2009-05-09 19:11:47.000000000 +0400
+++ src/Makefile	2009-07-16 21:43:41.000000000 +0400
@@ -13,8 +13,8 @@
 
 WARN=-Wall -pedantic
 
-BSD_CFLAGS=-O2 -fpic $(WARN) $(INCDIR) $(DEFS)
-BSD_LDFLAGS=-O -shared -fpic $(LIBDIR)
+BSD_CFLAGS=-fpic $(WARN) $(INCDIR) $(DEFS)
+BSD_LDFLAGS=-shared -fpic $(LIBDIR)
 
 LNX_CFLAGS=-O2 -fpic $(WARN) $(INCDIR) $(DEFS)
 LNX_LDFLAGS=-O -shared -fpic $(LIBDIR)
@@ -24,10 +24,10 @@
 MAC_LDFLAGS=-bundle -undefined dynamic_lookup $(LIBDIR)
 
 CP=cp
-CC=gcc
+CC?=gcc
 LD=$(MYENV) gcc
-CFLAGS=$(MYCFLAGS)
-LDFLAGS=$(MYLDFLAGS)
+CFLAGS+=$(MYCFLAGS)
+LDFLAGS+=$(MYLDFLAGS)
 
 .PHONY: all clean install none linux bsd macosx
 
