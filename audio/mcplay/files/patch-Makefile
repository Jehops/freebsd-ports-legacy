--- Makefile.orig	2002-04-28 06:30:35.000000000 -0700
+++ Makefile	2010-03-19 11:07:59.000000000 -0700
@@ -13,7 +13,7 @@
 SOX_CFLAGS=-DHAVE_SOX
 
 #uncomment _one_ of these for midi support
-MID_CFLAGS=-DHAVE_DRVMIDI
+#MID_CFLAGS=-DHAVE_DRVMIDI
 #MID_CFLAGS=-DHAVE_PLAYMIDI
 
 #uncomment these two lines if you have lirc
@@ -24,7 +24,7 @@
 #LOG_CFLAGS=-DLOG_DIR_S=\"/tmp\"
 
 #set install dirs here
-INSTDIR=/usr/local
+INSTDIR=${PREFIX}
 BINDIR=$(INSTDIR)/bin
 
 #####################################################################
@@ -33,7 +33,7 @@
 PROGNAME=mcplay
 VERSION=0.3i
 DISTDIR=$(PROGNAME)-$(VERSION)
-CC=gcc
+CC?=gcc
 TARGET=mcplay
 OBJECTS=mcplay.o \
         screen.o \
@@ -48,7 +48,7 @@
 
 DATA=Makefile COPYING
 
-MY_CFLAGS=-Wall -g -I. -DPROGNAME_S=\"$(PROGNAME)\" -DVERSION_S=\"$(VERSION)\" $(LOG_CFLAGS)
+MY_CFLAGS=-Wall -I. -DPROGNAME_S=\"$(PROGNAME)\" -DVERSION_S=\"$(VERSION)\" $(LOG_CFLAGS)
 MY_LFLAGS=
 
 PLAYER_CFLAGS=$(MPG_CFLAGS) $(OGG_CFLAGS) $(SOX_CFLAGS) $(MID_CFLAGS)
@@ -60,7 +60,7 @@
 NCURSES_CFLAGS=
 NCURSES_LFLAGS=-lncurses
 
-CFLAGS=$(MY_CFLAGS) $(PLAYER_CFLAGS) $(GLIB_CFLAGS) $(NCURSES_CFLAGS) $(LIRC_CFLAGS)
+CFLAGS+=$(MY_CFLAGS) $(PLAYER_CFLAGS) $(GLIB_CFLAGS) $(NCURSES_CFLAGS) $(LIRC_CFLAGS)
 LFLAGS=$(MY_LFLAGS) $(PLAYER_LFLAGS) $(GLIB_LFLAGS) $(NCURSES_LFLAGS) $(LIRC_LFLAGS)
 
 all: $(TARGET)
