--- Makefile.orig	Fri Dec 15 17:35:55 2000
+++ Makefile	Sun Dec 24 13:53:37 2000
@@ -5,14 +5,14 @@
 
 #use Enhanced 3D Now!
 #you need modified NASM to use this option
-USE_E3DN=yes
+USE_E3DN=no
 
 #use VBR
 USE_VBR =yes
 
 #use multi-thread
 #OS must be Linux with libc6, FreeBSD-4.0R with linuxthreads or BeOS 
-USE_MT=yes
+#USE_MT=yes
 
 #define if OS is BeOS
 #OS=BeOS
@@ -30,15 +30,15 @@
 endif
 
 # common definition
-LD=gcc
+LD=$(CC)
 #LD=gcc -Wl,-Map,gogo.map
 LIBS=-lm
-CC=gcc -c -m486 -O3 -finline-functions -fomit-frame-pointer -funroll-loops
+#CC=gcc -c -m486 -O3 -finline-functions -fomit-frame-pointer -funroll-loops
 # This option is available for gcc-2.8.x
 #CC=gcc -c -mcpu=pentiumpro -malign-double -O6 -fstrength-reduce -fexpensive-optimizations  -finline-functions -fomit-frame-pointer -funroll-loops
 # This option is available for gcc-2.95.1, gcc-2.95.2, gcc-2.95.3,...
 #CC=gcc -c -mcpu=pentiumpro -march=pentiumpro -O9 -fstrength-reduce -fexpensive-optimizations -finline-functions -fomit-frame-pointer -funroll-loops -ffast-math -foptimize-register-move -fdefer-pop -mfancy-math-387
-CFLAGS=-Wall $(PROF) -DNDEBUG $(E3DN) $(VBR) -DRAW_INPUT
+CFLAGS+=-Wall $(PROF) -DNDEBUG $(E3DN) $(VBR) -DRAW_INPUT
 
 
 # OS specific definition
@@ -62,8 +62,8 @@
 ifeq ($(OS),FreeBSD)
 	CFLAGS+= -DDISPLAY_REALTIME
 	ifeq ($(USE_MT),yes)
-		LIBS+= -L/usr/local/lib -llthread -llgcc_r
-		CFLAGS+= -DUSE_PTHREAD -D_THREAD_SAFE -I/usr/local/include/pthread/linuxthreads
+		LIBS+= -L${LOCALBASE}/lib -llthread -llgcc_r
+		CFLAGS+= -DUSE_PTHREAD -D_THREAD_SAFE -I${LOCALBASE}/include/pthread/linuxthreads
 	endif
 endif
 ifeq ($(OS),OpenBSD)
@@ -110,7 +110,7 @@
 #	$(AS) $(ASFLAGS) $< -o $@
 
 .c.o:
-	$(CC) $(CFLAGS) $<
+	$(CC) -c $(CFLAGS) $<
 
 
 clean:
