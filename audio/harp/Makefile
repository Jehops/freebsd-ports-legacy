# $FreeBSD$

PORTNAME=	harp
PORTVERSION=	0.5.2
PORTREVISION=	5
CATEGORIES=	audio
MASTER_SITES=	SF/${PORTNAME}

MAINTAINER=	heckendorfc@gmail.com
COMMENT=	Minimalist audio player

LICENSE=	GPLv3

USES=		libtool
GNU_CONFIGURE=	yes

USE_SQLITE=	yes

USE_LDCONFIG=	yes

OPTIONS_DEFINE=	AAC FLAC MP3 SHOUTCAST VORBIS JACK DOCS
OPTIONS_DEFAULT=	AAC FLAC MP3 SHOUTCAST VORBIS
OPTIONS_SUB=	yes

PORTDOCS=	README

INSTALL_TARGET=	install-strip

AAC_LIB_DEPENDS=	libfaad.so:${PORTSDIR}/audio/faad
AAC_CONFIGURE_WITH=	aac

FLAC_LIB_DEPENDS=	libFLAC.so:${PORTSDIR}/audio/flac
FLAC_CONFIGURE_WITH=	flac

MP3_LIB_DEPENDS+=	libmpg123.so:${PORTSDIR}/audio/mpg123
MP3_CONFIGURE_WITH=	mp3

SHOUTCAST_CONFIGURE_WITH=	stream

VORBIS_LIB_DEPENDS=	libvorbisfile.so:${PORTSDIR}/audio/libvorbis
VORBIS_CONFIGURE_WITH=	vorbis

JACK_CONFIGURE_WITH=	jack
JACK_LIB_DEPENDS=	libjack.so:${PORTSDIR}/audio/jack

post-install:
	@${MKDIR} ${STAGEDIR}${DOCSDIR}
	${INSTALL_DATA} ${WRKSRC}/README ${STAGEDIR}${DOCSDIR}

.include <bsd.port.mk>
