--- makefile.orig	Wed Nov 22 21:34:58 2000
+++ makefile	Sat May 11 23:29:17 2002
@@ -5,19 +5,18 @@
 # Change these if you want to install somewhere else. In particularly
 # you may wish to remove the middle "local/" part of each entry.
 
 INSTALL_PLUGINS_DIR	=	/usr/local/lib/ladspa/
 INSTALL_INCLUDE_DIR	=	/usr/include/
 INSTALL_BINARY_DIR	=	/usr/local/bin/
 
 ###############################################################################
 #
 # GENERAL
 #
 
-INCLUDES	=	-I.
-LIBRARIES	=	-ldl -lm
-CFLAGS		=	$(INCLUDES) -Wall -Werror -O3 -fPIC
-CXXFLAGS	=	$(CFLAGS)
+CFLAGS		+=	-I.
+CXXFLAGS	+=	-I.
+LDFLAGS		+=	-lm
 PLUGINS		=	../plugins/amp.so				\
 			../plugins/delay.so				\
 			../plugins/filter.so				\
@@ -26,9 +25,6 @@
 PROGRAMS	=	../bin/analyseplugin				\
 			../bin/applyplugin 				\
 			../bin/listplugins
-CC		=	cc
-CPP		=	c++
-
 ###############################################################################
 #
 # RULES TO BUILD PLUGINS FROM C OR C++ CODE
@@ -39,8 +35,8 @@
 	$(LD) -o ../plugins/$*.so plugins/$*.o -shared
 
 ../plugins/%.so:	plugins/%.cpp ladspa.h
-	$(CPP) $(CXXFLAGS) -o plugins/$*.o -c plugins/$*.cpp
-	$(CPP) -o ../plugins/$*.so plugins/$*.o -shared
+	$(CXX) $(CXXFLAGS) -o plugins/$*.o -c plugins/$*.cpp
+	$(CXX) -o ../plugins/$*.so plugins/$*.o -shared
 
 ###############################################################################
 #
@@ -90,17 +86,17 @@
 #
 
 ../bin/applyplugin:	applyplugin.o load.o				
-	$(CC) $(CFLAGS) $(LIBRARIES)					\
+	$(CC) $(CFLAGS) $(LDFLAGS)					\
 		-o ../bin/applyplugin					\
 		applyplugin.o load.o
 
 ../bin/analyseplugin:	analyseplugin.o load.o				
-	$(CC) $(CFLAGS) $(LIBRARIES)					\
+	$(CC) $(CFLAGS) $(LDFLAGS)					\
 		-o ../bin/analyseplugin 				\
 		analyseplugin.o load.o
 
 ../bin/listplugins:	listplugins.o search.o				
-	$(CC) $(CFLAGS) $(LIBRARIES)					\
+	$(CC) $(CFLAGS) $(LDFLAGS)					\
 		-o ../bin/listplugins	 				\
 		listplugins.o search.o
 
