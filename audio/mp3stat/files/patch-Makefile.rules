--- Makefile.rules.orig	Tue Mar 26 14:21:02 2002
+++ Makefile.rules	Tue Mar 26 14:22:36 2002
@@ -18,63 +18,25 @@
 WEBPAGE  = "http://safemode.homeip.net"
 
 all:
-	@if test -n "$(VORBIS)"; then \
-	    echo "";\
-	    echo "___ building backend ___";\
-	    echo "Using flags: $(BFLAGS)";\
-	    echo "";\
-	    echo "building $(OBJ)";\
-	    $(CXX) $(BFLAGS) $(CPPFLAGS) -c -o $(OBJ) $(OBJSRC);\
-	    echo "building $(OBJ2)";\
-	    $(CXX) $(BFLAGS) $(CPPFLAGS) -c -o $(OBJ2) $(OBJ2SRC);\
-	    echo "";\
-	    echo "___ building frontend ___";\
-	    if test -n "$(GTK)"; then \
-		echo "Using flags: $(BUILDFLAGS)";\
-	        echo "";\
-	        echo "building and linking $(TARGET)";\
-	        $(CXX) $(CPPFLAGS) -o $(TARGET) $(SRC) $(OBJ) $(OBJ2) $(BUILDFLAGS);\
-	    else \
-		echo "Using flags: $(TBUILDFLAGS)";\
-		echo "";\
-		echo "building and linking $(TARGET)";\
-		$(CXX) $(CPPFLAGS) -o $(TARGET) $(TSRC) $(OBJ) $(OBJ2) $(TBUILDFLAGS);\
-	    fi\
-	else \
-	    echo "";\
-	    echo "___ building backend ___";\
-	    echo "Using flags: $(CXXFLAGS)";\
-	    echo "";\
-	    echo "building $(OBJ)";\
-	    $(CXX) $(BFLAGS) $(CPPFLAGS) -c -o $(OBJ) $(OBJSRC);\
-	    echo "";\
-	    echo "___ building frontend ___";\
-	    if test -n "$(GTK)"; then \
-		echo "Using flags: $(BUILD2FLAGS)";\
-		echo "";\
-		echo "building and linking $(TARGET)";\
-		$(CXX) $(CPPFLAGS) -o $(TARGET) $(SRC) $(OBJ) $(BUILD2FLAGS);\
-	    else \
-		echo "Using flags: $(TBUILD2FLAGS)";\
-		echo "";\
-		echo "building and linking $(TARGET)";\
-		$(CXX) $(CPPFLAGS) -o $(TARGET) $(TSRC) $(OBJ) $(TBUILD2FLAGS);\
-	    fi\
-	fi
-	@echo " "
-	@echo "-------------------------------------------"
-	@echo "Vorbis support is set by default."
-	@echo "to disable edit Makefile and comment VORBIS"
-	@echo " "
-	@echo "gtk 1.2 ui built by default, to enable"
-	@echo "gtk 2.0 ui read the Makefile"
-	@echo "To disable, edit Makefile and comment GTK"
-	@echo "-------------------------------------------"
+ifdef VORBIS
+	$(CXX) $(CXXFLAGS) $(CPPFLAGS) -c -o $(OBJ) $(OBJSRC)
+	$(CXX) $(CXXFLAGS) $(CPPFLAGS) -c -o $(OBJ2) $(OBJ2SRC)
+ifdef GTK
+		$(CXX) $(BUILDFLAGS) $(CPPFLAGS) -o $(TARGET) $(SRC) $(OBJ) $(OBJ2)
+else
+		$(CXX) $(TBUILDFLAGS) $(CPPFLAGS) -o $(TARGET) $(TSRC) $(OBJ) $(OBJ2)
+endif
+else
+	$(CXX) $(CXXFLAGS) $(CPPFLAGS) -c -o $(OBJ) $(OBJSRC)
+ifdef GTK
+		$(CXX) $(BUILD2FLAGS) $(CPPFLAGS) -o $(TARGET) $(SRC) $(OBJ)
+else
+		$(CXX) $(TBUILD2FLAGS) $(CPPFLAGS) -o $(TARGET) $(TSRC) $(OBJ)
+endif
+endif
 
 clean:
 	rm -f *.o mp3stat
 
 install:
-	strip $(TARGET)
-	cp $(TARGET) /usr/local/bin
-
+	${BSD_INSTALL_PROGRAM} $(TARGET) ${PREFIX}/bin
