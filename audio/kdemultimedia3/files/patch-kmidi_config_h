--- kmidi/config.h.orig	Wed Dec 13 14:23:33 2000
+++ kmidi/config.h	Wed Dec 13 15:17:18 2000
@@ -329,8 +329,14 @@
 #define LE_SHORT(x) x
 #define LE_LONG(x) x
 #ifdef __FreeBSD__
-#define BE_SHORT(x) __byte_swap_word(x)
-#define BE_LONG(x) __byte_swap_long(x)
+#  include <osreldate.h>
+#  if __FreeBSD_version <= 500000
+#    define BE_SHORT(x) __byte_swap_word(x)
+#    define BE_LONG(x) __byte_swap_long(x)
+#  else
+#    define BE_SHORT(x) __uint8_swap_uint16(x)
+#    define BE_LONG(x) __uint8_swap_uint32(x)
+#  endif
 #else
 #define BE_SHORT(x) XCHG_SHORT(x)
 #define BE_LONG(x) XCHG_LONG(x)
@@ -339,8 +345,14 @@
 #define BE_SHORT(x) x
 #define BE_LONG(x) x
 #ifdef __FreeBSD__
-#define LE_SHORT(x) __byte_swap_word(x)
-#define LE_LONG(x) __byte_swap_long(x)
+#  include <osreldate.h>
+#  if __FreeBSD_version <= 500000
+#    define LE_SHORT(x) __byte_swap_word(x)
+#    define LE_LONG(x) __byte_swap_long(x)
+#  else
+#    define LE_SHORT(x) __uint8_swap_uint16(x)
+#    define LE_LONG(x) __uint8_swap_uint32(x)
+#  endif
 #else
 #define LE_SHORT(x) XCHG_SHORT(x)
 #define LE_LONG(x) XCHG_LONG(x)
