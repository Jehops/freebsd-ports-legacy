# New ports collection makefile for:	musicbox
# Date created:        			2000-12-31
# Whom:					trevor
# based on the NetBSD pkgsrc by tron@NetBSD.org
#
# $NetBSD: Makefile,v 1.7 2000/07/14 16:04:19 agc Exp $
# $FreeBSD$
#

PORTNAME=	musicbox
PORTVERSION=	1.01p2
CATEGORIES=	audio
MASTER_SITES=	${MASTER_SITE_NETBSD} # ftp://freebsd.csie.nctu.edu.tw/Upload/
EXTRACT_SUFX=	.tgz

MAINTAINER=	trevor@FreeBSD.org

RUN_DEPENDS=	mpg123:${PORTSDIR}/audio/mpg123
LIB_DEPENDS=	qt.3:${PORTSDIR}/x11-toolkits/qt145

DOCS=		ChangeLog README
EVAL_PREFIX+=	QT1DIR=qt
PATH=		${QT1DIR}/qt/bin:$$PATH
PLIST=		${WRKDIR}/pkg-plist
USE_X_PREFIX=	yes
WRKSRC=		${WRKDIR}/musicbox-1.01

pre-install:
	${ECHO} bin/musicbox > ${PLIST}
.if !defined(NOPORTDOCS)
.for i in ${DOCS}
	${ECHO} share/doc/musicbox/${i} >> ${PLIST}
.endfor
	${ECHO} @dirrm share/doc/musicbox >> ${PLIST}
.endif

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/musicbox ${PREFIX}/bin
.if !defined(NOPORTDOCS)
	${MKDIR} ${PREFIX}/share/doc/musicbox
.for i in ${DOCS}
	${INSTALL_DATA} ${WRKSRC}/${i} ${PREFIX}/share/doc/musicbox
.endfor
.endif

.include <bsd.port.mk>
