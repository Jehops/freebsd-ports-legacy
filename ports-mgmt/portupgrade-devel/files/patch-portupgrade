Index: bin/portupgrade
===================================================================
RCS file: /home/cvs/pkgtools/bin/portupgrade,v
retrieving revision 1.226
diff -u -2 -r1.226 portupgrade
--- bin/portupgrade	30 Jun 2004 16:51:46 -0000	1.226
+++ bin/portupgrade	6 Jul 2004 19:18:10 -0000
@@ -1691,5 +1691,7 @@
   end
 
-  latest_pkg, pkgfile = *pkglist.max { |pkg, file| pkg }
+  latest_pkg, pkgfile = *pkglist.max { |(pkg1, file1), (pkg2, file2)|
+    pkg1 <=> pkg2
+  }
 
   if latest_pkg
