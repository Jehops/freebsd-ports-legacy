# Created by: Sergei Kolobov <sergei@kolobov.com>
# $FreeBSD$

PORTNAME=	porttools
PORTVERSION=	0.99
PORTREVISION=	8
CATEGORIES=	ports-mgmt
MASTER_SITES=	SF

MAINTAINER=	joemann@beefree.free.de
COMMENT=	Tools for testing and submitting port updates and new ports

LICENSE=	BSD

RUN_DEPENDS=	portlint:${PORTSDIR}/ports-mgmt/portlint \
		cdiff:${PORTSDIR}/textproc/cdiff \
		sudo:${PORTSDIR}/security/sudo \
		svn:${PORTSDIR}/devel/subversion

MAKE_ENV=	DATADIR="${DATADIR}" DOCSDIR="${DOCSDIR}"
# Make the version information of porttools itself
# available for inclusion in the PRs generated by it.
MAKE_ENV+=	PORTVERSION="${PORTVERSION}"
.if defined(PORTREVISION)
MAKE_ENV+=	PORTREVISION="${PORTREVISION}"
.endif
.if defined(PORTEPOCH)
MAKE_ENV+=	PORTEPOCH="${PORTEPOCH}"
.endif

MAN1=		port.1
MAN5=		porttools.5

OPTIONS_DEFINE=	NEWFILE
OPTIONS_DEFAULT=	NEWFILE

NEWFILE_DESC=	Enable newfile support

.include <bsd.port.options.mk>

.if ${PORT_OPTIONS:MNEWFILE}
RUN_DEPENDS+=	newfile:${PORTSDIR}/devel/newfile
.endif

.if ${PORT_OPTIONS:MDOCS}
INSTALL_TARGET=	install install-docs
.endif

.include <bsd.port.mk>
