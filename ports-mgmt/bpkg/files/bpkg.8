.\" Copyright (c) 2007 Andy Kosela <andy.kosela@gmail.com>
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"
.Dd July 9, 2007
.Dt BPKG 8
.Os
.Sh NAME
.Nm bpkg
.Nd a simple tool for managing FreeBSD packages/ports.
.Sh SYNOPSIS
.Nm
.Op Fl bdDeEfFgiIkLmMnNoOprsSwz
.Ar pkg-name ...
.Nm
.Op Fl aAcChltvZ
.Pp
.Sh DESCRIPTION
.Nm
is a simple tool written in sh(1) for managing FreeBSD packages/ports. It is a 
wrapper around base system utilities manipulating the FreeBSD Ports Collection. 
The main goal of this project is to provide one universal tool for 
packages/ports management.
.Sh TERMINOLOGY
.An Nm Port
- a software ready to be compiled from source using the Ports Collection
framework.
.Pp
.An Nm Package
- an installed software (from binary package or port) or a binary package file 
in .tbz format made from a port.
.Sh OPTIONS
The following command line arguments are supported:
.Bl -tag -width F1
.It Ar pkg-name ...
with no additional arguments, upgrade/install the specified packages/ports.
.It Fl a
upgrade all installed packages (interactive mode). [no arguments]
.It Fl A
upgrade all installed packages (non-interactive mode). [no arguments]
.It Fl b
create backup package file in /usr/tmp/ from a locally installed package.
.It Fl c
clean all distfiles in /usr/ports/distfiles/* [no arguments]
.It Fl C
clean all distfiles in /usr/ports/distfiles/* and also all working directories 
of the ports tree /usr/ports/*/*/work/ [no arguments]
.It Fl d
delete the specified installed package.
.It Fl D
display description of the package/port.
.It Fl e
configure options for the specified package/port using dialog(1).
.It Fl E
compile and install any dependencies of the specified package/port and then 
compile and install the port itself. 
.It Fl f
show the packing list instructions for the package/port.
.It Fl F
show the latest available binary package in the FreeBSD repository.
.It Fl g
show files that do not match the recorded checksum in the specified installed
package.
.It Fl h
display help. [no arguments]
.It Fl i
display info about the package/port.
.It Fl I
display short info about the package/port.
It Fl k
show the deinstall script (if any) for the installed package.
.It Fl l
display short info about all installed packages. [no arguments]
.It Fl L
show the files within the installed package.
.It Fl m
display package/port's Makefile.
.It Fl M
show the install-message file for the installed package.
.It Fl n
simulation mode, do not actually install a package/port.
.It Fl N
perform non-interactive installation of the binary package.
.It Fl o
display config options for the specified package/port.
.It Fl O
remove config options for the specified package/port.
.It Fl p
search the ports tree for the specified port's name and display its path.
.It Fl r
show the list of all package/port's dependencies.
.It Fl s
show the total size occupied by files installed within the package.
.It Fl S
search the ports tree for the specified string.
.It Fl t
list all installed packages and dates of their installation. [no arguments]
.It Fl w
which installed package owns the specified file.
.It Fl v
list all installed packages and possible upgrades. [no arguments]
.It Fl z
display dynamic object dependencies for the specified package.
.It Fl Z
display all missing dynamic object dependencies. [no arguments] 
.El
.Sh EXIT STATUS
.Ex -std
.Sh EXAMPLES
The following is an example of a typical usage
of the
.Nm
command:
.Pp
.Dl Ar "# bpkg foo"
.Pp
Upgrade or install a package/port named foo (root privileges required).
.Pp
.Dl Ar "> bpkg -i 'foo bar'" 
.Pp
Display info about packages/ports foo and bar.
.Pp
.Dl Ar "> bpkg -S '/foo[0-9]+$'"
.Pp
Display all ports matching the regular expression.
.Pp
.Dl Ar "> bpkg -t | head"
.Pp
Display 10 most recently installed packages.
.Sh SEE ALSO
.Xr pkg_add 1 ,
.Xr pkg_create 1 ,
.Xr pkg_delete 1 ,
.Xr pkg_info 1 ,
.Xr pkg_version 1 ,
.Xr ports 7
.Sh AUTHORS
.An Andy Kosela <andy.kosela@gmail.com>
