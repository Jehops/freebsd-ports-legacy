# New ports collection makefile for:	nautilus-actions
# Date created:		2005-08-31
# Whom:			Michael Johnson <ahze@FreeBSD.org>
#
# $FreeBSD$
#

PORTNAME=	nautilus-actions
PORTVERSION=	0.6
PORTREVISION=	2
CATEGORIES=	deskutils
MASTER_SITES=	${MASTER_SITE_LOCAL} \
		http://people.freebsd.org/~ahze/distfiles/
MASTER_SITE_SUBDIR=	ahze

MAINTAINER=	ahze@FreeBSD.org
COMMENT=	Extension for Nautilus to configure programs to launch on files

USE_GNOME=	nautilus2 intlhack pygtk2
USE_GMAKE=	yes
USE_LIBTOOL_VER=15
USE_PYTHON=	yes
USE_X_PREFIX=	yes
USE_REINPLACE=	yes
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
CONFIGURE_ARGS=	--with-nautilus-extdir=${X11BASE}/lib/nautilus/extensions-1.0

INTLTOOLIZE?=	${LOCALBASE}/bin/intltoolize

post-patch:
	@${REINPLACE_CMD} -e 's|@datadir@datadir@/pixmaps|${DATADIR}/nact|' \
		${WRKSRC}/nact/nact.desktop.in.in

pre-configure:
	cd ${WRKSRC} && ${INTLTOOLIZE} --force

.include <bsd.port.mk>
