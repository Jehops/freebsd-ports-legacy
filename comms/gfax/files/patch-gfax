--- gfax.orig	Thu Jul  8 22:56:38 2004
+++ gfax	Thu Jul  8 23:48:36 2004
@@ -11,24 +11,20 @@
 #  CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECT-
 #  ION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 #
-RNAME=G$$
 # don't change this spool directory, gfax uses it.
 SPOOL_DIR=/var/spool/gfax
+RNAME=`mktemp -q $SPOOL_DIR/D.XXXXXX` || exit 1
 MYPATH=/usr/bin
 STD=no
 
 if [ -s /dev/stdin ]; then
-	cat > $SPOOL_DIR/D.$RNAME
+	cat > $RNAME
 	STD=yes
 fi
 
-if [ "$(pwd)" = "/home/george/Projects/gfax" ]; then
-	MYPATH=/home/george/Projects/gfax
-fi
-
 if [ $STD = "yes" ]; then
-	mono $MYPATH/mono-gfax.exe -f $SPOOL_DIR/D.$RNAME
-	#rm -f $SPOOL_DIR/D.$RNAME
+	mono $MYPATH/mono-gfax.exe -f $RNAME
+	#rm -f $RNAME
 	exit 0
 fi
 
