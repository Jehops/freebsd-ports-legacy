# New ports collection makefile for:	openobex
# Date created:				15 March 2004
# Whom:					Guido Falsi <mad@madpilot.net>
#
# $FreeBSD$
#

PORTNAME=	openobex
PORTVERSION=	1.4
CATEGORIES=	comms net
MASTER_SITES=	http://www.kernel.org/pub/linux/bluetooth/ \
		http://www.de.kernel.org/pub/linux/bluetooth/

MAINTAINER=	mad@madpilot.net
COMMENT=	Open source implementation of the OBEX protocol

USE_GMAKE=	yes
USE_LDCONFIG=	yes
GNU_CONFIGURE=	yes
USE_GNOME=	gnomehack

OPTIONS=	LIBUSB "Enable OBEX over USB" no

.include <bsd.port.pre.mk>

.if defined(WITH_LIBUSB)
LIB_DEPENDS+=	usb-0.1.8:${PORTSDIR}/devel/libusb
CONFIGURE_ARGS+=--enable-usb
CFLAGS+=	-I${PREFIX}/include
.else
CONFIGURE_ARGS+=--disable-usb
.endif

.include <bsd.port.post.mk>
