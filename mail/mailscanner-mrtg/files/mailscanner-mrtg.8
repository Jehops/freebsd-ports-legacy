.\" Automatically generated by Pod::Man v1.34, Pod::Parser v1.14
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "MAILSCANNER-MRTG 1"
.TH MAILSCANNER-MRTG 1 "2004-02-05" "perl v5.8.0" "User Contributed Perl Documentation"
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
mailscanner-mrtg \fIswitches\fR \fIoption\fR
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
MailScanner-MRTG provides configuration files, web pages and related perl scripts for mrtg to monitor many aspects of your MailScanner machine.  
.PP
Most users will interact with MailScanner-MRTG through the web interface by pointing their browser of choice at...
.PP
http://<thismachine>/mailscanner\-mrtg/
.PP
mailscanner-mrtg is the main perl 'worker' script which is called by mrtg to obtain the data for each category.  It will not normally be necessary for the user to call this script manually, however this may prove useful for debugging purposes.  It should be noted that this script is designed to extract all data once every five minutes \- subsequent calls within a five minute window will return cached data.
.PP
The behaviour of MailScanner-MRTG can be customised by editing the main configuration file (mailscanner\-mrtg.conf) which can be found in the MailScanner configuration directory.  Hardcore \s-1MRTG\s0 fans might also like to play with the \s-1MRTG\s0 configuration in mailscannner.cfg, which can be found in the mrtg configuration directory.
.SH "ARGUMENTS"
.IX Header "ARGUMENTS"
\&\fIswitches\fR should be any of the following...
.IP "\-d, \-\-debug" 4
.IX Item "-d, --debug"
Print extensive debugging output to stderr
.PP
\&\fIoption\fR should be one of the following...
.IP "loadavg" 4
.IX Item "loadavg"
Returns the load average over the last five minutes
.IP "cpu" 4
.IX Item "cpu"
Returns the cpu utiliization percentage
.IP "memory" 4
.IX Item "memory"
Returns the average amount of ram is use during the last five minutes
.IP "iptraffic" 4
.IX Item "iptraffic"
Returns the amount of ip traffic on the interfaces listed in the config file
.IP "inqueue" 4
.IX Item "inqueue"
Returns the number of files in the incoming mail queue
.IP "outqueue" 4
.IX Item "outqueue"
Returns the number of files in the outgoing mail queue
.IP "outqueue" 4
.IX Item "outqueue"
Returns the number of files in quarantine
.IP "rootusage" 4
.IX Item "rootusage"
Returns the percentage of free space in the root filesystem
.IP "spoolusage" 4
.IX Item "spoolusage"
Returns the percent of disk space available in the spool filesystem
.IP "tmpfsusage" 4
.IX Item "tmpfsusage"
Returns the percentage of free space in the MailScanner work filesystem (useful if this is in tmpfs)
.IP "mailscanner" 4
.IX Item "mailscanner"
Returns the number of copies of mailscanner running
.IP "mta" 4
.IX Item "mta"
Returns the number of \s-1MTA\s0 processes running
.IP "mail" 4
.IX Item "mail"
Returns the amount of mail relayed today
.IP "mailbytes" 4
.IX Item "mailbytes"
Returns the bytes of mail relayed today
.IP "virus" 4
.IX Item "virus"
Returns the number of viruses detected today
.IP "spam" 4
.IX Item "spam"
Returns the number of mails identified as spam today
.IP "virusratio" 4
.IX Item "virusratio"
Returns the percentage of mail detected as infected \- normally this is over the previous five minute period, unless \fIRatios are Daily\fR is set to yes in the configuration file.  Note that some infected mails trigger more than one check, in which case this figure is likely overstate the infection level (since it is actually number of tests triggered against the number of mails)
.IP "spamratio" 4
.IX Item "spamratio"
Returns the percentage of mails identified as spam \- normally this is over the previous five minute period, unless \fIRatios are Daily\fR is set to yes in the configuration file.
.SH "AUTHORS"
.IX Header "AUTHORS"
MailScanner-MRTG originally by Dale Lovelace <dlovelace@hotels.com>
.PP
Extensively revised and restructured by Kevin Spicer <kevin@kevinspicer.co.uk>
.PP
With contributions from many others, please see the changelog.
.SH "BUGS"
.IX Header "BUGS"
(aka features!)
.PP
spoolusage and tmpfsusage may return zero values if the configured paths do not correspond to a mount point.  This is deliberate, since indicating the space available on the underlying filesystem may be misleading.
.PP
cpu, memory and iptraffic will return zero values if UCD-SNMP or NET-SNMP are not installed, or are disabled in the configuration file.
Currently blank graphs will still be shown on the web interface.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
MailScanner mrtg 
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright (C) 2002\-3 Dale Lovelace >dlovelace@hotels.com<
Copyright (C) 2003\-4 Kevin Spicer >kevin@kevinspicer.co.uk<
All other contributions copyright of their respective authors (see the \s-1CHANGELOG\s0 and comments in the code for details).
.PP
This program is free software; you can redistribute it and/or modify
it under the terms of the \s-1GNU\s0 General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.
.PP
This program is distributed in the hope that it will be useful,
but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of
\&\s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.  See the
\&\s-1GNU\s0 General Public License for more details.
.PP
You should have received a copy of the \s-1GNU\s0 General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place, Suite 330, Boston, \s-1MA\s0  02111\-1307  \s-1USA\s0
