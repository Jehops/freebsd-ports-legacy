--- configure.orig	2009-08-24 11:10:44.000000000 +0200
+++ configure	2009-08-24 11:13:05.000000000 +0200
@@ -16389,6 +16389,16 @@ case "$host" in
 	SOFTOKN3_LIB=''
 	HAL_REQUIREMENT=''
 	;;
+*freebsd*) os_win32=no
+	NO_UNDEFINED=''
+	SOCKET_LIBS=''
+	SOEXT='.so'
+	SA_JUNK_PLUGIN=sa-junk-plugin
+	BF_JUNK_PLUGIN=bogo-junk-plugin
+	DL_LIB=''
+	SOFTOKN3_LIB='-lsoftokn3'
+	HAL_REQUIREMENT='hal'
+	;;
 *)
 	os_win32=no
 	NO_UNDEFINED=''
@@ -18403,6 +18413,7 @@ cat >>conftest.$ac_ext <<_ACEOF
 		#include <sys/socket.h>
 		#include <netinet/in.h>
 		#include <netdb.h>
+		#include <stdio.h>
 
 		#define BUFSIZE (sizeof(struct hostent)+10)
 
@@ -22101,7 +22112,7 @@ if test "x${with_krb5}" != "xno"; then
 	LIBS_save="$LIBS"
 
 	mitlibs="-lkrb5 -lk5crypto -lcom_err -lgssapi_krb5"
-	heimlibs="-lkrb5 -lcrypto -lasn1 -lcom_err -lroken -lgssapi"
+	heimlibs="-lkrb5 -lcrypto -lasn1 -lcom_err -lroken -lgssapi -lcrypt"
 	sunlibs="-lkrb5 -lgss"
 	{ $as_echo "$as_me:$LINENO: checking for Kerberos 5" >&5
 $as_echo_n "checking for Kerberos 5... " >&6; }
@@ -30112,7 +30123,7 @@ componentdir="$privlibdir/components"
 idldir='${datadir}'/idl/evolution-$BASE_VERSION
 
 
-serverdir="$libdir/bonobo/servers"
+serverdir="$prefix/libdata/bonobo/servers"
 
 
 evolutionuidir="$privdatadir/ui"
