--- src/mtest/mtest.c.orig	Sat May 29 08:07:06 1999
+++ src/mtest/mtest.c	Fri Feb  4 12:25:32 2000
@@ -49,6 +49,7 @@
 #include "rfc822.h"
 #include "smtp.h"
 #include "nntp.h"
+#include "safegets.h"
 
 /* Excellent reasons to hate ifdefs, and why my real code never uses them */
 
@@ -528,7 +529,7 @@
 void prompt (char *msg,char *txt)
 {
   printf ("%s",msg);
-  gets (txt);
+  safegets (txt);
 }
 
 /* Interfaces to C-client */
@@ -713,7 +714,7 @@
   puts (" Msg (end with a line with only a '.'):");
   body->type = TYPETEXT;
   *text = '\0';
-  while (gets (line)) {
+  while (safegets (line)) {
     if (line[0] == '.') {
       if (line[1] == '\0') break;
       else strcat (text,".");
