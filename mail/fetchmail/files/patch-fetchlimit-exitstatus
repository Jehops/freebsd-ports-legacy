Index: driver.c
===================================================================
--- driver.c	(Revision 5254)
+++ driver.c	(Revision 5255)
@@ -1435,9 +1435,11 @@
 		/* end-of-mailbox processing before we repoll or switch to another one */
 		if (ctl->server.base_protocol->end_mailbox_poll)
 		{
-		    err = (ctl->server.base_protocol->end_mailbox_poll)(mailserver_socket, ctl);
-		    if (err)
+		    tmperr = (ctl->server.base_protocol->end_mailbox_poll)(mailserver_socket, ctl);
+		    if (tmperr) {
+			err = tmperr;
 			goto cleanUp;
+		    }
 		}
 		/* Return now if we have reached the fetchlimit */
 		if (maxfetch && maxfetch <= fetches)
