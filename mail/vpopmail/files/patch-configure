--- configure.orig	Thu Aug 28 21:09:47 2003
+++ configure	Fri Sep  5 00:13:14 2003
@@ -1317,7 +1317,7 @@
   ;;
 esac
 
-if test `$idcommand` != "0"
+if false && test `$idcommand` != "0"
 then
     echo "configure: warning: === vpopmail must be configured as root. ===" 1>&2
     echo "configure: warning: === please switch to the root user and  ===" 1>&2
@@ -1601,15 +1601,6 @@
 EOF
 
 
-if test ! -d $vpopmaildir/etc
-then 
-	mkdir $vpopmaildir/etc
-	chown $vpopmailuid "$vpopmaildir"/etc 
-	chgrp $vpopmailgid "$vpopmaildir"/etc 
-        chmod 755 "$vpopmaildir"/etc
-        echo "configure: warning: making a vpopmail etc directory " 1>&2
-fi
-
 # Check whether --enable-roaming-users or --disable-roaming-users was given.
 if test "${enable_roaming_users+set}" = set; then
   enableval="$enable_roaming_users"
@@ -1671,17 +1662,7 @@
 if test "${enable_tcpserver_file+set}" = set; then
   enableval="$enable_tcpserver_file"
   tcpserver_file="$enableval"
-else
-  
-        if test "$tcpserver_file" = ""
-        then
-	    echo "127.:allow,RELAYCLIENT=\"\"" > "$vpopmaildir"/etc/tcp.smtp
-    	    tcpserver_file="$vpopmaildir"/etc/tcp.smtp
-	
-            echo "configure: warning: Unable to find your tcpserver relay file." 1>&2
-            echo "configure: warning: Creating tcp.smtp in "$vpopmaildir"/etc/tcp.smtp." 1>&2
-        fi
-     
+  echo "127.:allow,RELAYCLIENT=\"\"" > ${VCFGDIR}/tcp.smtp
 fi
 
 cat >> confdefs.h <<EOF
