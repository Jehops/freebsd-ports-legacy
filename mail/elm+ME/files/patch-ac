--- Configure.orig	Sat Jan 19 01:18:12 2002
+++ Configure	Sat Jan 19 17:19:40 2002
@@ -84,10 +84,10 @@
     yes)
     ;;
     *)
-    if test ! -t 0; then
-	echo "Say 'sh Configure', not 'sh <Configure'"
-	exit 1
-    fi
+#     if test ! -t 0; then
+# 	echo "Say 'sh Configure', not 'sh <Configure'"
+# 	exit 1
+#     fi
     ;;
 esac
 
@@ -157,6 +157,7 @@
 	nomap=y
     fi
     . ConfTool/GenCharmap 
+    cp doc/terminal.info bin/elm.terminalinfo
     exit 0
     ;;
 map)
@@ -187,6 +188,7 @@
 	nomap=y
     fi
     . ConfTool/GenCharmap 
+    cp doc/terminal.info bin/elm.terminalinfo
     exit 0
     ;;
 esac
@@ -2050,7 +2052,7 @@
 	echo "Found shlib directory"
     fi
 
-    $echo "Trying create chared library"
+    $echo "Trying create shared library"
 
     LibLoc=`cd ..; pwd`/shlib
     
@@ -2342,7 +2344,10 @@
 
 : see if crypt exists
 echo " "
-if $contains '^crypt$' libc.list >/dev/null 2>&1; then
+if $test "$cryptlib" = -lcrypt; then
+    echo 'crypt() found.'
+    d_crypt="$define"
+elif $contains '^crypt$' libc.list >/dev/null 2>&1; then
     echo 'crypt() found.'
     d_crypt="$define"
     cryptlib=''
@@ -2846,6 +2851,7 @@
 
     $echo $n "Testing if inet_aton can be used ... $c"
     $cat > try.c <<'EOF'
+#include <sys/types.h>
 #include <sys/socket.h>
 #include <netinet/in.h>
 #include <arpa/inet.h>
