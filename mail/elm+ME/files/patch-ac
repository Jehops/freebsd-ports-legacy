--- Configure.orig	Fri May 11 19:35:20 2001
+++ Configure	Sun May 13 01:26:06 2001
@@ -16,10 +16,10 @@
 PATH=".:$PATH:/bin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/ucb:/usr/local:/usr/lbin:/etc:/usr/new:/usr/new/bin:/usr/nbin"
 export PATH || (echo "OOPS, this isn't sh.  Desperation time.  I will feed myself to sh."; sh $0; kill $$)
 
-if test ! -t 0; then
-    echo "Say 'sh Configure', not 'sh <Configure'"
-    exit 1
-fi
+# if test ! -t 0; then
+#     echo "Say 'sh Configure', not 'sh <Configure'"
+#     exit 1
+# fi
 
 (alias) >/dev/null 2>&1 && \
     echo "(I see you are using the Korn shell.  Some ksh's blow up on Configure," && \
@@ -1971,7 +1971,7 @@
 	echo "Found shlib directory"
     fi
 
-    $echo "Trying create chared library"
+    $echo "Trying create shared library"
 
     LibLoc=`cd ..; pwd`/shlib
     
@@ -2263,7 +2263,10 @@
 
 : see if crypt exists
 echo " "
-if $contains '^crypt$' libc.list >/dev/null 2>&1; then
+if $test "$cryptlib" = -lcrypt; then
+    echo 'crypt() found.'
+    d_crypt="$define"
+elif $contains '^crypt$' libc.list >/dev/null 2>&1; then
     echo 'crypt() found.'
     d_crypt="$define"
     cryptlib=''
@@ -2767,6 +2770,7 @@
 
     $echo $n "Testing if inet_aton can be used ... $c"
     $cat > try.c <<'EOF'
+#include <sys/types.h>
 #include <sys/socket.h>
 #include <netinet/in.h>
 #include <arpa/inet.h>
