--- Configure.orig	Fri Dec 29 20:57:04 2000
+++ Configure	Sat Jan  6 23:19:54 2001
@@ -16,10 +16,10 @@
 PATH=".:$PATH:/bin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/ucb:/usr/local:/usr/lbin:/etc:/usr/new:/usr/new/bin:/usr/nbin"
 export PATH || (echo "OOPS, this isn't sh.  Desperation time.  I will feed myself to sh."; sh $0; kill $$)
 
-if test ! -t 0; then
-    echo "Say 'sh Configure', not 'sh <Configure'"
-    exit 1
-fi
+# if test ! -t 0; then
+#     echo "Say 'sh Configure', not 'sh <Configure'"
+#     exit 1
+# fi
 
 (alias) >/dev/null 2>&1 && \
     echo "(I see you are using the Korn shell.  Some ksh's blow up on Configure," && \
@@ -1926,7 +1926,10 @@
 
 : see if crypt exists
 echo " "
-if $contains '^crypt$' libc.list >/dev/null 2>&1; then
+if $test "$cryptlib" = -lcrypt; then
+    echo 'crypt() found.'
+    d_crypt="$define"
+elif $contains '^crypt$' libc.list >/dev/null 2>&1; then
     echo 'crypt() found.'
     d_crypt="$define"
     cryptlib=''
