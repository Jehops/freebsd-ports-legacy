# New ports collection makefile for:    addresses-goodies
# Date created:         29 Nov 2006
# Whom:                 dirk.meyer@dinoex.sub.org
#
# $FreeBSD$
#

PORTNAME=	addresses
PORTVERSION=	0.4.6
PORTREVISION=	1
CATEGORIES=	mail
MASTER_SITES=	http://giesler.biz/bjoern/downloads/ \
		http://www.energyhq.es.eu.org/files/
PKGNAMESUFFIX=	-goodies${PKGNAMESUFFIX2}
DISTNAME=	Addresses-${PORTVERSION}

MAINTAINER=	dinoex@FreeBSD.org
COMMENT=	Goodies for addressbook for GNUstep

USE_GNUSTEP=	yes
USE_GNUSTEP_PREFIX=	yes
USE_GNUSTEP_BACK=	yes
USE_GNUSTEP_BUILD=	yes
USE_GNUSTEP_INSTALL=	yes
USE_GNUSTEP_SYSTEM_LIBS+=	Inspector:${GWORKSPACE_PORT}
USE_GNUSTEP_LOCAL_LIBS+=	Addresses:${ADDRESSES_PORT}
USE_GNUSTEP_LDCONFIG=	${LOCALLIBDIR}

WRKSRC=		${WRKDIR}/Addresses-${PORTVERSION}/Goodies

ADDRESSES_PORT?=	mail/addresses
GWORKSPACE_PORT?=	deskutils/gworkspace

post-patch:
	${REINPLACE_CMD} -e 's|LDAPAddressBook||' \
		-e 's|VCFViewer||' \
		${WRKSRC}/GNUmakefile
	${REINPLACE_CMD} -e 's|^GNUSTEP_INSTALLATION_DIR|#GNUSTEP_INSTALLATION_DIR|' \
		-e 's|GNUSTEP_INSTALLATION_DIR|GNUSTEP_SYSTEM_ROOT|' \
		-e 's|Library/GWorkspace|Library/Bundles|' \
		-e 's|-lGWorkspace|-lInspector|' \
		${WRKSRC}/VCFViewer/GNUmakefile
	${REINPLACE_CMD} -e 's|<GWorkspace/|<Inspector/|' \
		${WRKSRC}/VCFViewer/VCFViewer.h

.include <bsd.port.mk>
