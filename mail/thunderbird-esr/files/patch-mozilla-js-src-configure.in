--- mozilla/js/src/configure.in.orig	2010-11-04 21:05:48.000000000 +0100
+++ mozilla/js/src/configure.in	2010-11-22 21:30:24.000000000 +0100
@@ -2621,7 +2621,7 @@
     AC_DEFINE(JS_CPU_X86)
     AC_DEFINE(JS_NUNBOX32)
     ;;
-x86_64*-*)
+x86_64*-*|amd64*-*)
     ENABLE_TRACEJIT=1
     NANOJIT_ARCH=X64
     ENABLE_METHODJIT=1
@@ -2638,11 +2638,6 @@
     AC_DEFINE(JS_CPU_ARM)
     AC_DEFINE(JS_NUNBOX32)
     ;;
-sparc*-*)
-    ENABLE_TRACEJIT=1
-    NANOJIT_ARCH=Sparc
-    AC_DEFINE(JS_CPU_SPARC)
-    ;;
 esac
 
 MOZ_ARG_DISABLE_BOOL(methodjit,
@@ -2693,7 +2688,7 @@
 i?86-*)
     AC_DEFINE(AVMPLUS_IA32)
     ;;
-x86_64*-*)
+x86_64*-*|amd64*-*)
     AC_DEFINE(AVMPLUS_AMD64)
     AC_DEFINE(AVMPLUS_64BIT)
     ;;

