#!/bin/sh
# $FreeBSD$
# formerly $ FreeBSD: ports/mail/dspam-devel/files/dspam.rc,v 1.2 2005/02/25 03:09:26 leeym Exp $
# $Tecnik: ports/mail/dspam-devel/files/dspam-devel.sh.in,v 1.6 2006/02/07 20:42:07 itetcu Exp $

# PROVIDE: dspam
# REQUIRE: DAEMON %%MYSQL%% %%PGSQL%% %%CLAMD%%
# BEFORE: mail
# KEYWORD: shutdown

#
# Add the following lines to /etc/rc.conf[.local] to enable dspam:
#
# dspam_enable="YES"
#

. %%RC_SUBR%%

name=dspam
rcvar=`set_rcvar`

command=%%PREFIX%%/bin/${name}
command_args="--daemon  > /dev/null 2>&1 &"
required_dirs=%%DSPAM_HOME%%
required_files=%%PREFIX%%/etc/${name}.conf

extra_commands=reload

reload()
{
 kill -HUP `cat $pidfile`
}

# set defaults

dspam_enable=${dspam_enable:-"NO"}
#dspam_flags=${dspam_flags:-"--daemon &"}

load_rc_config $name
pidfile=${dspam_pidfile:-/var/run/dspam.pid}

run_rc_command "$1"
