
$FreeBSD$

--- mime.c.orig	Mon Nov 19 17:37:47 2001
+++ mime.c	Tue Jan 29 01:17:38 2002
@@ -183,7 +183,7 @@
 		if ((sz = xmbstowcs(w, t, LINESIZE)) == (size_t)-1)
 			return 0;
 		for (p = w, i = 0; *p && i < sz; p++, i++) {
-			if (!iswprint(*p) && *p != '\n' && *p != '\r'
+			if (!isprint(*p) && *p != '\n' && *p != '\r'
 					&& *p != '\b' && *p != '\t')
 				*p = '?';
 		}
@@ -319,6 +319,7 @@
 	return p;
 }
 
+#ifndef	HAVE_STRCASESTR
 /*
  * glibc 2.1 provides such a function, but others ...
  */
@@ -346,6 +347,7 @@
 	}
 	return p;
 }
+#endif
 
 #ifndef	HAVE_STRCASECMP
 /* One of the things I really HATE on some SysVs is that they still
