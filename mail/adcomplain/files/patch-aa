*** adcomplain.pl.bak	Sat Nov  8 18:32:40 1997
--- adcomplain.pl	Sat Nov  8 18:45:04 1997
***************
*** 1,3 ****
--- 1,4 ----
+ #!/usr/bin/perl
  #! /bin/sh -- # -*- perl -*-
  # first line invokes sh.  Some systems may need to refer to perl directly, i.e.:
  
***************
*** 7,14 ****
  # allows perl to be _anywhere_ in the user's path.  The intent is to reduce
  # the need to edit this file.
  
! eval 'exec perl $0 ${1+"$@"}'
! if 0;  # tee hee! This is on a separate line, so /bin/sh never sees it.
  
  #-----------------------------------------------
  # DESCRIPTION
--- 8,15 ----
  # allows perl to be _anywhere_ in the user's path.  The intent is to reduce
  # the need to edit this file.
  
! #eval 'exec perl $0 ${1+"$@"}'
! #if 0;  # tee hee! This is on a separate line, so /bin/sh never sees it.
  
  #-----------------------------------------------
  # DESCRIPTION
***************
*** 252,258 ****
  
  # this is the name of the mail utility (see sendmail(8) man page)
  # type "/bin/which sendmail" to find out where sendmail is on your system
! $mailcmd = "/usr/lib/sendmail -t";
  
  # this is a list of domain names for your system (e.g., "compuserve.com")
  # Names in this list are considered "friendly".  Including your own system
--- 253,259 ----
  
  # this is the name of the mail utility (see sendmail(8) man page)
  # type "/bin/which sendmail" to find out where sendmail is on your system
! $mailcmd = "/usr/sbin/sendmail -t";
  
  # this is a list of domain names for your system (e.g., "compuserve.com")
  # Names in this list are considered "friendly".  Including your own system
***************
*** 270,279 ****
  # If you have external executables that allow you to confirm host
  # addresses and names (i.e., gethostbyaddr and gethostbyname don't do it),
  # put them here, otherwise leave them empty.
! #$GETHOSTBYNAME = "";
! #$GETHOSTBYADDR = "";
! $GETHOSTBYNAME = "gethostbyname";
! $GETHOSTBYADDR = "gethostbyaddr";
  
  # Well, it works at GemStone.  Your mileage may vary :-(.
  #if (-x "/bin/remsh") { # HP-UX
--- 271,280 ----
  # If you have external executables that allow you to confirm host
  # addresses and names (i.e., gethostbyaddr and gethostbyname don't do it),
  # put them here, otherwise leave them empty.
! $GETHOSTBYNAME = "";
! $GETHOSTBYADDR = "";
! #$GETHOSTBYNAME = "gethostbyname";
! #$GETHOSTBYADDR = "gethostbyaddr";
  
  # Well, it works at GemStone.  Your mileage may vary :-(.
  #if (-x "/bin/remsh") { # HP-UX
***************
*** 398,404 ****
    }
  
  # Make sure critical messages are seen
! if ($poster eq "" || $complain_to eq "") {
    print "Press enter to continue.... ";
    $ans = <STDIN>;
    }
--- 399,405 ----
    }
  
  # Make sure critical messages are seen
! if (!$quiet && ($poster eq "" || $complain_to eq "")) {
    print "Press enter to continue.... ";
    $ans = <STDIN>;
    }
***************
*** 489,494 ****
--- 490,496 ----
  close TEXTFILE;
  $response = ""; # garbage collection
  
+ if (!$quiet) {
  ## print copy of message on terminal
  print "\n";
  $pager = $ENV{"PAGER"};
***************
*** 523,528 ****
--- 525,534 ----
    } # for
  
  print "\n";
+ } else {
+   system "$mailcmd <$tempname"; # Unix dependent
+   print "sent\n";
+ }
  unlink $tempname;
  close STDIN;
  exit 0;
***************
*** 1974,1980 ****
      "0200", "EET, MET DST, METDST, MEST, MESZ, SST, FST, O",
  				# Middle Europe Daylight
  				# Swedish Summer Time, French Summer Time
!     "0300", "EET DST, IST, BT, P", # Turkey, Israel
      "0330", "IT",		# Iran?
      "0400", "IDT, MSD, ZP4, Q",
      "0500", "ZP5, R",		# USSR Zone 4
--- 1980,1986 ----
      "0200", "EET, MET DST, METDST, MEST, MESZ, SST, FST, O",
  				# Middle Europe Daylight
  				# Swedish Summer Time, French Summer Time
!     "0300", "EET DST, IST, MSK, BT, P", # Turkey, Moscow, Israel
      "0330", "IT",		# Iran?
      "0400", "IDT, MSD, ZP4, Q",
      "0500", "ZP5, R",		# USSR Zone 4
