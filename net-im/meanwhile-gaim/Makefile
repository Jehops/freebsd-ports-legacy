# New ports collection makefile for:	meanwhile-gaim
# Date created:		24 June 2004
# Whom:		 	marcus@FreeBSD.org
#
# $FreeBSD$
#

PORTNAME=	meanwhile
PORTVERSION=	1.2.8
PORTREVISION=	2
CATEGORIES=	net-im
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=	${PORTNAME}
PKGNAMEPREFIX=	gaim-
DISTNAME=	${PKGNAMEPREFIX}${PORTNAME}-${PORTVERSION}

MAINTAINER=	marcus@FreeBSD.org
COMMENT=	Provides Lotus Sametime support for Gaim

BUILD_DEPENDS=	${LOCALBASE}/include/gaim/config.h:${PORTSDIR}/net-im/gaim
LIB_DEPENDS=	meanwhile.1:${PORTSDIR}/net-im/meanwhile
RUN_DEPENDS=	gaim:${PORTSDIR}/net-im/gaim

USE_XLIB=	yes
USE_GMAKE=	yes
USE_GNOME=	gnomeprefix gnomehack gtk20
GNU_CONFIGURE=	yes
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

.if defined(WITH_MW_HOST)
CONFIGURE_ARGS+=	--with-host=${WITH_MW_HOST}
.endif

.if defined(WITH_MW_PORT)
CONFIGURE_ARGS+=	--with-port=${WITH_MW_PORT}
.endif

.if defined(WITH_MW_CLIENT)
CONFIGURE_ARGS+=	--with-client=${WITH_MW_CLIENT}
.endif

pre-everything::
	@${ECHO_MSG} ""
	@${ECHO_MSG} "You may use the following build options:"
	@${ECHO_MSG} ""
	@${ECHO_MSG} "	WITH_MW_HOST=host	Define the default Sametime community host server"
	@${ECHO_MSG} "	WITH_MW_PORT=port	Define the default Sametime community port (default: 1533)"
	@${ECHO_MSG} "	WITH_MW_CLIENT=client	Define the default Sametime client identifier (default: mwLogin_MEANWHILE)"
	@${ECHO_MSG} ""

.include <bsd.port.mk>
