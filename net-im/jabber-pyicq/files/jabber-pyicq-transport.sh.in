#!/bin/sh

# Start or stop jabber-pyicq
# $FreeBSD$

# PROVIDE: jabber_pyicq
# REQUIRE: DAEMON
# BEFORE: LOGIN
# KEYWORD: FreeBSD shutdown
#
# Define these jabber_pyicq_* variables in one of these files:
#       /etc/rc.conf
#       /etc/rc.conf.local
#
# DO NOT CHANGE THESE DEFAULT VALUES HERE
#
jabber_pyicq_dir=${jabber_pyicq_dir:-"%%PREFIX%%/lib/jabber/pyicq"}
jabber_pyicq_piddir=${jabber_pyicq_piddir:-"/var/jabberd/pid"}
jabber_pyicq_enable=${jabber_pyicq_enable:-"NO"}

. %%RC_SUBR%%

name="jabber_pyicq"
rcvar=`set_rcvar`
load_rc_config $name

pidfile="${jabber_pyicq_piddir}/pyicq.pid"
command_interpreter="%%PYTHON_CMD%%"
command="${jabber_pyicq_dir}/main.py"
command_args="-o pid=${pidfile} &"

run_rc_command "$1"
