Index: Makefile
diff -u Makefile.orig Makefile
--- Makefile.orig	Tue Jun  3 12:48:29 2003
+++ Makefile	Tue Jun  3 22:58:59 2003
@@ -75,18 +75,18 @@
 #export GTOP_INCLUDE GTOP_LIBS GTOP_LIBS_D
 
 VERSION = 2.1.12
-INSTALLROOT = /usr/local
+INSTALLROOT ?= /usr/local
 INSTALLDIR = $(INSTALLROOT)/bin
-SINSTALLDIR = $(INSTALLDIR)
-MANDIR = $(INSTALLROOT)/share/man/man1
-SMANDIR = $(MANDIR)
+SINSTALLDIR ?= $(INSTALLDIR)
+MANDIR ?= $(INSTALLROOT)/share/man/man1
+SMANDIR ?= $(MANDIR)
 MANMODE = 644
 MANDIRMODE = 755
 INCLUDEDIR = $(INSTALLROOT)/include
 INCLUDEMODE = 644
 INCLUDEDIRMODE = 755
 INSTALL ?= install
-PKGCONFIGDIR = $(INSTALLROOT)/lib/pkgconfig
+PKGCONFIGDIR ?= $(INSTALLROOT)/lib/pkgconfig
 LOCALEDIR ?= $(INSTALLROOT)/share/locale
 
 OS_NAME=$(shell uname -s)
@@ -132,6 +132,9 @@
 	(cd src && ${MAKE} install_netbsd)
 	(cd server && ${MAKE} install_netbsd)
 
+	$(INSTALL) -d $(PKGCONFIGDIR)
+	$(INSTALL) -m $(INCLUDEMODE) -c gkrellm.pc $(PKGCONFIGDIR)
+
 install_openbsd:
 	(cd po && ${MAKE} install)
 	(cd src && ${MAKE} install_openbsd)
@@ -147,14 +150,14 @@
 	(cd src && ${MAKE} clean)
 	(cd server && ${MAKE} clean)
 
-freebsd2:
+freebsd2:	gkrellm.pc
 	(cd po && ${MAKE} all)
 	(cd src && ${MAKE} \
 		EXTRAOBJS= SYS_LIBS="-lkvm -lmd" gkrellm )
 	(cd server && ${MAKE} \
 		EXTRAOBJS= SYS_LIBS="-lkvm -lmd" gkrellmd )
 
-freebsd3 freebsd4 freebsd5 freebsd:
+freebsd3 freebsd4 freebsd5 freebsd:	gkrellm.pc
 	(cd po && ${MAKE} all)
 	(cd src && ${MAKE} \
 		EXTRAOBJS= SYS_LIBS="-lkvm -ldevstat -lmd" gkrellm )
