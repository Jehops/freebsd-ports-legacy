--- Makefile.orig	Thu Jan 21 22:31:25 1999
+++ Makefile	Sat Dec 28 22:43:03 2002
@@ -1,10 +1,10 @@
 OBJS=	main.o iso9660.o copy.o write.o misc.o generic.o specific.o worm.o dao.o
 
-CFLAGS = -g -O -Ic++tk -DTIX -DMKISOFS='"/usr/local/bin/mkisofs"'
+CFLAGS = -g -O -Ic++tk -DTIX -DMKISOFS='"${PREFIX}/bin/mkisofs"'
 
 cd-write: $(OBJS) subdir
-	$(CC) -o  cd-write $(OBJS) c++tk/c++tk.o\
-		-L/usr/local/lib -L/usr/X11R6/lib -ltixsam4180 -ltk80 -ltcl80 -lX11 -lm -lcam
+	$(CXX) -o  cd-write $(OBJS) c++tk/c++tk.o\
+		-L${PREFIX}/lib -L${X11BASE}/lib -ltixsam4182 -ltk82 -ltcl82 -lX11 -lm -lcam
 
 subdir:
 	cd c++tk && make TIX=1
@@ -16,5 +16,6 @@
 	makedepend  ${CFLAGS} ${OBJS:S/.o/.cc/g}
 
 install:
-	install -c cd-write  /usr/local/bin
+	install -c cd-write  ${PREFIX}/bin
 
+all: cd-write
