--- src/cfagent.c.orig	Fri Nov 28 16:14:34 2003
+++ src/cfagent.c	Fri Nov 28 16:15:32 2003
@@ -615,7 +615,7 @@
 { struct Item *ip;
   int n = 0;
   
-if (strstr(VSYSNAME.nodename,ToLowerStr(VDOMAIN)))
+if (strcasestr(VSYSNAME.nodename,VDOMAIN))
    {
    strcpy(VFQNAME,VSYSNAME.nodename);
    
--- src/cfservd.c.orig	Fri Nov 28 16:14:49 2003
+++ src/cfservd.c	Fri Nov 28 18:25:04 2003
@@ -423,7 +423,7 @@
  
 i = 0;
 
-if (strstr(VSYSNAME.nodename,ToLowerStr(VDOMAIN)))
+if (strcasestr(VSYSNAME.nodename,VDOMAIN))
    {
    strncpy(VFQNAME,VSYSNAME.nodename,maxvarsize-1);
    
--- src/install.c.orig	Fri Nov 28 16:14:39 2003
+++ src/install.c	Fri Nov 28 16:21:06 2003
@@ -117,7 +117,7 @@
 
                    strcpy(VDOMAIN,value);
 		  
-		   if (!strstr(VSYSNAME.nodename,ToLowerStr(VDOMAIN)))
+		   if (!strcasestr(VSYSNAME.nodename,VDOMAIN))
 		      {
 		      snprintf(VFQNAME,bufsize,"%s.%s",VSYSNAME.nodename,ToLowerStr(VDOMAIN));
 		      strcpy(VUQNAME,VSYSNAME.nodename);
