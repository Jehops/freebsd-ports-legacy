--- mkisofs/modes.c.orig	Sun May  7 14:49:37 2000
+++ mkisofs/modes.c	Thu Aug 17 21:02:57 2000
@@ -58,7 +58,7 @@
 	int	hdlen;
 	int	len = 1;				/* Nach SCSI Norm */
 	int	try = 0;
-	struct	scsi_mode_page_header *mp;
+	struct	scg_scsi_mode_page_header *mp;
 
 again:
 	fillbytes((caddr_t)mode, sizeof(mode), '\0');
@@ -77,7 +77,7 @@
 		scgp->silent--;
 		return (FALSE);
 	} else {
-		len = ((struct scsi_mode_header *)mode)->sense_data_len + 1;
+		len = ((struct scg_scsi_mode_header *)mode)->sense_data_len + 1;
 	}
 	if (mode_sense(scgp, mode, len, page, 0) < 0) {	/* Page n current */
 		scgp->silent--;
@@ -87,9 +87,9 @@
 
 	if (scgp->verbose)
 		scsiprbytes("Mode Sense Data", mode, len - scsigetresid(scgp));
-	hdlen = sizeof(struct scsi_mode_header) +
-			((struct scsi_mode_header *)mode)->blockdesc_len;
-	mp = (struct scsi_mode_page_header *)(mode + hdlen);
+	hdlen = sizeof(struct scg_scsi_mode_header) +
+			((struct scg_scsi_mode_header *)mode)->blockdesc_len;
+	mp = (struct scg_scsi_mode_page_header *)(mode + hdlen);
 	if (scgp->verbose)
 		scsiprbytes("Mode Page  Data", (u_char *)mp, mp->p_len+2);
 
@@ -223,7 +223,7 @@
 	((struct scsi_modesel_header *)modep)->sense_data_len	= 0;
 	((struct scsi_modesel_header *)modep)->res2		= 0;
 
-	i = ((struct scsi_mode_header *)modep)->blockdesc_len;
+	i = ((struct scg_scsi_mode_header *)modep)->blockdesc_len;
 	if (i > 0) {
 		i_to_3_byte(
 			((struct scsi_mode_data *)modep)->blockdesc.nlblock,
