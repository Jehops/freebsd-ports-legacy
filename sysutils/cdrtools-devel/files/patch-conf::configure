--- conf/configure.orig	Fri Sep 19 16:47:37 2003
+++ conf/configure	Fri Sep 19 16:49:26 2003
@@ -5564,9 +5564,16 @@
 extern	int	errno;
 #endif
 
+#if defined (__FreeBSD__) && __FreeBSD__ >= 2
+#include <osreldate.h>
+#endif
+
 int
 main()
 {
+#if defined(__FreeBSD__) && __FreeBSD_version < 501113
+	exit(-1);
+#endif
 	if (mlockall(MCL_CURRENT|MCL_FUTURE) < 0) {
 		if (errno == EINVAL || errno ==  ENOMEM ||
 		    errno == EPERM  || errno ==  EACCES)
