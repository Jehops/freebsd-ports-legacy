diff --git a/sysklogd/logread.c b/sysklogd/logread.c
index 52c97aa..93b886f 100644
--- sysklogd/logread.c
+++ sysklogd/logread.c
@@ -14,6 +14,20 @@
 #include <sys/sem.h>
 #include <sys/shm.h>
 
+#include <osreldate.h>
+#if __FreeBSD_version < 800067
+size_t strnlen(const char *s, size_t maxlen);
+size_t strnlen(const char *s, size_t maxlen)
+{
+       size_t i;
+       for (i = 0; i < maxlen; i++) {
+               if (s[i] == '\0')
+                       break;
+       }
+       return i;
+}
+#endif
+
 #define DEBUG 0
 
 /* our shared key (syslogd.c and logread.c must be in sync) */
