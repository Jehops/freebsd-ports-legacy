#!/bin/sh
#
# $FreeBSD$
#

# PROVIDE: syslogd
# REQUIRE: mountcritremote cleanvar
# BEFORE:  SERVERS

#
# Add the following line to /etc/rc.conf.local or /etc/rc.conf
# to enable this service:
#
#syslog_ng_enable="YES"
#

. %%RC_SUBR%%

name=syslog_ng
rcvar=`set_rcvar`

command=%%PREFIX%%/sbin/syslog-ng
required_files=%%PREFIX%%/etc/syslog-ng/syslog-ng.conf
pidfile=/var/run/syslog.pid
extra_commands=reload
stop_postcmd=stop_postcmd

load_rc_config $name

: ${syslog_ng_enable:="NO"}

stop_postcmd() {
  rm -f $pidfile
}

run_rc_command "$1"
