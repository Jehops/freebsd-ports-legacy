--- ddclient.orig	2011-03-11 00:00:19.394750047 -0800
+++ ddclient	2011-03-11 00:04:28.967751644 -0800
@@ -2094,10 +2094,14 @@
     } elsif (defined($sub) && &$sub($host)) {
 	$update = 1;
 
-    } elsif (($cache{$host}{'static'} ne $config{$host}{'static'}) ||
-	     ($cache{$host}{'wildcard'} ne $config{$host}{'wildcard'}) ||
-	     ($cache{$host}{'mx'} ne $config{$host}{'mx'}) ||
-	     ($cache{$host}{'backupmx'} ne $config{$host}{'backupmx'})) {
+    } elsif ((defined($cache{$host}{'static'}) && defined($config{$host}{'static'}) &&
+	     ($cache{$host}{'static'} ne $config{$host}{'static'})) ||
+	     (defined($cache{$host}{'wildcard'}) && defined($config{$host}{'wildcard'}) &&
+	     ($cache{$host}{'wildcard'} ne $config{$host}{'wildcard'})) ||
+	     (defined($cache{$host}{'mx'}) && defined($config{$host}{'mx'}) &&
+	     ($cache{$host}{'mx'} ne $config{$host}{'mx'})) ||
+	     (defined($cache{$host}{'backupmx'}) && defined($config{$host}{'backupmx'}) &&
+	     ($cache{$host}{'backupmx'} ne $config{$host}{'backupmx'})) ) {
 	info("updating %s because host settings have been changed.", $host);
 	$update = 1;
 
