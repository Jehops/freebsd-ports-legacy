# Created by: George Reid <greid@ukug.uk.freebsd.org>
# $FreeBSD$

PORTNAME=	zziplib
PORTVERSION=	0.13.72
DISTVERSIONPREFIX=	v
CATEGORIES=	devel

MAINTAINER=	sunpoet@FreeBSD.org
COMMENT=	Library to provide transparent read access to zipped files

LICENSE=	LGPL21 MPL11
LICENSE_COMB=	dual
LICENSE_FILE_LGPL21=	${WRKSRC}/COPYING.LIB
LICENSE_FILE_MPL11=	${WRKSRC}/docs/COPYING.MPL

BUILD_DEPENDS=	bash:shells/bash

USES=		cmake compiler:c11

USE_GITHUB=	yes
GH_ACCOUNT=	gdraheim

CMAKE_ON=	BUILD_SHARED_LIBS ZZIP_LIBTOOL ZZIP_PKGCONFIG ZZIPBINS ZZIPFSEEKO ZZIPMMAPPED ZZIPWRAP
CMAKE_OFF=	BUILD_STATIC_LIBS BUILD_TESTS ZZIPDOCS ZZIPTEST
TEST_TARGET=	check
USE_LDCONFIG=	yes

PORTSCOUT=	limit:^0\.

OPTIONS_DEFINE=	SDL
OPTIONS_SUB=	yes

SDL_CMAKE_BOOL=	ZZIPSDL
SDL_USE=	SDL=sdl2
SDL_USES=	libtool:ldflags sdl

.include <bsd.port.mk>
