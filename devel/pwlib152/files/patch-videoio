--- include/ptlib/unix/ptlib/videoio.h.orig	Mon Jan  6 10:41:08 2003
+++ include/ptlib/unix/ptlib/videoio.h	Sun Feb 15 23:42:39 2004
@@ -106,9 +106,13 @@
 #include <linux/videodev.h>     /* change this to "videodev2.h" for v4l2 */
 #endif
 
-#if defined(P_FREEBSD)
+#if defined(P_FREEBSD) && !defined(NO_VIDEO_CAPTURE)
+#if P_FREEBSD >= 502101
+#include <dev/bktr/ioctl_meteor.h>
+#else
 #include <machine/ioctl_meteor.h>
 #endif
+#endif
 
 #if defined(P_OPENBSD) || defined(P_NETBSD)
 #if P_OPENBSD >= 200105
@@ -186,7 +190,7 @@
     struct video_mmap frameBuffer[2];
 #endif
 
-#if defined(P_FREEBSD) || defined(P_OPENBSD) || defined(P_NETBSD)
+#if (defined(P_FREEBSD) || defined(P_OPENBSD) || defined(P_NETBSD)) && !defined(NO_VIDEO_CAPTURE)
     struct video_capability
     {
         int channels;   /* Num channels */
