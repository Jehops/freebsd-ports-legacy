--- Makefile.orig	Fri Jun 14 18:23:12 2002
+++ Makefile	Fri Jun 14 18:24:00 2002
@@ -141,15 +141,15 @@
 
 TARGDIR= targets
 TARGETS= runtime prelude greencard hp2graph hattools \
-	 profruntime profprelude profprelude-$(CC) \
-	 timeruntime timeprelude timeprelude-$(CC) \
+	 profruntime profprelude profprelude-gcc \
+	 timeruntime timeprelude timeprelude-gcc \
 	 timetraceruntime timetraceprelude \
-	 traceruntime traceprelude traceprelude-$(CC) \
-	 compiler-nhc compiler-hbc compiler-ghc compiler-$(CC) \
-	 hmake-nhc hmake-hbc hmake-ghc hmake-$(CC) \
-	 greencard-nhc greencard-hbc greencard-ghc greencard-$(CC) \
+	 traceruntime traceprelude traceprelude-gcc \
+	 compiler-nhc compiler-hbc compiler-ghc compiler-gcc \
+	 hmake-nhc hmake-hbc hmake-ghc hmake-gcc \
+	 greencard-nhc greencard-hbc greencard-ghc greencard-gcc \
 	 hat-nhc hat-ghc \
-	 prelude-$(CC) pragma-$(CC)
+	 prelude-gcc pragma-gcc
 
 .PHONY: default basic all tracer compiler help config install hat hattools
 
@@ -183,8 +183,8 @@
 basic-nhc: $(PRAGMA) runtime hmake-nhc greencard-nhc compiler-nhc prelude
 basic-hbc: $(PRAGMA) runtime hmake-hbc greencard-hbc compiler-hbc prelude
 basic-ghc: $(PRAGMA) runtime hmake-ghc greencard-ghc compiler-ghc prelude
-basic-$(CC):   runtime prelude-$(CC) pragma-$(CC) compiler-$(CC) \
-		 greencard-$(CC) hmake-$(CC)
+basic-gcc:   runtime prelude-gcc pragma-gcc compiler-gcc \
+		 greencard-gcc hmake-gcc
 
 all-$(BUILDCOMP): basic-$(BUILDCOMP) heapprofile timeprofile #tracer #hoodui
 
@@ -204,9 +204,9 @@
 		compiler-ghc traceruntime traceprelude hattools hat-ghc
 tracer-hbc: $(PRAGMA) runtime hmake-hbc greencard-hbc \
 		compiler-hbc traceruntime traceprelude hattools
-tracer-$(CC): runtime prelude-$(CC) pragma-$(CC) compiler-$(CC) \
-		greencard-$(CC) hmake-$(CC) \
-		traceruntime traceprelude-$(CC) hattools
+tracer-gcc: runtime prelude-gcc pragma-gcc compiler-gcc \
+		greencard-gcc hmake-gcc \
+		traceruntime traceprelude-gcc hattools
 timetraceprofile: timetraceruntime timetraceprelude
 
 $(TARGETS): % : $(TARGDIR)/$(MACHINE)/%
@@ -328,44 +328,44 @@
 	touch $(TARGDIR)/$(MACHINE)/timeprelude
 
 
-$(TARGDIR)/$(MACHINE)/prelude-$(CC): $(PRELUDEC)
+$(TARGDIR)/$(MACHINE)/prelude-gcc: $(PRELUDEC)
 	cd src/prelude;        $(MAKE) fromC relink
-	touch $(TARGDIR)/$(MACHINE)/prelude-$(CC)
+	touch $(TARGDIR)/$(MACHINE)/prelude-gcc
 	touch $(TARGDIR)/$(MACHINE)/prelude
-$(TARGDIR)/$(MACHINE)/traceprelude-$(CC): $(PRELUDEC)
+$(TARGDIR)/$(MACHINE)/traceprelude-gcc: $(PRELUDEC)
 	cd src/prelude;        $(MAKE) CFG=T fromC
 	cd src/prelude/$(MACHINE); $(MAKE) CFG=T clean all
 	cd src/prelude;        $(MAKE) CFG=T relink
-	touch $(TARGDIR)/$(MACHINE)/traceprelude-$(CC)
+	touch $(TARGDIR)/$(MACHINE)/traceprelude-gcc
 	touch $(TARGDIR)/$(MACHINE)/traceprelude
-$(TARGDIR)/$(MACHINE)/timeprelude-$(CC): $(PRELUDEC)
+$(TARGDIR)/$(MACHINE)/timeprelude-gcc: $(PRELUDEC)
 	cd src/prelude;        $(MAKE) CFG=z fromC
 	cd src/prelude/$(MACHINE); $(MAKE) CFG=z clean all
 	cd src/prelude;        $(MAKE) CFG=z relink
-	touch $(TARGDIR)/$(MACHINE)/timeprelude-$(CC)
+	touch $(TARGDIR)/$(MACHINE)/timeprelude-gcc
 	touch $(TARGDIR)/$(MACHINE)/timeprelude
-$(TARGDIR)/$(MACHINE)/profprelude-$(CC): $(PRELUDEC)
+$(TARGDIR)/$(MACHINE)/profprelude-gcc: $(PRELUDEC)
 	cd src/prelude;        $(MAKE) CFG=p fromC
 	cd src/prelude/$(MACHINE); $(MAKE) CFG=p clean all
 	cd src/prelude;        $(MAKE) CFG=p relink
-	touch $(TARGDIR)/$(MACHINE)/profprelude-$(CC)
+	touch $(TARGDIR)/$(MACHINE)/profprelude-gcc
 	touch $(TARGDIR)/$(MACHINE)/profprelude
-$(TARGDIR)/$(MACHINE)/compiler-$(CC): $(COMPILERC)
+$(TARGDIR)/$(MACHINE)/compiler-gcc: $(COMPILERC)
 	cd src/compiler98;     $(MAKE) fromC
 	cd src/prelude/$(MACHINE); $(MAKE) clean all	# Patch machine-specific parts.
 	cd src/prelude;        $(MAKE) relink
 	cd src/compiler98;     $(MAKE) relink
-	touch $(TARGDIR)/$(MACHINE)/compiler-$(CC)
-$(TARGDIR)/$(MACHINE)/greencard-$(CC): $(GREENCARDC)
+	touch $(TARGDIR)/$(MACHINE)/compiler-gcc
+$(TARGDIR)/$(MACHINE)/greencard-gcc: $(GREENCARDC)
 	cd src/greencard;      $(MAKE) fromC
-	touch $(TARGDIR)/$(MACHINE)/greencard $(TARGDIR)/$(MACHINE)/greencard-$(CC)
-$(TARGDIR)/$(MACHINE)/pragma-$(CC): script/hmake-PRAGMA.hc
+	touch $(TARGDIR)/$(MACHINE)/greencard $(TARGDIR)/$(MACHINE)/greencard-gcc
+$(TARGDIR)/$(MACHINE)/pragma-gcc: script/hmake-PRAGMA.hc
 	script/nhc98 -o $(PRAGMA) script/hmake-PRAGMA.hc
-	touch $(TARGDIR)/$(MACHINE)/pragma-$(CC)
-$(TARGDIR)/$(MACHINE)/hmake-$(CC): $(HMAKEC)
+	touch $(TARGDIR)/$(MACHINE)/pragma-gcc
+$(TARGDIR)/$(MACHINE)/hmake-gcc: $(HMAKEC)
 	cd src/hmake;          $(MAKE) fromC config
 	cd src/interpreter;    $(MAKE) fromC
-	touch $(TARGDIR)/$(MACHINE)/hmake-$(CC)
+	touch $(TARGDIR)/$(MACHINE)/hmake-gcc
 
 
 script/errnogen.c: script/GenerateErrNo.hs
