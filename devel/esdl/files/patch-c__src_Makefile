--- c_src/Makefile.orig	Wed Dec 25 16:02:09 2002
+++ c_src/Makefile	Wed Dec 25 16:03:16 2002
@@ -5,7 +5,7 @@
 #     $Id: Makefile,v 1.3 2002/09/07 06:02:36 bjorng Exp $
 #
 
-OGLDIR  = /usr
+OGLDIR  = ${X11BASE}
 
 # Uncomment these if your opengl header is located in another directory than
 # the usual $(OGLDIR)/include/GL/gl.h
@@ -15,12 +15,12 @@
 GL_LIBS		= -L$(OGLDIR)/lib -lGL -lGLU 
 GL_INCS		= -I$(OGLDIR)/include/$(GL_INCLUDE_DIR)
 
-SDL_LIBS	= $(shell sdl-config --libs)
+SDL_LIBS	= $(shell $(SDL_CONFIG) --libs)
 LIBS		= $(GL_LIBS) $(SDL_LIBS) -lm 
 
-SDLINCS		= $(shell sdl-config --cflags)
+SDLINCS		= $(shell $(SDL_CONFIG) --cflags)
 
-CFLAGS	= -g -O2 -funroll-loops -Wall -ffast-math -fpic -fomit-frame-pointer \
+CFLAGS	+= -funroll-loops -Wall -ffast-math -fpic -fomit-frame-pointer \
             $(USE_GL_INCLUDE_DIR) -DSHM -DPTHREADS $(GL_INCS) $(SDLINCS)
 
 TARGETDIR = ../priv
@@ -29,7 +29,7 @@
 ERL_DIR := $(shell echo 'io:format("~s~n",[code:root_dir()]),halt().' | erl | sed 's,^[0-9]*> *,,g' | tail +2)
 ERLINC = -I$(ERL_DIR)/usr/include
 
-CC = gcc
+CC ?= gcc
 GCC_O	= $(CC) -c $(CFLAGS) $(INCS) $<
 
 # Files
