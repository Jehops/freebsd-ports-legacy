# New ports collection makefile for:   pth
# Date Created:			17 Aug 1999
# Whom:				Ralf S. Engelschall
#
# $FreeBSD$
#
FORBIDDEN=	"devel/pth is newer"

PORTNAME=	pth
PORTVERSION=	1.4a2
PORTREVISION=	1
CATEGORIES=	devel
MASTER_SITES=	ftp://alpha.gnu.org/gnu/pth/ \
		ftp://ftp.engelschall.com/sw/pth/

MAINTAINER=	rse@engelschall.com

NO_LATEST_LINK=	yes
NO_CDROM=	yes

INSTALLS_SHLIB=	yes
LDCONFIG_DIRS=	%%PREFIX%%/lib/pth
HAS_CONFIGURE=	yes
CONFIGURE_ARGS=	--prefix=${PREFIX} \
		--enable-pthread \
		--enable-syscall-soft \
		--enable-optimize \
		--enable-batch \
		--includedir="${PREFIX}/include/pth" \
		--libdir="${PREFIX}/lib/pth"

MAN1=		pth-config.1 pthread-config.1
MAN3=		pth.3 pthread.3

post-build:
	@${ECHO_MSG} "===>  Use 'make test' to run a quick test suite."

test:
	@cd ${WRKSRC} && ${MAKE} test

.include <bsd.port.mk>
