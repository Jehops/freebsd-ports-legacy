--- Makefile.orig	Fri Jul 11 02:37:58 2003
+++ Makefile	Thu Oct 16 21:14:17 2003
@@ -280,13 +280,13 @@
 	-$(DEL_CMD) $(ODE_OBJECTS) $(ODE_TEST_EXE) $(ODE_LIB) $(DRAWSTUFF_OBJECTS) $(DRAWSTUFF_TEST_EXE) $(DRAWSTUFF_LIB) ode/test/*$(OBJ) drawstuff/dstest/*$(OBJ) $(CONFIGURATOR_EXE) $(CONFIG_H)
 
 %$(OBJ): %.c
-	$(CC) $(C_FLAGS) $(C_INC)$(INCPATH) $(DEFINES) $(C_OPT)1 $(C_OUT)$@ $<
+	$(CC) $(C_FLAGS) $(C_INC)$(INCPATH) $(DEFINES) $(C_OUT)$@ $<
 
 %$(OBJ): %.cpp
-	$(CC) $(C_FLAGS) $(C_INC)$(INCPATH) $(INC_OPCODE) $(DEFINES) $(C_OPT)$(OPT) $(C_OUT)$@ $<
+	$(CC) $(C_FLAGS) $(C_INC)$(INCPATH) $(INC_OPCODE) $(DEFINES) $(C_OUT)$@ $<
 
 %.exe: %$(OBJ)
-	$(CC) $(C_EXEOUT)$@ $< $(ODE_LIB) $(OPCODE_LIB) $(DRAWSTUFF_LIB) $(RESOURCE_FILE) $(LINK_OPENGL) $(LINK_MATH)
+	$(CC) $(C_EXEOUT)$@ $< $(ODE_LIB) $(OPCODE_LIB) $(DRAWSTUFF_LIB) $(RESOURCE_FILE) $(LINK_OPENGL) $(LINK_MATH) ${LDFLAGS}
 
 
 # windows specific rules
@@ -308,7 +308,7 @@
 
 # unix-gcc specific dependency making
 
-DEP_RULE=gcc -M $(C_INC)$(INCPATH) $(DEFINES)
+DEP_RULE=${CC} -M $(C_INC)$(INCPATH) $(DEFINES)
 depend:
 	$(DEP_RULE) $(ODE_SRC) $(ODE_PREGEN_SRC) $(ODE_OLD_COLLISION_SRC) $(ODE_NEW_COLLISION_SRC) | tools/process_deps ode/src/ > Makefile.deps
 	$(DEP_RULE) $(DRAWSTUFF_SRC) | tools/process_deps drawstuff/src/ >> Makefile.deps
