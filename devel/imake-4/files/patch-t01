--- imake/imake.c~	Thu Jun 15 04:36:17 2000
+++ imake/imake.c	Thu Sep 28 13:58:02 2000
@@ -1184,6 +1184,19 @@
 	if (uname(&name) < 0)
 		LogFatal("Cannot invoke uname", "");
 
+# ifdef __FreeBSD__
+	/* Hack for FreeBSD ports "Cross Version" compiling system. */
+	{
+	  char *e;
+	  if ((e = getenv("OSREL")) != NULL && 
+	      strlen(name.sysname) + strlen(e) + 1 < SYS_NMLN) {
+	    strcpy(name.release, e);
+	    strcpy(name.version, name.sysname);
+	    strcat(name.version, " ");
+	    strcat(name.version, e);
+	  }
+	}
+# endif	    
 # ifdef DEFAULT_OS_NAME
 	parse_utsname(&name, DEFAULT_OS_NAME, buf, 
 		      "Bad DEFAULT_OS_NAME syntax %s");
