--- src/stringutils.cc.orig	Thu Jul  8 01:07:57 2004
+++ src/stringutils.cc	Thu Jul  8 01:08:18 2004
@@ -650,7 +650,7 @@
 
   if (path.bytes() >= len
       && (path.bytes() == len || path.raw()[len] == G_DIR_SEPARATOR)
-      && path.raw().compare(0, len, homedir.raw()) == 0)
+      && path.raw().compare(homedir.raw(), 0, len) == 0)
   {
     std::string result (1, '~');
     result.append(path.raw(), len, std::string::npos);
