--- Makefile.in.orig	Tue Aug 22 05:05:43 2000
+++ Makefile.in	Sun Dec  3 19:27:54 2000
@@ -43,7 +43,7 @@
 # is set to "a" instead of "la", which causes the shared libraries not to be
 # installed.
 
-LIBTOOL = @LIBTOOL@
+LIBTOOL = $(LOCALBASE)/bin/libtool
 LIBSUFFIX = @LIBSUFFIX@
 
 # These are the version numbers for the shared libraries
@@ -56,8 +56,10 @@
 # A copy of install-sh is in this distribution and is used by default.      #
 #---------------------------------------------------------------------------#
 
-INSTALL = ./install-sh -c
-INSTALL_DATA = ${INSTALL} -m 644
+INSTALL_PROGRAM = ${BSD_INSTALL_PROGRAM}
+INSTALL_SCRIPT = ${BSD_INSTALL_SCRIPT}
+INSTALL_DATA = ${BSD_INSTALL_DATA}
+INSTALL_MAN = ${BSD_INSTALL_MAN}
 
 
 #---------------------------------------------------------------------------#
@@ -78,7 +80,7 @@
 OBJ = maketables.o get.o study.o pcre.o
 LOBJ = maketables.lo get.lo study.lo pcre.lo
 
-all:            libtool libpcre.$(LIBSUFFIX) libpcreposix.$(LIBSUFFIX) pcretest pcregrep
+all:            libpcre.$(LIBSUFFIX) libpcreposix.$(LIBSUFFIX) pcretest pcregrep
 
 libtool:        config.guess config.sub ltconfig ltmain.sh
 		@if test "$(LIBTOOL)" = "./libtool"; then \
@@ -112,7 +114,7 @@
 		@echo '--- Building shared library: libpcre'
 		@echo ' '
 		-rm -f libpcre.la
-		./libtool $(CC) -version-info '$(PCRELIBVERSION)' -o libpcre.la -rpath $(LIBDIR) $(LOBJ)
+		$(LIBTOOL) $(CC) -version-info '$(PCRELIBVERSION)' -o libpcre.la -rpath $(LIBDIR) $(LOBJ)
 
 libpcreposix.a: pcreposix.o
 		@echo ' '
@@ -127,7 +129,7 @@
 		@echo '--- Building shared library: libpcreposix'
 		@echo ' '
 		-rm -f libpcreposix.la
-		./libtool $(CC) -version-info '$(PCREPOSIXLIBVERSION)' -o libpcreposix.la -rpath $(LIBDIR) pcreposix.lo
+		$(LIBTOOL) $(CC) -version-info '$(PCREPOSIXLIBVERSION)' -o libpcreposix.la -rpath $(LIBDIR) pcreposix.lo
 
 pcre.o:         chartables.c pcre.c pcre.h internal.h config.h Makefile
 		$(LIBTOOL) $(CC) -c $(CFLAGS) $(UTF8) pcre.c
@@ -163,9 +165,9 @@
 		$(LIBTOOL) $(INSTALL_DATA) libpcreposix.$(LIBSUFFIX) $(DESTDIR)/$(LIBDIR)/libpcreposix.$(LIBSUFFIX)
 		$(INSTALL_DATA) pcre.h $(DESTDIR)/$(INCDIR)/pcre.h
 		$(INSTALL_DATA) pcreposix.h $(DESTDIR)/$(INCDIR)/pcreposix.h
-		$(INSTALL_DATA) doc/pcre.3 $(DESTDIR)/$(MANDIR)/man3/pcre.3
-		$(INSTALL_DATA) doc/pcreposix.3 $(DESTDIR)/$(MANDIR)/man3/pcreposix.3
-		$(INSTALL_DATA) doc/pcregrep.1 $(DESTDIR)/$(MANDIR)/man1/pcregrep.1
+		$(INSTALL_MAN) doc/pcre.3 $(DESTDIR)/$(MANDIR)/man3/pcre.3
+		$(INSTALL_MAN) doc/pcreposix.3 $(DESTDIR)/$(MANDIR)/man3/pcreposix.3
+		$(INSTALL_MAN) doc/pcregrep.1 $(DESTDIR)/$(MANDIR)/man1/pcregrep.1
 		@if test "$(LIBTOOL)" = "./libtool"; then \
 		  echo ' '; \
 		  echo '--- Rebuilding pcregrep to use installed shared library ---'; \
@@ -175,8 +177,8 @@
 		  echo $(CC) $(CFLAGS) -o pcretest pcretest.o -L$(DESTDIR)/$(LIBDIR) -lpcre -lpcreposix; \
 		  $(CC) $(CFLAGS) -o pcretest pcretest.o -L$(DESTDIR)/$(LIBDIR) -lpcre -lpcreposix; \
 		fi
-		$(INSTALL)	pcregrep $(DESTDIR)/$(BINDIR)/pcregrep
-		$(INSTALL)	pcre-config $(DESTDIR)/$(BINDIR)/pcre-config
+		$(INSTALL_PROGRAM)	.libs/pcregrep $(DESTDIR)/$(BINDIR)/pcregrep
+		$(INSTALL_SCRIPT)	pcre-config $(DESTDIR)/$(BINDIR)/pcre-config
 
 # We deliberately omit dftables and chartables.c from 'make clean'; once made
 # chartables.c shouldn't change, and if people have edited the tables by hand,
