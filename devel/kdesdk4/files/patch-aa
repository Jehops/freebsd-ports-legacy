--- kbabel/common/libgettext/xmalloc.c.orig	Tue Aug 21 11:08:13 2001
+++ kbabel/common/libgettext/xmalloc.c	Tue Aug 21 11:09:28 2001
@@ -26,6 +26,7 @@
 #endif
 
 #include <sys/types.h>
+#include <err.h>
 
 #if STDC_HEADERS
 # include <stdlib.h>
@@ -61,7 +62,6 @@
    The caller may set it to some other value.  */
 int xmalloc_exit_failure = EXIT_FAILURE;
 
-void error (int, int, const char *, ...);
 
 static VOID *
 fixup_null_alloc (n)
@@ -73,7 +73,7 @@
   if (n == 0)
     p = malloc ((size_t) 1);
   if (p == 0)
-    error (xmalloc_exit_failure, 0, _("Memory exhausted"));
+    err (xmalloc_exit_failure, "Memory exhausted");
   return p;
 }
 
