--- src/lib/client/base/client_p.h.orig	2011-04-18 13:47:27.000000000 +0200
+++ src/lib/client/base/client_p.h	2011-04-18 13:47:49.000000000 +0200
@@ -42,7 +42,7 @@
   SCARDCONTEXT scardContext;
 
   int pnpAvailable;
-  SCARD_READERSTATE_A readerStates[MAX_READERS];
+  SCARD_READERSTATE readerStates[MAX_READERS];
   int readerCount;
   int lastUsedReader;
   LPSTR readerList;
--- src/lib/client/base/client.c.orig	2011-04-18 13:50:21.000000000 +0200
+++ src/lib/client/base/client.c	2011-04-18 13:50:42.000000000 +0200
@@ -872,7 +872,7 @@
 	DBG_INFO(LC_LOGDOMAIN, "Creating reader \"%s\"", p);
 	i=cl->readerCount;
         /* preset */
-	memset((void*) &(cl->readerStates[i]), 0, sizeof(SCARD_READERSTATE_A));
+	memset((void*) &(cl->readerStates[i]), 0, sizeof(SCARD_READERSTATE));
 	cl->readerStates[i].szReader=p;
 	cl->readerStates[i].dwCurrentState=SCARD_STATE_UNAWARE;
 	/* reader added */
@@ -948,7 +948,7 @@
   assert(cl);
 
   /* clear reader list and reader status list */
-  memset((void*) &cl->readerStates, 0, sizeof(SCARD_READERSTATE_A)*MAX_READERS);
+  memset((void*) &cl->readerStates, 0, sizeof(SCARD_READERSTATE)*MAX_READERS);
   cl->readerCount=0;
   free(cl->readerList);
   cl->readerList=NULL;
