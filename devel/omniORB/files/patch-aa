diff -rc ./Makefile ../omniORB_2.2.0.freebsd/Makefile
*** ./Makefile	Sat May 17 08:17:18 1997
--- ../omniORB_2.2.0.freebsd/Makefile	Sat May 17 08:17:00 1997
***************
*** 0 ****
--- 1,7 ----
+ # Makefile for omniORB2
+ #
+ # $Id: patch-aa,v 1.3 1997/06/29 12:13:21 obrien Exp $
+ 
+ SUBDIR=	src
+ 
+ .include <bsd.subdir.mk>
diff -rc ./include/omnithread.h ../omniORB_2.2.0.freebsd/include/omnithread.h
*** ./include/omnithread.h	Tue May  6 11:56:59 1997
--- ../omniORB_2.2.0.freebsd/include/omnithread.h	Wed May 14 16:10:24 1997
***************
*** 112,118 ****
  #include "omnithread/solaris.h"
  #endif
  
! #elif defined(__linux__)
  #include "omnithread/posix.h"
  
  #else
--- 112,118 ----
  #include "omnithread/solaris.h"
  #endif
  
! #elif defined(__linux__) || defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__)
  #include "omnithread/posix.h"
  
  #else
Only in ../omniORB_2.2.0.freebsd/mk: config.mk
diff -rc ./mk/freebsd_3.0.mk ../omniORB_2.2.0.freebsd/mk/freebsd_3.0.mk
*** ./mk/freebsd_3.0.mk	Fri May 16 10:25:13 1997
--- ../omniORB_2.2.0.freebsd/mk/freebsd_3.0.mk	Sat May 17 15:49:25 1997
***************
*** 0 ****
--- 1,34 ----
+ #
+ # freebsd_3.0.mk - make variables and rules specific to FreeBSD-3.0 
+ #
+ 
+ #PREFIX=/usr/local/omniORB_2.2.0
+ #WRKDIR=/usr/local/omniORB_2.2.0
+ 
+ PLATFORM = freebsd_3.0
+ LIBDIR   = ${PREFIX}/lib
+ BINDIR   = ${PREFIX}/bin
+ 
+ #
+ # Standard programs
+ #
+ 
+ CC		= g++
+ CFLAGS		= -fhandle-exceptions -pipe
+ 
+ OMNITHREAD_POSIX_CPPFLAGS = -DPthreadDraftVersion=8
+ OMNITHREAD_CPPFLAGS = -I$(TOP)/include
+ OMNITHREAD_LIB = -lomnithread -lc_r
+ OMNITHREAD_STATIC_LIB = -Wl,-Bstatic -lomnithread -Wl,-Bdynamic -lc_r
+ 
+ # Default location of the omniORB2 configuration file [falls back to this if
+ # the environment variable OMNIORB_CONFIG is not set] :
+ OMNIORB_CONFIG_DEFAULT_LOCATION = \"/usr/local/etc/omniORB.cfg\"
+ 
+ OMNIORB_CPPFLAGS = -D__OMNIORB2__ $(OMNITHREAD_CPPFLAGS)
+ OMNIORB_LIB = -lomniORB2 $(OMNITHREAD_LIB) 
+ OMNIORB_STATIC_LIB = -Wl,-Bstatic -lomniORB2 -Wl,-Bdynamic \
+                      $(OMNITHREAD_STATIC_LIB)
+ 
+ # Default directory for the omniNames log files.
+ OMNINAMES_LOG_DEFAULT_LOCATION = \"/var/omninames\"
diff -rc ./src/Makefile ../omniORB_2.2.0.freebsd/src/Makefile
*** ./src/Makefile	Wed May  7 07:32:28 1997
--- ../omniORB_2.2.0.freebsd/src/Makefile	Sat May 17 15:20:52 1997
***************
*** 1,59 ****
! TOP = ..
  
! include $(TOP)/mk/config.mk
! 
! SUBDIRS = tool lib appl
! 
! all::
! 	@echo
! 	@echo 'No "all" rule here. If you want to build and install everything'
! 	@echo 'use "make install".  Otherwise build subdirectories separately.'
! 	@echo
! 
! clean::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! 
! install::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 	@echo 'Installation completed.'
! 	@echo 'You can now build the examples in the subdirectory ./examples'
! 	@echo 'using "make all".'
! 	@echo
  
--- 1,7 ----
! # Makefile for omniORB2
! #
! # $Id: patch-aa,v 1.3 1997/06/29 12:13:21 obrien Exp $
  
! SUBDIR=	tool lib appl examples
  
+ .include <bsd.subdir.mk>
diff -rc ./src/appl/Makefile ../omniORB_2.2.0.freebsd/src/appl/Makefile
*** ./src/appl/Makefile	Wed May  7 06:48:04 1997
--- ../omniORB_2.2.0.freebsd/src/appl/Makefile	Tue May 13 17:44:36 1997
***************
*** 1,70 ****
! TOP = ../..
! 
! include $(TOP)/mk/config.mk
! 
! SUBDIRS = omniNames utils
! 
! all::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! clean::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! 
! install::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
  
--- 1,3 ----
! SUBDIR=	omniNames utils
  
+ .include <bsd.subdir.mk>
diff -rc ./src/appl/omniNames/Makefile ../omniORB_2.2.0.freebsd/src/appl/omniNames/Makefile
*** ./src/appl/omniNames/Makefile	Thu May  8 12:44:04 1997
--- ../omniORB_2.2.0.freebsd/src/appl/omniNames/Makefile	Sat May 17 16:04:12 1997
***************
*** 2,26 ****
  
  include $(TOP)/mk/config.mk
  
! DIR_CPPFLAGS = -I. $(OMNIORB_CPPFLAGS) -DDEFAULT_LOGDIR=$(OMNINAMES_LOG_DEFAULT_LOCATION)
  
! OBJS = omniNames.o NamingContext_i.o log.o
  
! all:: omniNames
  
! clean::
! 	$(RM) *.o core
! 	$(RM) omniNames
! 
! omniNames: $(OBJS)
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) $(OBJS) -L$(TOP)/lib \
!           $(OMNIORB_STATIC_LIB) \
!          )
! 
! install:: all
! 	(set -x; \
!          $(MKDIRHIER) $(BINDIR); \
!          $(CP) omniNames $(BINDIR); \
!         )
--- 2,15 ----
  
  include $(TOP)/mk/config.mk
  
! CFLAGS	+= -I. $(OMNIORB_CPPFLAGS) -DDEFAULT_LOGDIR=$(OMNINAMES_LOG_DEFAULT_LOCATION)
  
! PROG=	omniNames
! SRCS=	NamingContext_i.cc log.cc omniNames.cc
! LDADD	+= -L$(TOP)/src/lib/omniORB2 -lomniORB2 -L$(TOP)/src/lib/omnithread -lomnithread
! NOMAN=	true
  
! install:
! 	install -cs -o bin -g bin -m 0755 omniNames $(BINDIR)
  
! .include <bsd.prog.mk>
diff -rc ./src/appl/omniNames/log.cc ../omniORB_2.2.0.freebsd/src/appl/omniNames/log.cc
*** ./src/appl/omniNames/log.cc	Fri May  9 06:58:35 1997
--- ../omniORB_2.2.0.freebsd/src/appl/omniNames/log.cc	Wed May 14 16:12:26 1997
***************
*** 248,253 ****
--- 248,255 ----
      try {
  #ifdef __NT__
        int fd = _open(active, O_WRONLY | O_CREAT | O_TRUNC, _S_IWRITE);
+ #elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__))
+       int fd = open(active, O_WRONLY | O_CREAT | O_TRUNC, 0666);
  #else
        int fd = open(active, O_WRONLY | O_CREAT | O_TRUNC | O_SYNC, 0666);
  #endif
***************
*** 360,365 ****
--- 362,369 ----
  
  #ifdef __NT__
    int fd = _open(active, O_WRONLY | O_APPEND);
+ #elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__))
+   int fd = open(active, O_WRONLY | O_APPEND);
  #else
    int fd = open(active, O_WRONLY | O_APPEND | O_SYNC);
  #endif
***************
*** 467,472 ****
--- 471,478 ----
  
  #ifdef __NT__
    int fd = _open(checkpt, O_WRONLY | O_CREAT | O_TRUNC, _S_IWRITE);
+ #elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__))
+   int fd = open(checkpt, O_WRONLY | O_CREAT | O_TRUNC, 0666);
  #else
    int fd = open(checkpt, O_WRONLY | O_CREAT | O_TRUNC | O_SYNC, 0666);
  #endif
***************
*** 574,579 ****
--- 580,587 ----
  
  #ifdef __NT__
    fd = _open(active, O_WRONLY | O_APPEND);
+ #elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__))
+   fd = open(active, O_WRONLY | O_APPEND);
  #else
    fd = open(active, O_WRONLY | O_APPEND | O_SYNC);
  #endif
diff -rc ./src/appl/utils/Makefile ../omniORB_2.2.0.freebsd/src/appl/utils/Makefile
*** ./src/appl/utils/Makefile	Wed May  7 07:29:46 1997
--- ../omniORB_2.2.0.freebsd/src/appl/utils/Makefile	Tue May 13 17:48:00 1997
***************
*** 1,70 ****
! TOP = ../../..
! 
! include $(TOP)/mk/config.mk
! 
! SUBDIRS = genior catior nameclt
! 
! all::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! clean::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! 
! install::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
  
--- 1,3 ----
! SUBDIR=	catior genior nameclt
  
+ .include <bsd.subdir.mk>
diff -rc ./src/appl/utils/catior/Makefile ../omniORB_2.2.0.freebsd/src/appl/utils/catior/Makefile
*** ./src/appl/utils/catior/Makefile	Wed May  7 07:30:22 1997
--- ../omniORB_2.2.0.freebsd/src/appl/utils/catior/Makefile	Sat May 17 16:04:33 1997
***************
*** 2,24 ****
  
  include $(TOP)/mk/config.mk
  
! DIR_CPPFLAGS = $(OMNIORB_CPPFLAGS)
  
! all:: catior
  
! clean::
! 	$(RM) *.o core
! 	$(RM) catior
! 
! catior: catior.o
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) catior.o -L$(TOP)/lib \
!           $(OMNIORB_STATIC_LIB) \
!          )
! 
! install:: all
! 	(set -x; \
!          $(MKDIRHIER) $(BINDIR); \
!          $(CP) catior $(BINDIR); \
!         )
--- 2,15 ----
  
  include $(TOP)/mk/config.mk
  
! CFLAGS	+= $(OMNIORB_CPPFLAGS)
! CC	=g++
! PROG=	catior
! SRCS=	catior.cc
! LDADD	+= -L$(TOP)/src/lib/omniORB2 -lomniORB2 -L$(TOP)/src/lib/omnithread -lomnithread
! NOMAN=	true
  
! install:
! 	install -cs -o bin -g bin -m 0755 catior $(BINDIR)
  
! .include <bsd.prog.mk>
diff -rc ./src/appl/utils/catior/catior.cc ../omniORB_2.2.0.freebsd/src/appl/utils/catior/catior.cc
*** ./src/appl/utils/catior/catior.cc	Thu May  8 12:50:41 1997
--- ../omniORB_2.2.0.freebsd/src/appl/utils/catior/catior.cc	Wed May 14 16:13:06 1997
***************
*** 26,31 ****
--- 26,34 ----
  
  #include <iostream.h>
  #include <stdlib.h>
+ #if defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__)
+ #include <unistd.h>
+ #endif
  
  #include <omniORB2/CORBA.h>
  
diff -rc ./src/appl/utils/genior/Makefile ../omniORB_2.2.0.freebsd/src/appl/utils/genior/Makefile
*** ./src/appl/utils/genior/Makefile	Wed May  7 07:30:12 1997
--- ../omniORB_2.2.0.freebsd/src/appl/utils/genior/Makefile	Sat May 17 16:04:55 1997
***************
*** 2,24 ****
  
  include $(TOP)/mk/config.mk
  
! DIR_CPPFLAGS = $(OMNIORB_CPPFLAGS)
  
! all:: genior
  
! clean::
! 	$(RM) *.o core
! 	$(RM) genior
! 
! genior: genior.o
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) genior.o -L$(TOP)/lib \
!           $(OMNIORB_STATIC_LIB) \
!          )
! 
! install:: all
! 	(set -x; \
!          $(MKDIRHIER) $(BINDIR); \
!          $(CP) genior $(BINDIR); \
!         )
--- 2,14 ----
  
  include $(TOP)/mk/config.mk
  
! CFLAGS	+= $(OMNIORB_CPPFLAGS)
! PROG=	genior
! SRCS=	genior.cc
! LDADD	+= -L$(TOP)/src/lib/omniORB2 -lomniORB2 -L$(TOP)/src/lib/omnithread -lomnithread
! NOMAN=	true
  
! install:
! 	install -cs -o bin -g bin -m 0755 genior $(BINDIR)
  
! .include <bsd.prog.mk>
diff -rc ./src/appl/utils/nameclt/Makefile ../omniORB_2.2.0.freebsd/src/appl/utils/nameclt/Makefile
*** ./src/appl/utils/nameclt/Makefile	Wed May  7 07:29:54 1997
--- ../omniORB_2.2.0.freebsd/src/appl/utils/nameclt/Makefile	Sat May 17 16:06:04 1997
***************
*** 2,24 ****
  
  include $(TOP)/mk/config.mk
  
! DIR_CPPFLAGS = $(OMNIORB_CPPFLAGS)
  
! all:: nameclt
  
! clean::
! 	$(RM) *.o core
! 	$(RM) nameclt
! 
! nameclt: nameclt.o
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) nameclt.o -L$(TOP)/lib \
!           $(OMNIORB_STATIC_LIB) \
!          )
! 
! install:: all
! 	(set -x; \
!          $(MKDIRHIER) $(BINDIR); \
!          $(CP) nameclt $(BINDIR); \
!         )
--- 2,14 ----
  
  include $(TOP)/mk/config.mk
  
! CFLAGS	+= $(OMNIORB_CPPFLAGS)
! PROG=	nameclt
! SRCS=	nameclt.cc
! LDADD	+= -L$(TOP)/src/lib/omniORB2 -lomniORB2 -L$(TOP)/src/lib/omnithread -lomnithread
! NOMAN=	true
  
! install:
! 	install -cs -o bin -g bin -m 0755 nameclt $(BINDIR)
  
! .include <bsd.prog.mk>
diff -rc ./src/examples/Makefile ../omniORB_2.2.0.freebsd/src/examples/Makefile
*** ./src/examples/Makefile	Wed May  7 06:48:46 1997
--- ../omniORB_2.2.0.freebsd/src/examples/Makefile	Tue May 13 20:30:00 1997
***************
*** 1,70 ****
! TOP = ../..
! 
! include $(TOP)/mk/config.mk
! 
! SUBDIRS = thread echo
! 
! all::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! clean::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! 
! install::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
  
--- 1,3 ----
! SUBDIR=	echo thread
  
+ .include <bsd.subdir.mk>
diff -rc ./src/examples/echo/Makefile ../omniORB_2.2.0.freebsd/src/examples/echo/Makefile
*** ./src/examples/echo/Makefile	Mon May 12 07:01:41 1997
--- ../omniORB_2.2.0.freebsd/src/examples/echo/Makefile	Sat May 17 20:02:33 1997
***************
*** 2,58 ****
  
  include $(TOP)/mk/config.mk
  
! DIR_CPPFLAGS = -I. $(OMNIORB_CPPFLAGS)
  
! all:: eg1 eg2_impl eg2_clt eg3_impl eg3_clt
! 	@echo
! 	@echo Please read the README file before running these examples.
! 
! clean::
! 	$(RM) *.o core
! 	$(RM) eg1 eg2_impl eg2_clt eg3_impl eg3_clt
! 	$(RM) echo.hh echoSK.cc
! 
! eg1: echoSK.o eg1.o
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) eg1.o echoSK.o -L$(TOP)/lib \
!           $(OMNIORB_LIB) \
!          )
  
  
  eg2_impl: echoSK.o eg2_impl.o
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) eg2_impl.o echoSK.o -L$(TOP)/lib \
!           $(OMNIORB_LIB) \
!          )
! 
  
  eg2_clt: echoSK.o eg2_clt.o
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) eg2_clt.o echoSK.o -L$(TOP)/lib \
!           $(OMNIORB_LIB) \
!          )
! 
  eg3_impl: echoSK.o eg3_impl.o
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) eg3_impl.o echoSK.o -L$(TOP)/lib \
!           $(OMNIORB_LIB) \
!          )
  
  eg3_clt: echoSK.o eg3_clt.o
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) eg3_clt.o echoSK.o -L$(TOP)/lib \
!           $(OMNIORB_LIB) \
!          )
  
  
! echo.hh echoSK.cc: echo.idl
! 	$(BINDIR)/omniidl2 echo.idl
  
! install::
! 	@echo Done.
--- 2,33 ----
  
  include $(TOP)/mk/config.mk
  
! CFLAGS	+= -I. $(OMNIORB_CPPFLAGS) -DDEFAULT_LOGDIR=$(OMNINAMES_LOG_DEFAULT_LOCATION)
  
! LDADD	+= -L$(TOP)/src/lib/omniORB2 -lomniORB2 -L$(TOP)/src/lib/omnithread -lomnithread -lc_r
! NOMAN=	true
  
+ all: eg1 eg2_impl eg2_clt eg3_impl eg3_clt
  
+ eg1: echoSK.o eg1.o
+ 	${CC} ${LDFLAGS} -o ${.TARGET} echoSK.o eg1.o ${LDDESTDIR} ${LDADD}
+  
  eg2_impl: echoSK.o eg2_impl.o
! 	${CC} ${LDFLAGS} -o ${.TARGET} echoSK.o eg2_impl.o ${LDDESTDIR} ${LDADD}
  
  eg2_clt: echoSK.o eg2_clt.o
! 	${CC} ${LDFLAGS} -o ${.TARGET} echoSK.o eg2_clt.o ${LDDESTDIR} ${LDADD}
!  
  eg3_impl: echoSK.o eg3_impl.o
! 	${CC} ${LDFLAGS} -o ${.TARGET} echoSK.o eg3_impl.o ${LDDESTDIR} ${LDADD}
  
  eg3_clt: echoSK.o eg3_clt.o
! 	${CC} ${LDFLAGS} -o ${.TARGET} echoSK.o eg3_clt.o ${LDDESTDIR} ${LDADD}
  
+ echoSK.cc: echo.idl
+ 	${TOP}/src/tool/omniidl2/omniidl2/omniidl2 echo.idl
  
! install:
  
! .include <bsd.dep.mk>
! .include <bsd.obj.mk>
diff -rc ./src/examples/thread/Makefile ../omniORB_2.2.0.freebsd/src/examples/thread/Makefile
*** ./src/examples/thread/Makefile	Mon May 12 05:38:00 1997
--- ../omniORB_2.2.0.freebsd/src/examples/thread/Makefile	Sat May 17 20:02:53 1997
***************
*** 2,44 ****
  
  include $(TOP)/mk/config.mk
  
- DIR_CPPFLAGS = $(OMNITHREAD_CPPFLAGS)
  
! all:: diner prio thrspecdata prodcons
  
! clean::
! 	$(RM) *.o core
! 	$(RM) diner prio thrspecdata prodcons
  
  diner: diner.o
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) diner.o -L$(TOP)/lib \
!           $(OMNITHREAD_LIB) \
!          )
  
! prio: prio.o
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) prio.o -L$(TOP)/lib \
!           $(OMNITHREAD_LIB) \
!          )
  
  
  thrspecdata: thrspecdata.o
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) thrspecdata.o -L$(TOP)/lib \
!           $(OMNITHREAD_LIB) \
!          )
  
  
! prodcons: prodcons.o
! 	@(set -x; \
!           $(RM) -f $@; \
!           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) prodcons.o -L$(TOP)/lib \
!           $(OMNITHREAD_LIB) \
!          )
! 
! install::
! 	@echo Done.
--- 2,27 ----
  
  include $(TOP)/mk/config.mk
  
  
! CFLAGS	+= $(OMNIORB_CPPFLAGS)
! LDADD	+= -L$(TOP)/src/lib/omnithread -lomnithread -lc_r
! NOMAN=	true
  
! all: diner prodcons prio thrspecdata
  
  diner: diner.o
! 	${CC} ${LDFLAGS} -o ${.TARGET} diner.o ${LDDESTDIR} ${LDADD}
  
! prodcons: prodcons.o
! 	${CC} ${LDFLAGS} -o ${.TARGET} prodcons.o ${LDDESTDIR} ${LDADD}
  
+ prio: prio.o
+ 	${CC} ${LDFLAGS} -o ${.TARGET} prio.o ${LDDESTDIR} ${LDADD}
  
  thrspecdata: thrspecdata.o
! 	${CC} ${LDFLAGS} -o ${.TARGET} thrspecdata.o ${LDDESTDIR} ${LDADD}
  
+ install:
  
! .include <bsd.dep.mk>
! .include <bsd.obj.mk>
diff -rc ./src/lib/Makefile ../omniORB_2.2.0.freebsd/src/lib/Makefile
*** ./src/lib/Makefile	Thu May  1 15:35:07 1997
--- ../omniORB_2.2.0.freebsd/src/lib/Makefile	Tue May 13 16:02:21 1997
***************
*** 1,70 ****
! TOP = ../..
! 
! include $(TOP)/mk/config.mk
! 
! SUBDIRS = omnithread omniORB2
! 
! all::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! clean::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! 
! install::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
  
--- 1,3 ----
! SUBDIR= omnithread omniORB2
  
+ .include <bsd.subdir.mk>
diff -rc ./src/lib/omniORB2/Makefile ../omniORB_2.2.0.freebsd/src/lib/omniORB2/Makefile
*** ./src/lib/omniORB2/Makefile	Fri May  2 06:58:48 1997
--- ../omniORB_2.2.0.freebsd/src/lib/omniORB2/Makefile	Sat May 17 09:14:57 1997
***************
*** 1,599 ****
  TOP = ../../..
- 
  include $(TOP)/mk/config.mk
  
! NETLIBSRCS = tcpSocket_UNIX.cc
! NETLIBOBJS = tcpSocket_UNIX.o
! 
! NAMINGOBJ = NamingSK.o
! 
! ORB2_OBJS = constants.o corbaBoa.o corbaObject.o corbaOrb.o \
!             corbaString.o \
!             exception.o giopClient.o giopServer.o initFile.o ior.o \
!             libcWrapper.o mbufferedStream.o nbufferedStream.o $(NAMINGOBJ) \
!             object.o objectRef.o objectKey.o orb.o strand.o $(NETLIBOBJS) \
!             unshared.o
! 
! DIR_CPPFLAGS = -I./.. $(OMNITHREAD_CPPFLAGS) -D__OMNIORB2__ \
!                -DUnixArchitecture \
!                -DCONFIG_DEFAULT_LOCATION=$(OMNIORB_CONFIG_DEFAULT_LOCATION)
! 
! 
! all:: libomniORB2.a
! 
! libomniORB2.a: Naming.hh $(ORB2_OBJS)
! 	(set -x; \
!          $(RM) $@; \
!          $(AR) $@ $(ORB2_OBJS); \
!          $(RANLIB) $@; \
!         )
! 
! Naming.hh NamingSK.cc:	Naming.idl
! 	$(BINDIR)/omniidl2 Naming.idl
! 
! clean::
! 	$(RM) *.a *.o Naming.hh NamingSK.cc
! 
! install:: libomniORB2.a
! 	(set -x; \
!          $(MKDIRHIER) $(LIBDIR); \
!          $(CP) libomniORB2.a $(LIBDIR); \
!         )
! 
! SUBDIRS = sharedlib
! 
! all::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! clean::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 	@$(MakeSubdirs)
! 
! install::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! 
! NamingSK.o : NamingSK.cc
! NamingSK.o : Naming.hh
! NamingSK.o : ../../../include/omniORB2/CORBA.h
! NamingSK.o : ../../../include/omniORB2/omniInternal.h
! NamingSK.o : ../../../include/omniORB2/CORBA_sysdep.h
! NamingSK.o : ../../../include/omniORB2/CORBA_basetypes.h
! NamingSK.o : ../../../include/omniORB2/seqtemplates.h
! NamingSK.o : ../../../include/omniORB2/IOP.h
! NamingSK.o : ../../../include/omniORB2/GIOP.h
! NamingSK.o : ../../../include/omniORB2/CORBA_sysdep.h
! NamingSK.o : ../../../include/omniORB2/CORBA_basetypes.h
! NamingSK.o : ../../../include/omniORB2/IOP.h
! NamingSK.o : ../../../include/omniORB2/IIOP.h
! NamingSK.o : ../../../include/omnithread.h
! NamingSK.o : ../../../include/omnithread/posix.h
! NamingSK.o : ../../../include/omniORB2/rope.h
! NamingSK.o : ../../../include/omniORB2/bufferedStream.h
! NamingSK.o : ../../../include/omniORB2/giopDriver.h
! NamingSK.o : ../../../include/omniORB2/initFile.h
! NamingSK.o : ../../../include/omniORB2/omniORB.h
! NamingSK.o : ../../../include/omniORB2/templates.h
! NamingSK.o : ../../../include/omniORB2/proxyFactory.h
! constants.o : constants.cc
! constants.o : ../../../include/omniORB2/CORBA.h
! constants.o : ../../../include/omniORB2/omniInternal.h
! constants.o : ../../../include/omniORB2/CORBA_sysdep.h
! constants.o : ../../../include/omniORB2/CORBA_basetypes.h
! constants.o : ../../../include/omniORB2/seqtemplates.h
! constants.o : ../../../include/omniORB2/IOP.h
! constants.o : ../../../include/omniORB2/GIOP.h
! constants.o : ../../../include/omniORB2/CORBA_sysdep.h
! constants.o : ../../../include/omniORB2/CORBA_basetypes.h
! constants.o : ../../../include/omniORB2/IOP.h
! constants.o : ../../../include/omniORB2/IIOP.h
! constants.o : ../../../include/omnithread.h
! constants.o : ../../../include/omnithread/posix.h
! constants.o : ../../../include/omniORB2/rope.h
! constants.o : ../../../include/omniORB2/bufferedStream.h
! constants.o : ../../../include/omniORB2/giopDriver.h
! constants.o : ../../../include/omniORB2/initFile.h
! constants.o : ../../../include/omniORB2/omniORB.h
! constants.o : ../../../include/omniORB2/templates.h
! constants.o : ../../../include/omniORB2/proxyFactory.h
! constants.o : ../../../include/omniORB2/CORBA.h
! corbaBoa.o : corbaBoa.cc
! corbaBoa.o : ../../../include/omniORB2/CORBA.h
! corbaBoa.o : ../../../include/omniORB2/omniInternal.h
! corbaBoa.o : ../../../include/omniORB2/CORBA_sysdep.h
! corbaBoa.o : ../../../include/omniORB2/CORBA_basetypes.h
! corbaBoa.o : ../../../include/omniORB2/seqtemplates.h
! corbaBoa.o : ../../../include/omniORB2/IOP.h
! corbaBoa.o : ../../../include/omniORB2/GIOP.h
! corbaBoa.o : ../../../include/omniORB2/CORBA_sysdep.h
! corbaBoa.o : ../../../include/omniORB2/CORBA_basetypes.h
! corbaBoa.o : ../../../include/omniORB2/IOP.h
! corbaBoa.o : ../../../include/omniORB2/IIOP.h
! corbaBoa.o : ../../../include/omnithread.h
! corbaBoa.o : ../../../include/omnithread/posix.h
! corbaBoa.o : ../../../include/omniORB2/rope.h
! corbaBoa.o : ../../../include/omniORB2/bufferedStream.h
! corbaBoa.o : ../../../include/omniORB2/giopDriver.h
! corbaBoa.o : ../../../include/omniORB2/initFile.h
! corbaBoa.o : ../../../include/omniORB2/omniORB.h
! corbaBoa.o : ../../../include/omniORB2/templates.h
! corbaBoa.o : ../../../include/omniORB2/proxyFactory.h
! corbaBoa.o : Naming.hh
! corbaBoa.o : ../../../include/omniORB2/CORBA.h
! corbaObject.o : corbaObject.cc
! corbaObject.o : ../../../include/omniORB2/CORBA.h
! corbaObject.o : ../../../include/omniORB2/omniInternal.h
! corbaObject.o : ../../../include/omniORB2/CORBA_sysdep.h
! corbaObject.o : ../../../include/omniORB2/CORBA_basetypes.h
! corbaObject.o : ../../../include/omniORB2/seqtemplates.h
! corbaObject.o : ../../../include/omniORB2/IOP.h
! corbaObject.o : ../../../include/omniORB2/GIOP.h
! corbaObject.o : ../../../include/omniORB2/CORBA_sysdep.h
! corbaObject.o : ../../../include/omniORB2/CORBA_basetypes.h
! corbaObject.o : ../../../include/omniORB2/IOP.h
! corbaObject.o : ../../../include/omniORB2/IIOP.h
! corbaObject.o : ../../../include/omnithread.h
! corbaObject.o : ../../../include/omnithread/posix.h
! corbaObject.o : ../../../include/omniORB2/rope.h
! corbaObject.o : ../../../include/omniORB2/bufferedStream.h
! corbaObject.o : ../../../include/omniORB2/giopDriver.h
! corbaObject.o : ../../../include/omniORB2/initFile.h
! corbaObject.o : ../../../include/omniORB2/omniORB.h
! corbaObject.o : ../../../include/omniORB2/templates.h
! corbaObject.o : ../../../include/omniORB2/proxyFactory.h
! corbaObject.o : Naming.hh
! corbaObject.o : ../../../include/omniORB2/CORBA.h
! corbaOrb.o : corbaOrb.cc
! corbaOrb.o : ../../../include/omniORB2/CORBA.h
! corbaOrb.o : ../../../include/omniORB2/omniInternal.h
! corbaOrb.o : ../../../include/omniORB2/CORBA_sysdep.h
! corbaOrb.o : ../../../include/omniORB2/CORBA_basetypes.h
! corbaOrb.o : ../../../include/omniORB2/seqtemplates.h
! corbaOrb.o : ../../../include/omniORB2/IOP.h
! corbaOrb.o : ../../../include/omniORB2/GIOP.h
! corbaOrb.o : ../../../include/omniORB2/CORBA_sysdep.h
! corbaOrb.o : ../../../include/omniORB2/CORBA_basetypes.h
! corbaOrb.o : ../../../include/omniORB2/IOP.h
! corbaOrb.o : ../../../include/omniORB2/IIOP.h
! corbaOrb.o : ../../../include/omnithread.h
! corbaOrb.o : ../../../include/omnithread/posix.h
! corbaOrb.o : ../../../include/omniORB2/rope.h
! corbaOrb.o : ../../../include/omniORB2/bufferedStream.h
! corbaOrb.o : ../../../include/omniORB2/giopDriver.h
! corbaOrb.o : ../../../include/omniORB2/initFile.h
! corbaOrb.o : ../../../include/omniORB2/omniORB.h
! corbaOrb.o : ../../../include/omniORB2/templates.h
! corbaOrb.o : ../../../include/omniORB2/proxyFactory.h
! corbaOrb.o : Naming.hh
! corbaOrb.o : ../../../include/omniORB2/CORBA.h
! corbaString.o : corbaString.cc
! corbaString.o : ../../../include/omniORB2/CORBA.h
! corbaString.o : ../../../include/omniORB2/omniInternal.h
! corbaString.o : ../../../include/omniORB2/CORBA_sysdep.h
! corbaString.o : ../../../include/omniORB2/CORBA_basetypes.h
! corbaString.o : ../../../include/omniORB2/seqtemplates.h
! corbaString.o : ../../../include/omniORB2/IOP.h
! corbaString.o : ../../../include/omniORB2/GIOP.h
! corbaString.o : ../../../include/omniORB2/CORBA_sysdep.h
! corbaString.o : ../../../include/omniORB2/CORBA_basetypes.h
! corbaString.o : ../../../include/omniORB2/IOP.h
! corbaString.o : ../../../include/omniORB2/IIOP.h
! corbaString.o : ../../../include/omnithread.h
! corbaString.o : ../../../include/omnithread/posix.h
! corbaString.o : ../../../include/omniORB2/rope.h
! corbaString.o : ../../../include/omniORB2/bufferedStream.h
! corbaString.o : ../../../include/omniORB2/giopDriver.h
! corbaString.o : ../../../include/omniORB2/initFile.h
! corbaString.o : ../../../include/omniORB2/omniORB.h
! corbaString.o : ../../../include/omniORB2/templates.h
! corbaString.o : ../../../include/omniORB2/proxyFactory.h
! corbaString.o : Naming.hh
! corbaString.o : ../../../include/omniORB2/CORBA.h
! exception.o : exception.cc
! exception.o : ../../../include/omniORB2/CORBA.h
! exception.o : ../../../include/omniORB2/omniInternal.h
! exception.o : ../../../include/omniORB2/CORBA_sysdep.h
! exception.o : ../../../include/omniORB2/CORBA_basetypes.h
! exception.o : ../../../include/omniORB2/seqtemplates.h
! exception.o : ../../../include/omniORB2/IOP.h
! exception.o : ../../../include/omniORB2/GIOP.h
! exception.o : ../../../include/omniORB2/CORBA_sysdep.h
! exception.o : ../../../include/omniORB2/CORBA_basetypes.h
! exception.o : ../../../include/omniORB2/IOP.h
! exception.o : ../../../include/omniORB2/IIOP.h
! exception.o : ../../../include/omnithread.h
! exception.o : ../../../include/omnithread/posix.h
! exception.o : ../../../include/omniORB2/rope.h
! exception.o : ../../../include/omniORB2/bufferedStream.h
! exception.o : ../../../include/omniORB2/giopDriver.h
! exception.o : ../../../include/omniORB2/initFile.h
! exception.o : ../../../include/omniORB2/omniORB.h
! exception.o : ../../../include/omniORB2/templates.h
! exception.o : ../../../include/omniORB2/proxyFactory.h
! exception.o : Naming.hh
! exception.o : ../../../include/omniORB2/CORBA.h
! giopClient.o : giopClient.cc
! giopClient.o : ../../../include/omniORB2/CORBA.h
! giopClient.o : ../../../include/omniORB2/omniInternal.h
! giopClient.o : ../../../include/omniORB2/CORBA_sysdep.h
! giopClient.o : ../../../include/omniORB2/CORBA_basetypes.h
! giopClient.o : ../../../include/omniORB2/seqtemplates.h
! giopClient.o : ../../../include/omniORB2/IOP.h
! giopClient.o : ../../../include/omniORB2/GIOP.h
! giopClient.o : ../../../include/omniORB2/CORBA_sysdep.h
! giopClient.o : ../../../include/omniORB2/CORBA_basetypes.h
! giopClient.o : ../../../include/omniORB2/IOP.h
! giopClient.o : ../../../include/omniORB2/IIOP.h
! giopClient.o : ../../../include/omnithread.h
! giopClient.o : ../../../include/omnithread/posix.h
! giopClient.o : ../../../include/omniORB2/rope.h
! giopClient.o : ../../../include/omniORB2/bufferedStream.h
! giopClient.o : ../../../include/omniORB2/giopDriver.h
! giopClient.o : ../../../include/omniORB2/initFile.h
! giopClient.o : ../../../include/omniORB2/omniORB.h
! giopClient.o : ../../../include/omniORB2/templates.h
! giopClient.o : ../../../include/omniORB2/proxyFactory.h
! giopClient.o : Naming.hh
! giopClient.o : ../../../include/omniORB2/CORBA.h
! giopServer.o : giopServer.cc
! giopServer.o : ../../../include/omniORB2/CORBA.h
! giopServer.o : ../../../include/omniORB2/omniInternal.h
! giopServer.o : ../../../include/omniORB2/CORBA_sysdep.h
! giopServer.o : ../../../include/omniORB2/CORBA_basetypes.h
! giopServer.o : ../../../include/omniORB2/seqtemplates.h
! giopServer.o : ../../../include/omniORB2/IOP.h
! giopServer.o : ../../../include/omniORB2/GIOP.h
! giopServer.o : ../../../include/omniORB2/CORBA_sysdep.h
! giopServer.o : ../../../include/omniORB2/CORBA_basetypes.h
! giopServer.o : ../../../include/omniORB2/IOP.h
! giopServer.o : ../../../include/omniORB2/IIOP.h
! giopServer.o : ../../../include/omnithread.h
! giopServer.o : ../../../include/omnithread/posix.h
! giopServer.o : ../../../include/omniORB2/rope.h
! giopServer.o : ../../../include/omniORB2/bufferedStream.h
! giopServer.o : ../../../include/omniORB2/giopDriver.h
! giopServer.o : ../../../include/omniORB2/initFile.h
! giopServer.o : ../../../include/omniORB2/omniORB.h
! giopServer.o : ../../../include/omniORB2/templates.h
! giopServer.o : ../../../include/omniORB2/proxyFactory.h
! giopServer.o : Naming.hh
! giopServer.o : ../../../include/omniORB2/CORBA.h
! initFile.o : initFile.cc
! initFile.o : ../../../include/omniORB2/CORBA.h
! initFile.o : ../../../include/omniORB2/omniInternal.h
! initFile.o : ../../../include/omniORB2/CORBA_sysdep.h
! initFile.o : ../../../include/omniORB2/CORBA_basetypes.h
! initFile.o : ../../../include/omniORB2/seqtemplates.h
! initFile.o : ../../../include/omniORB2/IOP.h
! initFile.o : ../../../include/omniORB2/GIOP.h
! initFile.o : ../../../include/omniORB2/CORBA_sysdep.h
! initFile.o : ../../../include/omniORB2/CORBA_basetypes.h
! initFile.o : ../../../include/omniORB2/IOP.h
! initFile.o : ../../../include/omniORB2/IIOP.h
! initFile.o : ../../../include/omnithread.h
! initFile.o : ../../../include/omnithread/posix.h
! initFile.o : ../../../include/omniORB2/rope.h
! initFile.o : ../../../include/omniORB2/bufferedStream.h
! initFile.o : ../../../include/omniORB2/giopDriver.h
! initFile.o : ../../../include/omniORB2/initFile.h
! initFile.o : ../../../include/omniORB2/omniORB.h
! initFile.o : ../../../include/omniORB2/templates.h
! initFile.o : ../../../include/omniORB2/proxyFactory.h
! initFile.o : Naming.hh
! initFile.o : ../../../include/omniORB2/CORBA.h
! ior.o : ior.cc
! ior.o : ../../../include/omniORB2/CORBA.h
! ior.o : ../../../include/omniORB2/omniInternal.h
! ior.o : ../../../include/omniORB2/CORBA_sysdep.h
! ior.o : ../../../include/omniORB2/CORBA_basetypes.h
! ior.o : ../../../include/omniORB2/seqtemplates.h
! ior.o : ../../../include/omniORB2/IOP.h
! ior.o : ../../../include/omniORB2/GIOP.h
! ior.o : ../../../include/omniORB2/CORBA_sysdep.h
! ior.o : ../../../include/omniORB2/CORBA_basetypes.h
! ior.o : ../../../include/omniORB2/IOP.h
! ior.o : ../../../include/omniORB2/IIOP.h
! ior.o : ../../../include/omnithread.h
! ior.o : ../../../include/omnithread/posix.h
! ior.o : ../../../include/omniORB2/rope.h
! ior.o : ../../../include/omniORB2/bufferedStream.h
! ior.o : ../../../include/omniORB2/giopDriver.h
! ior.o : ../../../include/omniORB2/initFile.h
! ior.o : ../../../include/omniORB2/omniORB.h
! ior.o : ../../../include/omniORB2/templates.h
! ior.o : ../../../include/omniORB2/proxyFactory.h
! ior.o : Naming.hh
! ior.o : ../../../include/omniORB2/CORBA.h
! libcWrapper.o : libcWrapper.cc
! libcWrapper.o : ../../../include/omniORB2/CORBA.h
! libcWrapper.o : ../../../include/omniORB2/omniInternal.h
! libcWrapper.o : ../../../include/omniORB2/CORBA_sysdep.h
! libcWrapper.o : ../../../include/omniORB2/CORBA_basetypes.h
! libcWrapper.o : ../../../include/omniORB2/seqtemplates.h
! libcWrapper.o : ../../../include/omniORB2/IOP.h
! libcWrapper.o : ../../../include/omniORB2/GIOP.h
! libcWrapper.o : ../../../include/omniORB2/CORBA_sysdep.h
! libcWrapper.o : ../../../include/omniORB2/CORBA_basetypes.h
! libcWrapper.o : ../../../include/omniORB2/IOP.h
! libcWrapper.o : ../../../include/omniORB2/IIOP.h
! libcWrapper.o : ../../../include/omnithread.h
! libcWrapper.o : ../../../include/omnithread/posix.h
! libcWrapper.o : ../../../include/omniORB2/rope.h
! libcWrapper.o : ../../../include/omniORB2/bufferedStream.h
! libcWrapper.o : ../../../include/omniORB2/giopDriver.h
! libcWrapper.o : ../../../include/omniORB2/initFile.h
! libcWrapper.o : ../../../include/omniORB2/omniORB.h
! libcWrapper.o : ../../../include/omniORB2/templates.h
! libcWrapper.o : ../../../include/omniORB2/proxyFactory.h
! libcWrapper.o : Naming.hh
! libcWrapper.o : ../../../include/omniORB2/CORBA.h
! libcWrapper.o : libcWrapper.h
! mbufferedStream.o : mbufferedStream.cc
! mbufferedStream.o : ../../../include/omniORB2/CORBA.h
! mbufferedStream.o : ../../../include/omniORB2/omniInternal.h
! mbufferedStream.o : ../../../include/omniORB2/CORBA_sysdep.h
! mbufferedStream.o : ../../../include/omniORB2/CORBA_basetypes.h
! mbufferedStream.o : ../../../include/omniORB2/seqtemplates.h
! mbufferedStream.o : ../../../include/omniORB2/IOP.h
! mbufferedStream.o : ../../../include/omniORB2/GIOP.h
! mbufferedStream.o : ../../../include/omniORB2/CORBA_sysdep.h
! mbufferedStream.o : ../../../include/omniORB2/CORBA_basetypes.h
! mbufferedStream.o : ../../../include/omniORB2/IOP.h
! mbufferedStream.o : ../../../include/omniORB2/IIOP.h
! mbufferedStream.o : ../../../include/omnithread.h
! mbufferedStream.o : ../../../include/omnithread/posix.h
! mbufferedStream.o : ../../../include/omniORB2/rope.h
! mbufferedStream.o : ../../../include/omniORB2/bufferedStream.h
! mbufferedStream.o : ../../../include/omniORB2/giopDriver.h
! mbufferedStream.o : ../../../include/omniORB2/initFile.h
! mbufferedStream.o : ../../../include/omniORB2/omniORB.h
! mbufferedStream.o : ../../../include/omniORB2/templates.h
! mbufferedStream.o : ../../../include/omniORB2/proxyFactory.h
! mbufferedStream.o : Naming.hh
! mbufferedStream.o : ../../../include/omniORB2/CORBA.h
! nbufferedStream.o : nbufferedStream.cc
! nbufferedStream.o : ../../../include/omniORB2/CORBA.h
! nbufferedStream.o : ../../../include/omniORB2/omniInternal.h
! nbufferedStream.o : ../../../include/omniORB2/CORBA_sysdep.h
! nbufferedStream.o : ../../../include/omniORB2/CORBA_basetypes.h
! nbufferedStream.o : ../../../include/omniORB2/seqtemplates.h
! nbufferedStream.o : ../../../include/omniORB2/IOP.h
! nbufferedStream.o : ../../../include/omniORB2/GIOP.h
! nbufferedStream.o : ../../../include/omniORB2/CORBA_sysdep.h
! nbufferedStream.o : ../../../include/omniORB2/CORBA_basetypes.h
! nbufferedStream.o : ../../../include/omniORB2/IOP.h
! nbufferedStream.o : ../../../include/omniORB2/IIOP.h
! nbufferedStream.o : ../../../include/omnithread.h
! nbufferedStream.o : ../../../include/omnithread/posix.h
! nbufferedStream.o : ../../../include/omniORB2/rope.h
! nbufferedStream.o : ../../../include/omniORB2/bufferedStream.h
! nbufferedStream.o : ../../../include/omniORB2/giopDriver.h
! nbufferedStream.o : ../../../include/omniORB2/initFile.h
! nbufferedStream.o : ../../../include/omniORB2/omniORB.h
! nbufferedStream.o : ../../../include/omniORB2/templates.h
! nbufferedStream.o : ../../../include/omniORB2/proxyFactory.h
! nbufferedStream.o : Naming.hh
! nbufferedStream.o : ../../../include/omniORB2/CORBA.h
! object.o : object.cc
! object.o : ../../../include/omniORB2/CORBA.h
! object.o : ../../../include/omniORB2/omniInternal.h
! object.o : ../../../include/omniORB2/CORBA_sysdep.h
! object.o : ../../../include/omniORB2/CORBA_basetypes.h
! object.o : ../../../include/omniORB2/seqtemplates.h
! object.o : ../../../include/omniORB2/IOP.h
! object.o : ../../../include/omniORB2/GIOP.h
! object.o : ../../../include/omniORB2/CORBA_sysdep.h
! object.o : ../../../include/omniORB2/CORBA_basetypes.h
! object.o : ../../../include/omniORB2/IOP.h
! object.o : ../../../include/omniORB2/IIOP.h
! object.o : ../../../include/omnithread.h
! object.o : ../../../include/omnithread/posix.h
! object.o : ../../../include/omniORB2/rope.h
! object.o : ../../../include/omniORB2/bufferedStream.h
! object.o : ../../../include/omniORB2/giopDriver.h
! object.o : ../../../include/omniORB2/initFile.h
! object.o : ../../../include/omniORB2/omniORB.h
! object.o : ../../../include/omniORB2/templates.h
! object.o : ../../../include/omniORB2/proxyFactory.h
! object.o : Naming.hh
! object.o : ../../../include/omniORB2/CORBA.h
! objectKey.o : objectKey.cc
! objectKey.o : ../../../include/omniORB2/CORBA.h
! objectKey.o : ../../../include/omniORB2/omniInternal.h
! objectKey.o : ../../../include/omniORB2/CORBA_sysdep.h
! objectKey.o : ../../../include/omniORB2/CORBA_basetypes.h
! objectKey.o : ../../../include/omniORB2/seqtemplates.h
! objectKey.o : ../../../include/omniORB2/IOP.h
! objectKey.o : ../../../include/omniORB2/GIOP.h
! objectKey.o : ../../../include/omniORB2/CORBA_sysdep.h
! objectKey.o : ../../../include/omniORB2/CORBA_basetypes.h
! objectKey.o : ../../../include/omniORB2/IOP.h
! objectKey.o : ../../../include/omniORB2/IIOP.h
! objectKey.o : ../../../include/omnithread.h
! objectKey.o : ../../../include/omnithread/posix.h
! objectKey.o : ../../../include/omniORB2/rope.h
! objectKey.o : ../../../include/omniORB2/bufferedStream.h
! objectKey.o : ../../../include/omniORB2/giopDriver.h
! objectKey.o : ../../../include/omniORB2/initFile.h
! objectKey.o : ../../../include/omniORB2/omniORB.h
! objectKey.o : ../../../include/omniORB2/templates.h
! objectKey.o : ../../../include/omniORB2/proxyFactory.h
! objectKey.o : Naming.hh
! objectKey.o : ../../../include/omniORB2/CORBA.h
! objectRef.o : objectRef.cc
! objectRef.o : ../../../include/omniORB2/CORBA.h
! objectRef.o : ../../../include/omniORB2/omniInternal.h
! objectRef.o : ../../../include/omniORB2/CORBA_sysdep.h
! objectRef.o : ../../../include/omniORB2/CORBA_basetypes.h
! objectRef.o : ../../../include/omniORB2/seqtemplates.h
! objectRef.o : ../../../include/omniORB2/IOP.h
! objectRef.o : ../../../include/omniORB2/GIOP.h
! objectRef.o : ../../../include/omniORB2/CORBA_sysdep.h
! objectRef.o : ../../../include/omniORB2/CORBA_basetypes.h
! objectRef.o : ../../../include/omniORB2/IOP.h
! objectRef.o : ../../../include/omniORB2/IIOP.h
! objectRef.o : ../../../include/omnithread.h
! objectRef.o : ../../../include/omnithread/posix.h
! objectRef.o : ../../../include/omniORB2/rope.h
! objectRef.o : ../../../include/omniORB2/bufferedStream.h
! objectRef.o : ../../../include/omniORB2/giopDriver.h
! objectRef.o : ../../../include/omniORB2/initFile.h
! objectRef.o : ../../../include/omniORB2/omniORB.h
! objectRef.o : ../../../include/omniORB2/templates.h
! objectRef.o : ../../../include/omniORB2/proxyFactory.h
! objectRef.o : Naming.hh
! objectRef.o : ../../../include/omniORB2/CORBA.h
! objectRef.o : ../../../include/omniORB2/proxyFactory.h
! orb.o : orb.cc
! orb.o : ../../../include/omniORB2/CORBA.h
! orb.o : ../../../include/omniORB2/omniInternal.h
! orb.o : ../../../include/omniORB2/CORBA_sysdep.h
! orb.o : ../../../include/omniORB2/CORBA_basetypes.h
! orb.o : ../../../include/omniORB2/seqtemplates.h
! orb.o : ../../../include/omniORB2/IOP.h
! orb.o : ../../../include/omniORB2/GIOP.h
! orb.o : ../../../include/omniORB2/CORBA_sysdep.h
! orb.o : ../../../include/omniORB2/CORBA_basetypes.h
! orb.o : ../../../include/omniORB2/IOP.h
! orb.o : ../../../include/omniORB2/IIOP.h
! orb.o : ../../../include/omnithread.h
! orb.o : ../../../include/omnithread/posix.h
! orb.o : ../../../include/omniORB2/rope.h
! orb.o : ../../../include/omniORB2/bufferedStream.h
! orb.o : ../../../include/omniORB2/giopDriver.h
! orb.o : ../../../include/omniORB2/initFile.h
! orb.o : ../../../include/omniORB2/omniORB.h
! orb.o : ../../../include/omniORB2/templates.h
! orb.o : ../../../include/omniORB2/proxyFactory.h
! orb.o : Naming.hh
! orb.o : ../../../include/omniORB2/CORBA.h
! orb.o : tcpSocket_UNIX.h
! strand.o : strand.cc
! strand.o : ../../../include/omniORB2/CORBA.h
! strand.o : ../../../include/omniORB2/omniInternal.h
! strand.o : ../../../include/omniORB2/CORBA_sysdep.h
! strand.o : ../../../include/omniORB2/CORBA_basetypes.h
! strand.o : ../../../include/omniORB2/seqtemplates.h
! strand.o : ../../../include/omniORB2/IOP.h
! strand.o : ../../../include/omniORB2/GIOP.h
! strand.o : ../../../include/omniORB2/CORBA_sysdep.h
! strand.o : ../../../include/omniORB2/CORBA_basetypes.h
! strand.o : ../../../include/omniORB2/IOP.h
! strand.o : ../../../include/omniORB2/IIOP.h
! strand.o : ../../../include/omnithread.h
! strand.o : ../../../include/omnithread/posix.h
! strand.o : ../../../include/omniORB2/rope.h
! strand.o : ../../../include/omniORB2/bufferedStream.h
! strand.o : ../../../include/omniORB2/giopDriver.h
! strand.o : ../../../include/omniORB2/initFile.h
! strand.o : ../../../include/omniORB2/omniORB.h
! strand.o : ../../../include/omniORB2/templates.h
! strand.o : ../../../include/omniORB2/proxyFactory.h
! strand.o : Naming.hh
! strand.o : ../../../include/omniORB2/CORBA.h
! tcpSocket_UNIX.o : tcpSocket_UNIX.cc
! tcpSocket_UNIX.o : ../../../include/omniORB2/CORBA.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/omniInternal.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/CORBA_sysdep.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/CORBA_basetypes.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/seqtemplates.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/IOP.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/GIOP.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/CORBA_sysdep.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/CORBA_basetypes.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/IOP.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/IIOP.h
! tcpSocket_UNIX.o : ../../../include/omnithread.h
! tcpSocket_UNIX.o : ../../../include/omnithread/posix.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/rope.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/bufferedStream.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/giopDriver.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/initFile.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/omniORB.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/templates.h
! tcpSocket_UNIX.o : ../../../include/omniORB2/proxyFactory.h
! tcpSocket_UNIX.o : Naming.hh
! tcpSocket_UNIX.o : ../../../include/omniORB2/CORBA.h
! tcpSocket_UNIX.o : tcpSocket_UNIX.h
! tcpSocket_UNIX.o : libcWrapper.h
! unshared.o : unshared.cc
! unshared.o : ../../../include/omniORB2/CORBA.h
! unshared.o : ../../../include/omniORB2/omniInternal.h
! unshared.o : ../../../include/omniORB2/CORBA_sysdep.h
! unshared.o : ../../../include/omniORB2/CORBA_basetypes.h
! unshared.o : ../../../include/omniORB2/seqtemplates.h
! unshared.o : ../../../include/omniORB2/IOP.h
! unshared.o : ../../../include/omniORB2/GIOP.h
! unshared.o : ../../../include/omniORB2/CORBA_sysdep.h
! unshared.o : ../../../include/omniORB2/CORBA_basetypes.h
! unshared.o : ../../../include/omniORB2/IOP.h
! unshared.o : ../../../include/omniORB2/IIOP.h
! unshared.o : ../../../include/omnithread.h
! unshared.o : ../../../include/omnithread/posix.h
! unshared.o : ../../../include/omniORB2/rope.h
! unshared.o : ../../../include/omniORB2/bufferedStream.h
! unshared.o : ../../../include/omniORB2/giopDriver.h
! unshared.o : ../../../include/omniORB2/initFile.h
! unshared.o : ../../../include/omniORB2/omniORB.h
! unshared.o : ../../../include/omniORB2/templates.h
! unshared.o : ../../../include/omniORB2/proxyFactory.h
! unshared.o : Naming.hh
! unshared.o : ../../../include/omniORB2/CORBA.h
! unshared.o : libcWrapper.h
! unshared.o : tcpSocket_UNIX.h
  
  
--- 1,23 ----
  TOP = ../../..
  include $(TOP)/mk/config.mk
  
! LIB=omniORB2
! SHLIB_MAJOR= 1
! SHLIB_MINOR= 0
! NOMAN=		true
! CFLAGS		+= -I./.. $(OMNITHREAD_CPPFLAGS) -D__OMNIORB2__ -DUnixArchitecture -DCONFIG_DEFAULT_LOCATION=$(OMNIORB_CONFIG_DEFAULT_LOCATION)
  
+ NETLIBSRCS = tcpSocket_UNIX.cc
+  
+ NAMINGOBJ = NamingSK.cc
+  
+ SRCS	= constants.cc corbaBoa.cc corbaObject.cc corbaOrb.o corbaString.cc exception.cc giopClient.cc giopServer.cc initFile.cc ior.cc libcWrapper.cc mbufferedStream.cc nbufferedStream.cc NamingSK.cc object.cc objectRef.cc objectKey.cc orb.cc strand.cc tcpSocket_UNIX.cc unshared.cc
+ 
+ ${NAMINGOBJ}:  Naming.idl
+ 	${TOP}/src/tool/omniidl2/omniidl2/omniidl2 Naming.idl
+ 
+ install:
+ 	install -c -o bin -g bin -m 0444 libomniORB2.a ${LIBDIR}
+ 	install -c -o bin -g bin -m 0444 libomniORB2.so.1.0 ${LIBDIR}
  
+ .include <bsd.lib.mk>
Only in ./src/lib/omniORB2: omniORB2.def
diff -rc ./src/lib/omnithread/Makefile ../omniORB_2.2.0.freebsd/src/lib/omnithread/Makefile
*** ./src/lib/omnithread/Makefile	Thu May  1 10:09:16 1997
--- ../omniORB_2.2.0.freebsd/src/lib/omnithread/Makefile	Wed May 14 18:03:40 1997
***************
*** 1,97 ****
  TOP = ../../..
- 
  include $(TOP)/mk/config.mk
  
! #CXXSRCS = solaris.cc
! #OBJS = solaris.o
! #DIR_CPPFLAGS = $(OMNITHREAD_CPPFLAGS)
! 
! CXXSRCS = posix.cc
! OBJS = posix.o
! DIR_CPPFLAGS = $(OMNITHREAD_CPPFLAGS) $(OMNITHREAD_POSIX_CPPFLAGS)
! 
! all:: libomnithread.a
! 
! libomnithread.a: $(OBJS)
! 	(set -x; \
!          $(RM) $@; \
!          $(AR) $@ $(OBJS); \
!          $(RANLIB) $@; \
!         )
! 
! clean::
! 	$(RM) *.o *.a core
! 	$(RM) libomnithread.a
! 
! install:: libomnithread.a
! 	(set -x; \
!          $(MKDIRHIER) $(LIBDIR); \
!          $(CP) libomnithread.a $(LIBDIR); \
!         )
! 
! SUBDIRS = sharedlib
! 
! all::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! clean::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 	@$(MakeSubdirs)
! 
! install::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
  
--- 1,16 ----
  TOP = ../../..
  include $(TOP)/mk/config.mk
  
! LIB=omnithread
! SHLIB_MAJOR= 1
! SHLIB_MINOR= 0
! NOMAN=		true
! CFLAGS		+= $(PLATFORM_CPPFLAGS) $(OMNITHREAD_CPPFLAGS) $(OMNITHREAD_POSIX_CPPFLAGS)
! 
! SRCS=		posix.cc
! 
! install:
! 	install -c -o bin -g bin -m 0444 libomnithread.a ${LIBDIR}
! 	install -c -o bin -g bin -m 0444 libomnithread.so.1.0 ${LIBDIR}
  
+ .include <bsd.lib.mk>
diff -rc ./src/lib/omnithread/posix.cc ../omniORB_2.2.0.freebsd/src/lib/omnithread/posix.cc
*** ./src/lib/omnithread/posix.cc	Tue May  6 11:58:40 1997
--- ../omniORB_2.2.0.freebsd/src/lib/omnithread/posix.cc	Wed May 14 16:25:16 1997
***************
*** 638,644 ****
  
      if (detached) {
  
! #if (PthreadDraftVersion <= 6)
  	rc = ERRNO(pthread_detach(&posix_thread));
  #else
  	rc = ERRNO(pthread_detach(posix_thread));
--- 638,644 ----
  
      if (detached) {
  
! #if (PthreadDraftVersion <= 6) || defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__)
  	rc = ERRNO(pthread_detach(&posix_thread));
  #else
  	rc = ERRNO(pthread_detach(posix_thread));
***************
*** 902,908 ****
  
      pthread_yield(NULL);
  
! #elif (PthreadDraftVersion < 9)
  
      pthread_yield();
  
--- 902,908 ----
  
      pthread_yield(NULL);
  
! #elif (PthreadDraftVersion < 9) || defined(__freebsd__)
  
      pthread_yield();
  
***************
*** 1001,1007 ****
  
  int omni_thread::cancel(void)
  {
! #ifdef __linux__
      cerr << "omni_thread::cancel: no pthread_cancel on this platform\n";
      return ENOSYS;
  #else
--- 1001,1007 ----
  
  int omni_thread::cancel(void)
  {
! #if defined(__linux__) || defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__)
      cerr << "omni_thread::cancel: no pthread_cancel on this platform\n";
      return ENOSYS;
  #else
diff -rc ./src/tool/Makefile ../omniORB_2.2.0.freebsd/src/tool/Makefile
*** ./src/tool/Makefile	Thu May  1 15:33:57 1997
--- ../omniORB_2.2.0.freebsd/src/tool/Makefile	Tue May 13 11:00:38 1997
***************
*** 1,70 ****
! TOP = ../..
  
! include $(TOP)/mk/config.mk
! 
! SUBDIRS = omniidl2
! 
! all::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! clean::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
! 
! 
! install::
! 	@(unset MAKEFLAGS; \
!           set -e; \
!           if [ "$$subdir_makeflags" = "" ]; then \
!              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
!           fi; \
!           if [ "$$subdirs" = "" ]; then \
!              subdirs='$(SUBDIRS)'; \
!           fi; \
!           if [ "$$target" = "" ]; then \
!              target='$@'; \
!           fi; \
!           for i in $$subdirs ; do \
!              (cd $$i ; echo "making $$target in $$i..." ; \
!               eval make $$subdir_makeflags $$target ) ; \
!              if [ $$? != 0 ]; then \
!                 exit 1; \
!              fi; \
!           done; \
!          )
  
--- 1,7 ----
! # Makefile for omniORB2
! #
! # $Id: patch-aa,v 1.3 1997/06/29 12:13:21 obrien Exp $
  
! SUBDIR=	omniidl2
  
+ .include <bsd.subdir.mk>
diff -rc ./src/tool/omniidl2/Makefile ../omniORB_2.2.0.freebsd/src/tool/omniidl2/Makefile
*** ./src/tool/omniidl2/Makefile	Thu May  1 09:24:02 1997
--- ../omniORB_2.2.0.freebsd/src/tool/omniidl2/Makefile	Tue May 13 15:51:31 1997
***************
*** 1,70 ****
! TOP = ../../..
  
! include $(TOP)/mk/config.mk
  
- SUBDIRS = ast driver fe narrow util omniORB2_be
- 
- OBJ_LIBS = \
-            driver/libdrv.a \
-            omniORB2_be/libomniORB2_be.a \
-            fe/libfe.a \
-            ast/libast.a \
-            util/libutil.a \
-            narrow/libnarrow.a
- 
- all::
- 	@(unset MAKEFLAGS; \
-           set -e; \
-           if [ "$$subdir_makeflags" = "" ]; then \
-              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
-           fi; \
-           if [ "$$subdirs" = "" ]; then \
-              subdirs='$(SUBDIRS)'; \
-           fi; \
-           if [ "$$target" = "" ]; then \
-              target='$@'; \
-           fi; \
-           for i in $$subdirs ; do \
-              (cd $$i ; echo "making $$target in $$i..." ; \
-               eval make $$subdir_makeflags $$target ) ; \
-              if [ $$? != 0 ]; then \
-                 exit 1; \
-              fi; \
-           done; \
-          )
- 
- all:: omniidl2
- 
- omniidl2: $(OBJ_LIBS)
- 	(set -x; \
-           $(RM) -f $@; \
-           $(CXXLINK) -o $@ $(CXXLINKOPTIONS) $(OBJ_LIBS) \
-          )
- 
- clean::
- 	$(RM) omniidl2
- 	@(unset MAKEFLAGS; \
-           set -e; \
-           if [ "$$subdir_makeflags" = "" ]; then \
-              subdir_makeflags='$(SUBDIR_MAKEFLAGS)'; \
-           fi; \
-           if [ "$$subdirs" = "" ]; then \
-              subdirs='$(SUBDIRS)'; \
-           fi; \
-           if [ "$$target" = "" ]; then \
-              target='$@'; \
-           fi; \
-           for i in $$subdirs ; do \
-              (cd $$i ; echo "making $$target in $$i..." ; \
-               eval make $$subdir_makeflags $$target ) ; \
-              if [ $$? != 0 ]; then \
-                 exit 1; \
-              fi; \
-           done; \
-          )
- 
- install:: all
- 	(set -x; \
-          $(MKDIRHIER) $(BINDIR); \
-          $(CP) omniidl2 $(BINDIR); \
-         )
--- 1,4 ----
! SUBDIR=	ast driver fe narrow util omniORB2_be omniidl2
  
! .include <bsd.subdir.mk>
  
diff -rc ./src/tool/omniidl2/ast/Makefile ../omniORB_2.2.0.freebsd/src/tool/omniidl2/ast/Makefile
*** ./src/tool/omniidl2/ast/Makefile	Thu May  1 09:14:26 1997
--- ../omniORB_2.2.0.freebsd/src/tool/omniidl2/ast/Makefile	Sat May 17 14:25:20 1997
***************
*** 1,80 ****
  TOP = ../../../..
- 
  include $(TOP)/mk/config.mk
  
! CXXSRCS	      = \
! 		ast_array.cc \
! 		ast_argument.cc \
! 		ast_attribute.cc \
! 		ast_check.cc \
! 		ast_concrete_type.cc \
! 		ast_constant.cc \
! 		ast_decl.cc \
! 		ast_enum.cc \
! 		ast_enum_val.cc \
! 		ast_exception.cc \
! 		ast_expression.cc \
! 		ast_field.cc \
! 		ast_interface.cc \
! 		ast_intf_fwd.cc \
! 		ast_module.cc \
! 		ast_operation.cc \
! 		ast_predefined_type.cc \
! 		ast_root.cc \
! 		ast_sequence.cc \
! 		ast_string.cc \
! 		ast_structure.cc \
! 		ast_type.cc \
! 		ast_typedef.cc \
! 		ast_union.cc \
! 		ast_union_branch.cc \
! 		ast_union_label.cc \
! 		ast_generator.cc \
! 		ast_redef.cc \
! 		ast_recursive.cc
! 
! 
! OBJS	= \
! 		ast_array.o \
! 		ast_argument.o \
! 		ast_attribute.o \
! 		ast_check.o \
! 		ast_concrete_type.o \
! 		ast_constant.o \
! 		ast_decl.o \
! 		ast_enum.o \
! 		ast_enum_val.o \
! 		ast_exception.o \
! 		ast_expression.o \
! 		ast_field.o \
! 		ast_interface.o \
! 		ast_intf_fwd.o \
! 		ast_module.o \
! 		ast_operation.o \
! 		ast_predefined_type.o \
! 		ast_root.o \
! 		ast_sequence.o \
! 		ast_string.o \
! 		ast_structure.o \
! 		ast_type.o \
! 		ast_typedef.o \
! 		ast_union.o \
! 		ast_union_branch.o \
! 		ast_union_label.o \
! 		ast_generator.o \
! 		ast_redef.o \
! 		ast_recursive.o
! 
! DIR_CPPFLAGS = -I../include
  
! all:: libast.a
  
! libast.a: $(OBJS)
! 	(set -x; \
!          $(RM) $@; \
!          $(AR) $@ $(OBJS); \
!          $(RANLIB) $@; \
!         )
  
! clean::
! 	$(RM) *.o *.a core
--- 1,13 ----
  TOP = ../../../..
  include $(TOP)/mk/config.mk
  
! CFLAGS+=	-I../include
! LIB=ast
! NOMAN=		true
  
! SRCS= ast_argument.cc ast_array.cc ast_attribute.cc ast_check.cc ast_concrete_type.cc ast_constant.cc ast_decl.cc ast_enum.cc ast_enum_val.cc ast_exception.cc ast_expression.cc ast_field.cc ast_generator.cc ast_interface.cc ast_intf_fwd.cc ast_module.cc ast_operation.cc ast_predefined_type.cc ast_recursive.cc ast_redef.cc ast_root.cc ast_sequence.cc ast_string.cc ast_structure.cc ast_type.cc ast_typedef.cc ast_union.cc ast_union_branch.cc ast_union_label.cc
  
! install:
! 	INTERNALLIB=true
  
! .include <bsd.lib.mk>
diff -rc ./src/tool/omniidl2/driver/Makefile ../omniORB_2.2.0.freebsd/src/tool/omniidl2/driver/Makefile
*** ./src/tool/omniidl2/driver/Makefile	Thu May  1 09:12:16 1997
--- ../omniORB_2.2.0.freebsd/src/tool/omniidl2/driver/Makefile	Sat May 17 14:38:01 1997
***************
*** 1,41 ****
  TOP = ../../../..
- 
  include $(TOP)/mk/config.mk
  
- CXXSRCS       = \
- 		drv_init.cc \
- 		drv_private.cc \
- 		drv_main.cc \
- 		drv_args.cc \
- 		drv_fork.cc \
- 		drv_link.cc \
- 		drv_preproc.cc
- 
- OBJS = \
- 		drv_init.o \
- 		drv_private.o \
- 		drv_main.o \
- 		drv_args.o \
- 		drv_fork.o \
- 		drv_link.o \
- 		drv_preproc.o
- 
  IDL_CFE_VERSION = \"1.3.0\"
  CPP_LOCATION    = $(CXX)
  
! DIR_CPPFLAGS = -I../include \
!                -DIDL_CFE_VERSION=$(IDL_CFE_VERSION) \
!                -DCPP_LOCATION=\"$(CPP_LOCATION)\"
! 
  
! all:: libdrv.a
  
! libdrv.a: $(OBJS)
! 	(set -x; \
!          $(RM) $@; \
!          $(AR) $@ $(OBJS); \
!          $(RANLIB) $@; \
!         )
  
! clean::
! 	$(RM) *.o *.a core
--- 1,17 ----
  TOP = ../../../..
  include $(TOP)/mk/config.mk
  
  IDL_CFE_VERSION = \"1.3.0\"
  CPP_LOCATION    = $(CXX)
+  
+ CFLAGS		+= -I../include -DIDL_CFE_VERSION=$(IDL_CFE_VERSION) -DCPP_LOCATION=\"$(CPP_LOCATION)\"
  
! LIB=drv
! NOMAN=		true
  
! SRCS=		drv_args.cc drv_fork.cc drv_init.cc drv_link.cc drv_main.cc drv_preproc.cc drv_private.cc
  
! install:
! 	INTERNALLIB=true
  
! .include <bsd.lib.mk>
diff -rc ./src/tool/omniidl2/driver/drv_fork.cc ../omniORB_2.2.0.freebsd/src/tool/omniidl2/driver/drv_fork.cc
*** ./src/tool/omniidl2/driver/drv_fork.cc	Mon Feb 17 12:34:18 1997
--- ../omniORB_2.2.0.freebsd/src/tool/omniidl2/driver/drv_fork.cc	Sat May 17 15:34:23 1997
***************
*** 87,92 ****
--- 87,97 ----
  #endif
  #endif
  
+ #if defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__)
+ #include <unistd.h>
+ #include <sys/wait.h>
+ #endif
+ 
  #if defined(__osf1__)
  #include	<unistd.h>		// POSIX standard types
  #include	<wait.h>		// POSIX definition of wait()
diff -rc ./src/tool/omniidl2/driver/drv_preproc.cc ../omniORB_2.2.0.freebsd/src/tool/omniidl2/driver/drv_preproc.cc
*** ./src/tool/omniidl2/driver/drv_preproc.cc	Wed Apr 30 14:44:01 1997
--- ../omniORB_2.2.0.freebsd/src/tool/omniidl2/driver/drv_preproc.cc	Wed May 14 17:45:15 1997
***************
*** 92,97 ****
--- 92,102 ----
  #endif
  #endif
  
+ #if defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__)
+ #include        <unistd.h>              // POSIX standard types
+ #include        <sys/wait.h>            // POSIX definition of wait()
+ #endif
+ 
  #if defined(__osf1__)
  #include	<unistd.h>		// POSIX standard types
  #include	<wait.h>		// POSIX definition of wait()
diff -rc ./src/tool/omniidl2/fe/Makefile ../omniORB_2.2.0.freebsd/src/tool/omniidl2/fe/Makefile
*** ./src/tool/omniidl2/fe/Makefile	Thu May  1 09:14:45 1997
--- ../omniORB_2.2.0.freebsd/src/tool/omniidl2/fe/Makefile	Sat May 17 14:38:29 1997
***************
*** 1,53 ****
  TOP = ../../../..
- 
  include $(TOP)/mk/config.mk
  
! CXXSRCS       = \
! 		fe_declarator.cc \
! 		fe_private.cc \
! 		fe_init.cc \
! 		fe_extern.cc \
! 		fe_interface_header.cc
! 
! 
! OBJS	      = \
!                 y.tab.o \
!                 lex.yy.o \
! 		fe_declarator.o \
! 		fe_private.o \
! 		fe_init.o \
! 		fe_extern.o \
! 		fe_interface_header.o
! 
! DIR_CPPFLAGS = -I../include -I.
  
! all:: libfe.a
  
! libfe.a: $(OBJS)
! 	(set -x; \
!          $(RM) $@; \
!          $(AR) $@ $(OBJS); \
!          $(RANLIB) $@; \
!         )
  
! #
! # We don't seem to be able to regenerate y.tab.cc y.tab.hh and lex.yy.cc
! # (at least on OSF)
! #
! # Create the parser and lexer
! #
! #y.tab.hh y.tab.cc: idl.yy
! #	@-$(RM) $@
! #	$(YACC) -d $<
! #	mv -f y.tab.c y.tab.cc
! #	mv -f y.tab.h y.tab.hh
! #
! #lex.yy.cc: idl.ll y.tab.hh
! #	$(LEX) $(LEXFLAGS) $<
! #	mv -f lex.yy.c lex.yy.cc
! #
! #clean::
! #	$(RM) y.tab.cc y.tab.hh y.tab.c y.tab.h lex.yy.c lex.yy.cc
  
! clean::
! 	$(RM) *.o *.a core
--- 1,14 ----
  TOP = ../../../..
  include $(TOP)/mk/config.mk
  
! CFLAGS		+= -I../include -I.
  
! LIB=fe
! NOMAN=		true
  
! SRCS		= fe_declarator.cc fe_extern.cc fe_init.cc fe_interface_header.cc fe_private.cc lex.yy.cc y.tab.cc
  
! install:
! 	INTERNALLIB=true
  
! .include <bsd.lib.mk>
diff -rc ./src/tool/omniidl2/fe/y.tab.cc ../omniORB_2.2.0.freebsd/src/tool/omniidl2/fe/y.tab.cc
*** ./src/tool/omniidl2/fe/y.tab.cc	Tue Apr 29 08:23:00 1997
--- ../omniORB_2.2.0.freebsd/src/tool/omniidl2/fe/y.tab.cc	Tue May 13 12:23:55 1997
***************
*** 105,111 ****
  #endif
  
  #ifndef __NT__
! #include <values.h>
  #endif
  
  #ifdef __cplusplus
--- 105,111 ----
  #endif
  
  #ifndef __NT__
! #include <limits.h>
  #endif
  
  #ifdef __cplusplus
diff -rc ./src/tool/omniidl2/narrow/Makefile ../omniORB_2.2.0.freebsd/src/tool/omniidl2/narrow/Makefile
*** ./src/tool/omniidl2/narrow/Makefile	Thu May  1 09:13:38 1997
--- ../omniORB_2.2.0.freebsd/src/tool/omniidl2/narrow/Makefile	Sat May 17 14:38:14 1997
***************
*** 1,23 ****
  TOP = ../../../..
- 
  include $(TOP)/mk/config.mk
  
! CXXSRCS       = \
! 		nr_narrow.cc
! 
! OBJS   = \
! 		nr_narrow.o
  
! DIR_CPPFLAGS = -I../include
  
! all:: libnarrow.a
  
! libnarrow.a: $(OBJS)
! 	(set -x; \
!          $(RM) $@; \
!          $(AR) $@ $(OBJS); \
!          $(RANLIB) $@; \
!         )
  
! clean::
! 	$(RM) *.o *.a core
--- 1,14 ----
  TOP = ../../../..
  include $(TOP)/mk/config.mk
  
! CFLAGS		+= -I../include
  
! LIB=narrow
! NOMAN=		true
  
! SRCS=		nr_narrow.cc
  
! install:
! 	INTERNALLIB=true
  
! .include <bsd.lib.mk>
diff -rc ./src/tool/omniidl2/omniORB2_be/Makefile ../omniORB_2.2.0.freebsd/src/tool/omniidl2/omniORB2_be/Makefile
*** ./src/tool/omniidl2/omniORB2_be/Makefile	Thu May  1 09:15:07 1997
--- ../omniORB_2.2.0.freebsd/src/tool/omniidl2/omniORB2_be/Makefile	Sat May 17 14:28:50 1997
***************
*** 1,61 ****
  TOP = ../../../..
- 
  include $(TOP)/mk/config.mk
  
! CXXSRCS       = \
! 		o2be_array.cc \
! 		o2be_attribute.cc \
! 		o2be_cfe_interface.cc \
! 		o2be_constant.cc \
! 		o2be_enum.cc \
! 		o2be_exception.cc \
! 		o2be_field.cc \
! 		o2be_generator.cc \
! 		o2be_interface.cc \
! 		o2be_module.cc \
! 		o2be_name.cc \
! 		o2be_operation.cc \
! 		o2be_predefined_type.cc \
! 		o2be_root.cc \
! 		o2be_sequence.cc \
! 		o2be_string.cc \
! 		o2be_struct.cc \
! 		o2be_typedef.cc \
! 		o2be_union.cc \
! 		o2be_union_branch.cc
! 
! OBJS         = \
! 		o2be_array.o \
! 		o2be_attribute.o \
! 		o2be_cfe_interface.o \
! 		o2be_constant.o \
! 		o2be_enum.o \
! 		o2be_exception.o \
! 		o2be_field.o \
! 		o2be_generator.o \
! 		o2be_interface.o \
! 		o2be_module.o \
! 		o2be_name.o \
! 		o2be_operation.o \
! 		o2be_predefined_type.o \
! 		o2be_root.o \
! 		o2be_sequence.o \
! 		o2be_string.o \
! 		o2be_struct.o \
! 		o2be_typedef.o \
! 		o2be_union.o \
! 		o2be_union_branch.o
  
! DIR_CPPFLAGS = -I../include -I.
  
! all:: libomniORB2_be.a
  
! libomniORB2_be.a: $(OBJS)
! 	(set -x; \
!          $(RM) $@; \
!          $(AR) $@ $(OBJS); \
!          $(RANLIB) $@; \
!         )
  
! clean::
! 	$(RM) *.o *.a core
--- 1,14 ----
  TOP = ../../../..
  include $(TOP)/mk/config.mk
  
! CFLAGS		+= -I../include -I.
  
! LIB=omniORB2_be
! NOMAN=		true
  
! SRCS=		o2be_array.cc o2be_attribute.cc o2be_cfe_interface.cc o2be_constant.cc o2be_enum.cc o2be_exception.cc o2be_field.cc o2be_generator.cc o2be_interface.cc o2be_module.cc o2be_name.cc o2be_operation.cc o2be_predefined_type.cc o2be_root.cc o2be_sequence.cc o2be_string.cc o2be_struct.cc o2be_typedef.cc o2be_union.cc o2be_union_branch.cc
  
! install:
! 	INTERNALLIB=true
  
! .include <bsd.lib.mk>
diff -rc ./src/tool/omniidl2/omniidl2/Makefile ../omniORB_2.2.0.freebsd/src/tool/omniidl2/omniidl2/Makefile
*** ./src/tool/omniidl2/omniidl2/Makefile	Sat May 17 08:05:22 1997
--- ../omniORB_2.2.0.freebsd/src/tool/omniidl2/omniidl2/Makefile	Thu May 15 09:36:12 1997
***************
*** 0 ****
--- 1,19 ----
+ TOP = ../../../..
+ include $(TOP)/mk/config.mk
+ 
+ OBJS = ../driver/libdrv.a ../omniORB2_be/libomniORB2_be.a ../fe/libfe.a ../ast/libast.a ../util/libutil.a ../narrow/libnarrow.a
+ 
+ CC	= g++
+ LDADD	+= -L/usr/local/lib -lstdc++
+ 
+ all: omniidl2
+ 
+ omniidl2: ${OBJS}
+ 	${CC} ${LDFLAGS} -o ${.TARGET} ${OBJS} ${LDDESTDIR} ${LDADD}
+ 
+ install:
+ 	install -cs -o bin -g bin -m 0755 omniidl2 ${BINDIR}
+ 		
+ .include <bsd.dep.mk>
+ .include <bsd.obj.mk>
+ 
Only in ../omniORB_2.2.0.freebsd/src/tool/omniidl2/omniidl2: omniidl2
diff -rc ./src/tool/omniidl2/util/Makefile ../omniORB_2.2.0.freebsd/src/tool/omniidl2/util/Makefile
*** ./src/tool/omniidl2/util/Makefile	Thu May  1 09:14:04 1997
--- ../omniORB_2.2.0.freebsd/src/tool/omniidl2/util/Makefile	Sat May 17 14:28:33 1997
***************
*** 1,52 ****
  TOP = ../../../..
- 
  include $(TOP)/mk/config.mk
  
! CXXSRCS       = \
! 		utl_scope.cc \
! 		utl_stack.cc \
! 		utl_string.cc \
! 		utl_decllist.cc \
! 		utl_labellist.cc \
! 		utl_namelist.cc \
! 		utl_exceptlist.cc \
! 		utl_strlist.cc \
! 		utl_list.cc \
! 		utl_exprlist.cc \
! 		utl_error.cc \
! 		utl_indenter.cc \
! 		utl_identifier.cc \
! 		utl_idlist.cc \
! 		utl_global.cc
! 
! OBJS     = \
! 		utl_scope.o \
! 		utl_stack.o \
! 		utl_string.o \
! 		utl_decllist.o \
! 		utl_labellist.o \
! 		utl_namelist.o \
! 		utl_exceptlist.o \
! 		utl_strlist.o \
! 		utl_list.o \
! 		utl_exprlist.o \
! 		utl_error.o \
! 		utl_indenter.o \
! 		utl_identifier.o \
! 		utl_idlist.o \
! 		utl_global.o
! 
! DIR_CPPFLAGS = -I../include
  
! all:: libutil.a
  
! libutil.a: $(OBJS)
! 	(set -x; \
!          $(RM) $@; \
!          $(AR) $@ $(OBJS); \
!          $(RANLIB) $@; \
!         )
  
! clean::
! 	$(RM) *.o *.a core
  
--- 1,14 ----
  TOP = ../../../..
  include $(TOP)/mk/config.mk
  
! CFLAGS		+= -I../include
  
! LIB=util
! NOMAN=		true
  
! SRCS=		utl_decllist.cc utl_error.cc utl_exceptlist.cc utl_exprlist.cc utl_global.cc utl_identifier.cc utl_idlist.cc utl_indenter.cc utl_labellist.cc utl_list.cc utl_namelist.cc utl_scope.cc utl_stack.cc utl_string.cc utl_strlist.cc
  
! install:
! 	INTERNALLIB=true
  
+ .include <bsd.lib.mk>
