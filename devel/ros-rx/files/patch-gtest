--- 3rdparty/gtest/Makefile.orig	2010-10-25 08:35:45.000000000 +0200
+++ 3rdparty/gtest/Makefile	2010-10-27 21:24:06.000000000 +0200
@@ -1,9 +1,9 @@
 all: gtest
 
-TARBALL = build/gtest-1.3.0.tar.gz
+TARBALL = build/gtest-1.5.0.tar.gz
 TARBALL_URL = http://pr.willowgarage.com/downloads/gtest-1.3.0.tar.gz
-SOURCE_DIR = build/gtest-1.3.0
-MD5SUM_FILE = gtest-1.3.0.tar.gz.md5sum
+SOURCE_DIR = build/gtest-1.5.0
+MD5SUM_FILE = gtest-1.5.0.tar.gz.md5sum
 include $(shell rospack find mk)/download_unpack_build.mk
 
 # gtest's death test appears to hang when gtest is compiled with Bullseye's
@@ -17,7 +17,7 @@
 endif
 
 gtest: $(SOURCE_DIR)/unpacked
-	cd $(SOURCE_DIR) && PATH=$(NEWPATH) ./configure --prefix=$(CURDIR)/gtest
+	cd $(SOURCE_DIR) && PATH=$(NEWPATH) CXXFLAGS="$(CXXFLAGS) -DGTEST_HAS_TR1_TUPLE=0" ./configure --prefix=$(CURDIR)/gtest
 	cd $(SOURCE_DIR) && PATH=$(NEWPATH) make install
 	touch gtest
 
--- core/rosbuild/public.cmake.orig	2010-10-25 08:35:45.000000000 +0200
+++ core/rosbuild/public.cmake	2010-10-28 11:40:56.000000000 +0200
@@ -419,7 +419,7 @@
   include_directories(${_gtest_PACKAGE_PATH}/gtest/include)
   link_directories(${_gtest_PACKAGE_PATH}/gtest/lib)
   set(_gtest_LIBRARIES -lgtest)
-  set(_gtest_CFLAGS_OTHER "")
+  set(_gtest_CFLAGS_OTHER "-DGTEST_HAS_TR1_TUPLE=0")
   set(_gtest_LDFLAGS_OTHER "-Wl,-rpath,${_gtest_PACKAGE_PATH}/gtest/lib")
   
   #
--- /dev/null	2010-11-01 00:11:00.000000000 +0100
+++ 3rdparty/gtest/gtest-1.5.0.tar.gz.md5sum	2010-11-01 00:12:51.000000000 +0100
@@ -0,0 +1 @@
+7e27f5f3b79dd1ce9092e159cdbd0635  gtest-1.5.0.tar.gz
--- 3rdparty/gtest/gtest-1.3.0.tar.gz.md5sum	2010-05-11 00:43:08.000000000 +0200
+++ /dev/null	2010-11-01 00:52:23.000000000 +0100
@@ -1 +0,0 @@
-714e9c00c0616ea72ba076c6c5f401d2  gtest-1.3.0.tar.gz
