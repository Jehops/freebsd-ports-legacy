--- coregrind/vg_scheduler.c	2004-04-19 09:10:49 UTC (rev 328)
+++ coregrind/vg_scheduler.c	2004-04-22 08:53:06 UTC (rev 329)
@@ -1146,7 +1146,12 @@
                ) {
 
                /* If __NR_exit, remember the supplied argument. */
+#ifdef __linux__
                VG_(exitcode) = VG_(threads)[tid].m_ebx; /* syscall arg1 */
+#endif
+#ifdef __FreeBSD__
+               VG_(exitcode) = ((UInt*)VG_(threads)[tid].m_esp)[1]; /* syscall arg1 */
+#endif
 
                /* Only run __libc_freeres if the skin says it's ok and
                   it hasn't been overridden with --run-libc-freeres=no

