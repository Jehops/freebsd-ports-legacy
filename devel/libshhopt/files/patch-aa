*** Makefile	Fri Sep 10 23:19:48 1999
--- /home/andy/tmp/wrk/Makefile	Fri Sep 24 17:47:46 1999
***************
*** 6,15 ****
  VERSION		= $(VERMAJ).$(VERMIN).$(VERPAT)
  
  # Define SHARED as 1 for Linux shared ELF library
! #SHARED		= 1
  
  ifeq ($(SHARED),1)
! LIBTARGET	= lib$(DIST).so.$(VERSION)
  LIBTARGETSO	= lib$(DIST).so
  LIBTARGETSOMAJ	= $(LIBTARGETSO).$(VERMAJ)
  CCSHRD		= -fPIC
--- 6,15 ----
  VERSION		= $(VERMAJ).$(VERMIN).$(VERPAT)
  
  # Define SHARED as 1 for Linux shared ELF library
! SHARED		= 1
  
  ifeq ($(SHARED),1)
! LIBTARGET	= lib$(DIST).so.$(VERMAJ)
  LIBTARGETSO	= lib$(DIST).so
  LIBTARGETSOMAJ	= $(LIBTARGETSO).$(VERMAJ)
  CCSHRD		= -fPIC
***************
*** 20,33 ****
  LIBHEAD		= $(DIST).h
  TARGETS		= $(LIBTARGET)
  
! INSTBASEDIR	= /usr/local
  INSTLIBDIR	= $(INSTBASEDIR)/lib
  INSTINCDIR	= $(INSTBASEDIR)/include
! INSTALL		= install -m 644
! INSTALLPROG	= install -m 755
  MKDIRP		= install -d -m 755
  
! CC		= gcc
  OPTIM		= -O2
  
  INCDIR		= -I.
--- 20,34 ----
  LIBHEAD		= $(DIST).h
  TARGETS		= $(LIBTARGET)
  
! PREFIX		?= /usr/local
! INSTBASEDIR	= $(PREFIX)
  INSTLIBDIR	= $(INSTBASEDIR)/lib
  INSTINCDIR	= $(INSTBASEDIR)/include
! INSTALL		= install -c -m 644
! INSTALLPROG	= install -c -m 755
  MKDIRP		= install -d -m 755
  
! CC		?= gcc
  OPTIM		= -O2
  
  INCDIR		= -I.
***************
*** 67,75 ****
  	$(INSTALL) $(LIBTARGET) $(INSTLIBDIR)
  	$(INSTALL) $(LIBHEAD) $(INSTINCDIR)
  ifeq ($(SHARED),1)
! 	ln -sf $(LIBTARGET) $(INSTLIBDIR)/$(LIBTARGETSOMAJ)
! 	ln -sf $(LIBTARGETSOMAJ) $(INSTLIBDIR)/$(LIBTARGETSO)
! 	echo "If you use GNU/Linux, remember to run ldconfig"
  endif
  
  clean:
--- 68,74 ----
  	$(INSTALL) $(LIBTARGET) $(INSTLIBDIR)
  	$(INSTALL) $(LIBHEAD) $(INSTINCDIR)
  ifeq ($(SHARED),1)
! 	ln -sf $(LIBTARGET) $(INSTLIBDIR)/$(LIBTARGETSO)
  endif
  
  clean:
