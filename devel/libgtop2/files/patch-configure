--- configure.orig	Mon Apr 10 15:28:24 2006
+++ configure	Mon Apr 10 15:30:40 2006
@@ -20568,6 +20568,7 @@ else
 	    for def in nothing KERNEL _KERNEL; do
 	      cat >conftest.$ac_ext <<_ACEOF
 #define $def
+#include <sys/types.h>
 #include <sys/ipc.h>
 #include <sys/msg.h>
 #include <stdio.h>
@@ -23458,7 +23459,7 @@ fi
 
 
 case "$host_os" in
-     solaris*)
+     solaris*|freebsd*)
 
 echo "$as_me:$LINENO: checking for kstat_open in -lkstat" >&5
 echo $ECHO_N "checking for kstat_open in -lkstat... $ECHO_C" >&6
