--- configure.orig	Sat Mar  4 04:58:00 2000
+++ configure	Thu Aug 31 18:43:39 2000
@@ -604,9 +604,9 @@
 
 # libtool versioning
 LT_RELEASE=$SDL_MAJOR_VERSION.$SDL_MINOR_VERSION
-LT_CURRENT=`expr $SDL_MICRO_VERSION - $SDL_INTERFACE_AGE`
+LT_CURRENT=$SDL_INTERFACE_AGE
 LT_REVISION=$SDL_INTERFACE_AGE
-LT_AGE=`expr $SDL_BINARY_AGE - $SDL_INTERFACE_AGE`
+LT_AGE=$SDL_INTERFACE_AGE
 
 
 
@@ -4279,8 +4279,6 @@
          #include <vga.h>
          #include <vgamouse.h>
          #include <vgakeyboard.h>
-         #include <linux/kd.h>
-         #include <linux/keyboard.h>
         
 int main() {
 
@@ -4324,7 +4322,7 @@
     ac_save_libs="$LIBS"
     case "$target" in
         *-*-freebsd*)
-            pthread_lib="-lc_r"
+            pthread_lib="-pthread"
             ;;
         *-*-openbsd*)
             pthread_lib="-lc_r"
@@ -4364,7 +4362,7 @@
         echo "$ac_t""$use_pthreads" 1>&6
         if test x$use_pthreads = xyes; then
             CFLAGS="$CFLAGS -D_REENTRANT -DSDL_USE_PTHREADS"
-            SDL_CFLAGS="$SDL_CFLAGS -D_REENTRANT"
+            SDL_CFLAGS="$SDL_CFLAGS -D_REENTRANT -D_THREAD_SAFE"
             SDL_LIBS="$SDL_LIBS $pthread_lib"
         fi
     fi
@@ -4953,8 +4951,10 @@
         ;;
     *-*-freebsd*)
         ARCH=freebsd
+        CheckNASM
         CheckESD
         CheckX11
+        CheckSVGA
         CheckPTHREAD
         # Set up files for the main() stub
         
